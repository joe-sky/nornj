(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{fCbL:function(e,a,n){"use strict";n.r(a);var t=n("55Ip"),l=n("q1tI"),r=n.n(l),m=(n("B2uJ"),n("+su7"),n("qOys")),o=n.n(m);n("5Yjd");a["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"mobxformdata"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxformdata"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFormData"),r.a.createElement("p",null,"\u57fa\u4e8e",r.a.createElement("code",null,"Mobx"),"\u7684\u8f7b\u91cf\u7ea7\u54cd\u5e94\u5f0f",r.a.createElement("code",null,"React"),"\u8868\u5355\u6570\u636e\u7ba1\u7406\u65b9\u6848"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.npmjs.org/package/nornj-react",target:"_blank"},r.a.createElement("img",{src:"http://img.shields.io/npm/v/nornj-react.svg",alt:"NPM Version"}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))),r.a.createElement("a",{href:"https://www.npmjs.org/package/nornj-react",target:"_blank"},r.a.createElement("img",{src:"http://img.shields.io/npm/dm/nornj-react.svg",alt:"NPM Downloads"}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))),r.a.createElement("h2",{id:"\u7279\u5f81"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u7279\u5f81"},r.a.createElement("span",{className:"icon icon-link"})),"\u7279\u5f81"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u2728 \u7b80\u6d01\u7684 JSX API"),r.a.createElement("li",null,"\u2b50 \u57fa\u4e8e ",r.a.createElement("a",{href:"https://github.com/yiminghe/async-validator",target:"_blank"},"async-validator",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u7684\u8f7b\u91cf\u7ea7\u5c01\u88c5"),r.a.createElement("li",null,"\ud83d\udcab \u5b8c\u6574\u7684 ",r.a.createElement("code",null,"Mobx")," \u53ef\u89c2\u5bdf\u7c7b\u578b\u6570\u636e\u9a71\u52a8\u8868\u5355"),r.a.createElement("li",null,"\ud83c\udf1f \u5b8c\u7f8e\u652f\u6301 ",r.a.createElement("a",{href:"https://ant.design/",target:"_blank"},"Ant Design",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u8868\u5355\u63a7\u4ef6\uff08v3 \u6216 v4\uff09"),r.a.createElement("li",null,"\u26a1 \u652f\u6301\u5c40\u90e8\u6e32\u67d3 ",r.a.createElement("code",null,"Form.Item")," \u7ec4\u4ef6"),r.a.createElement("li",null,"\ud83d\udd25 \u53ef\u8131\u79bb ",r.a.createElement("code",null,"Form")," \u7ec4\u4ef6\u72ec\u7acb\u8fd0\u4f5c"),r.a.createElement("li",null,"\ud83d\ude80 \u6613\u4e8e\u5904\u7406\u8de8\u7ec4\u4ef6\u8868\u5355\u6570\u636e\u901a\u4fe1\u573a\u666f")),r.a.createElement("h2",{id:"\u5bf9\u6bd4\u5176\u4ed6\u8868\u5355\u6570\u636e\u7ba1\u7406\u65b9\u6848"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5bf9\u6bd4\u5176\u4ed6\u8868\u5355\u6570\u636e\u7ba1\u7406\u65b9\u6848"},r.a.createElement("span",{className:"icon icon-link"})),"\u5bf9\u6bd4\u5176\u4ed6\u8868\u5355\u6570\u636e\u7ba1\u7406\u65b9\u6848"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"left"}),r.a.createElement("th",{align:"center"},"Ant-Design v3"),r.a.createElement("th",{align:"center"},"Ant-Design v4"),r.a.createElement("th",{align:"center"},"Formily\uff08UForm\uff09"),r.a.createElement("th",{align:"center"},"MobxFormData"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u5e95\u5c42\u9a8c\u8bc1\u6846\u67b6"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"async-validator")),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"async-validator")),r.a.createElement("td",{align:"center"},"@formily/validator"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"async-validator"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"API \u4e0a\u624b\u96be\u5ea6"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u5bb9\u6613"),r.a.createElement("td",{align:"center"},"\u8f83\u96be"),r.a.createElement("td",{align:"center"},"\u5bb9\u6613")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u7ec4\u4ef6\u5916\u7ba1\u7406\u8868\u5355\u6570\u636e"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2b55\uff08\u5b98\u65b9\u4e0d\u63a8\u8350\uff09"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u8de8\u7ec4\u4ef6\u8868\u5355\u6570\u636e\u8054\u52a8"),r.a.createElement("td",{align:"center"},"\u8f83\u96be"),r.a.createElement("td",{align:"center"},"\u5bb9\u6613"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u5bb9\u6613")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u66f4\u65b0\u53ea\u6e32\u67d3\u8868\u5355\u63a7\u4ef6\u81ea\u8eab"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u81ea\u5b9a\u4e49\u8868\u5355\u63a7\u4ef6\u903b\u8f91"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u5bb9\u6613\uff08\u4e0d\u5fc5\u521b\u5efa\u65b0\u7684\u8868\u5355\u7ec4\u4ef6\uff09")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"Mobx \u6570\u636e\u9002\u914d\u6027"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u4e00\u822c"),r.a.createElement("td",{align:"center"},"\u597d\uff08\u76f4\u63a5\u8bfb\u5199\u53ef\u89c2\u5bdf\u503c\u3001\u65e0\u9700\u624b\u5de5 toJS\uff09")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u591a\u91cd\u9a8c\u8bc1\u89c4\u5219"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u81ea\u52a8\u6eda\u52a8\u81f3\u9a8c\u8bc1\u51fa\u9519\u5904"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u5b8c\u6574\u8868\u5355\u751f\u547d\u5468\u671f"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"json \u914d\u7f6e\u5316\u751f\u6210"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"\u9002\u914d\u591a\u4e2a\u7ec4\u4ef6\u5e93"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2716\ufe0f"),r.a.createElement("td",{align:"center"},"\u2b55"),r.a.createElement("td",{align:"center"},"\u2b55\uff08\u672a\u6765\u53ef\u5b9e\u73b0\uff09")))),r.a.createElement("h2",{id:"\u5feb\u901f\u5f00\u59cb"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5feb\u901f\u5f00\u59cb"},r.a.createElement("span",{className:"icon icon-link"})),"\u5feb\u901f\u5f00\u59cb"),r.a.createElement("h3",{id:"\u5b89\u88c5\u4e0e\u914d\u7f6e-babel"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5b89\u88c5\u4e0e\u914d\u7f6e-babel"},r.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u88c5\u4e0e\u914d\u7f6e babel"),r.a.createElement(o.a,{code:"npm install babel-plugin-nornj-in-jsx babel-plugin-import babel-plugin-module-resolver\n",lang:"bash"}),r.a.createElement("p",null,"\u914d\u7f6e",r.a.createElement("code",null,".babelrc"),":"),r.a.createElement(o.a,{code:"{\n  \"plugins\": [\n    [\n      'module-resolver',\n      {\n        alias: {\n          '^antd$': 'nornj-react/antd',\n        },\n        extensions: ['.js', '.jsx', '.ts', '.tsx', '.es', '.es6', '.mjs'],\n      },\n    ],\n    [\n      \"import\",\n      {\n        libraryName: \"nornj-react/antd\",\n        style: false,\n      }\n    ],\n    \"nornj-in-jsx\"\n  ]\n}\n",lang:"js"}),r.a.createElement("h3",{id:"\u5f15\u5165-jsx-\u7c7b\u578b\u5b9a\u4e49"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5f15\u5165-jsx-\u7c7b\u578b\u5b9a\u4e49"},r.a.createElement("span",{className:"icon icon-link"})),"\u5f15\u5165 JSX \u7c7b\u578b\u5b9a\u4e49"),r.a.createElement("p",null,r.a.createElement("code",null,"MobxFormData")," \u6807\u7b7e\u7684 JSX \u7c7b\u578b\u5b9a\u4e49\u9700\u5728\u5168\u5c40\u5f15\u5165\u4e00\u6b21\uff0c\u4f8b\u5982\u5728 APP.jsx\uff1a"),r.a.createElement(o.a,{code:"import 'nornj-react';\n",lang:"js"}),r.a.createElement("h3",{id:"\u4f7f\u7528-jsx-\u6807\u7b7e\u5b9a\u4e49\u8868\u5355\u57df"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u4f7f\u7528-jsx-\u6807\u7b7e\u5b9a\u4e49\u8868\u5355\u57df"},r.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528 JSX \u6807\u7b7e\u5b9a\u4e49\u8868\u5355\u57df"),r.a.createElement("p",null,"\u521b\u5efa ",r.a.createElement("code",null,"MobxFormData")," \u548c ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u63cf\u8ff0\u8868\u5355\u57df\u5404\u53c2\u6570\uff1a"),r.a.createElement(o.a,{code:'<MobxFormData observable>\n  <MobxFieldData name="userName" value="joe_sky" type="string" trigger="onChange" required />\n  <MobxFieldData name="age" value="33" type="number" />\n</MobxFormData>\n',lang:"js"}),r.a.createElement("h3",{id:"\u7ed1\u5b9a\u5230-formitem-\u7ec4\u4ef6"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u7ed1\u5b9a\u5230-formitem-\u7ec4\u4ef6"},r.a.createElement("span",{className:"icon icon-link"})),"\u7ed1\u5b9a\u5230 Form.Item \u7ec4\u4ef6"),r.a.createElement("p",null,"\u4f7f\u7528 ",r.a.createElement("code",null,"n-mobxField")," \u6307\u4ee4\u7ed1\u5b9a\u5230 ",r.a.createElement("code",null,"Form.Item")," \u7ec4\u4ef6\uff0c\u5373\u5b8c\u6210\u4e86\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u54cd\u5e94\u5f0f\u8868\u5355\uff1a"),r.a.createElement(o.a,{code:'const TestForm = observer(props => {\n  const { formData } = useLocalStore(() => (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" trigger="onChange" required />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ));\n\n  const onSubmit = async e => {\n    const values = await formData.validate();\n    console.log(values);\n  };\n\n  return (\n    <>\n      <Form.Item n-mobxField={formData.userName} label="User Name">\n        <Input />\n      </Form.Item>\n      User Name: {formData.userName}\n      <Form.Item n-mobxField={formData.age} label="Age">\n        <Input />\n      </Form.Item>\n      Age: {formData.age}\n      <Button onClick={e => formData.age++}>\u589e\u52a0Age</Button>\n      <Button onClick={e => formData.reset()}>\u91cd\u7f6e</Button>\n      <Button onClick={onSubmit}>\u63d0\u4ea4</Button>\n    </>\n  );\n});\n',lang:"js"}),r.a.createElement("h3",{id:"\u8868\u5355\u54cd\u5e94\u5f0f\u66f4\u65b0"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u8868\u5355\u54cd\u5e94\u5f0f\u66f4\u65b0"},r.a.createElement("span",{className:"icon icon-link"})),"\u8868\u5355\u54cd\u5e94\u5f0f\u66f4\u65b0"),r.a.createElement("p",null,"\u5f53\u6211\u4eec\u624b\u5de5\u4fee\u6539 ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\u4e0a\u7684\u8868\u5355\u503c\uff1b\u6216\u8005\u5728\u6587\u672c\u6846\u5185\u66f4\u6539\u503c\u7684\u65f6\u5019\uff0c\u8868\u5355\u90fd\u4f1a\u81ea\u52a8\u89e6\u53d1\u76f8\u5e94\u7684\u503c\u66f4\u65b0\u53ca\u6821\u9a8c\uff0c\u975e\u5e38\u68d2\u7684\u64cd\u4f5c\u4f53\u9a8c :relaxed: \uff01"),r.a.createElement("h2",{id:"\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684"},r.a.createElement("span",{className:"icon icon-link"})),"\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684"),r.a.createElement("p",null,r.a.createElement("code",null,"MobxFormData")," \u662f\u4e00\u4e2a\u57fa\u4e8e ",r.a.createElement("code",null,"Babel Plugin")," \u7684\u8868\u5355\u6570\u636e\u7ba1\u7406\u65b9\u6848\uff0c\u5373\u4f1a\u5c06\u4e00\u4e9b\u8bed\u6cd5\u7cd6\u8f6c\u6362\u4e3a\u5b9e\u9645\u8fd0\u884c\u7684\u4ee3\u7801\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,"MobxFormData & MobxFieldData")),r.a.createElement("p",null,"\u8f6c\u6362\u524d\uff1a"),r.a.createElement(o.a,{code:'const { formData } = (\n  <MobxFormData observable>\n    <MobxFieldData name="userName" value="joe_sky" type="string" trigger="onChange" required />\n    <MobxFieldData name="age" value="33" type="number" />\n  </MobxFormData>\n);\n',lang:"js"}),r.a.createElement("p",null,"\u8f6c\u6362\u540e\uff1a"),r.a.createElement(o.a,{code:"const { formData } = createFormData({ observable: true }, [\n  {\n    name: 'userName',\n    value: 'joe_sky',\n    type: 'string',\n    trigger: 'onChange',\n    required: true\n  },\n  {\n    name: 'age',\n    value: '33',\n    type: 'number'\n  }\n]);\n",lang:"js"}),r.a.createElement("ul",null,r.a.createElement("li",null,"n-mobxField")),r.a.createElement("p",null,"\u8f6c\u6362\u524d\uff1a"),r.a.createElement(o.a,{code:'<>\n  <Form.Item n-mobxField={formData.userName} label="User Name">\n    <Input />\n  </Form.Item>\n  <Form.Item n-mobxField={formData.age} label="Age">\n    <Input />\n  </Form.Item>\n</>\n',lang:"js"}),r.a.createElement("p",null,"\u8f6c\u6362\u540e\uff1a"),r.a.createElement(o.a,{code:'<>\n  <MobxObserver>\n    <Form.Item n-mobxField={formData.userName} label="User Name">\n      <Input n-mobxBind={formData.userName} />\n    </Form.Item>\n  </MobxObserver>\n  <MobxObserver>\n    <Form.Item n-mobxField={formData.age} label="Age">\n      <Input n-mobxBind={formData.age} />\n    </Form.Item>\n  </MobxObserver>\n</>\n',lang:"js"}),r.a.createElement("h2",{id:"\u4f7f\u7528\u65b9\u6cd5"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u4f7f\u7528\u65b9\u6cd5"},r.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528\u65b9\u6cd5"),r.a.createElement("h3",{id:"mobxformdata--mobxfielddata"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxformdata--mobxfielddata"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFormData & MobxFieldData"),r.a.createElement("p",null,"\u4f7f\u7528 ",r.a.createElement("code",null,"MobxFormData")," \u548c ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\uff08\u53c2\u6570\u8bf7\u53c2\u8003 ",r.a.createElement("a",{href:"#mobxformdataprops"},"MobxFormDataProps")," \u548c ",r.a.createElement("a",{href:"#mobxfielddataprops"},"MobxFieldDataProps"),"\uff09\u6765\u63cf\u8ff0\u8868\u5355\u6570\u636e\uff0c\u5b83\u7684\u8fd4\u56de\u503c\u662f ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\uff08",r.a.createElement("a",{href:"#mobxformdatainstance"},"MobxFormDataInstance"),"\uff09\uff1a"),r.a.createElement(o.a,{code:'const { formData } = (\n  <MobxFormData observable>\n    <MobxFieldData name="userName" value="joe_sky" type="string" />\n    <MobxFieldData name="age" value="33" type="number" />\n  </MobxFormData>\n);\n',lang:"js"}),r.a.createElement("p",null,"\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8be5\u5b9e\u4f8b\u5bf9\u8868\u5355\u6267\u884c\u5404\u79cd\u64cd\u4f5c\uff1a"),r.a.createElement(o.a,{code:"//\u91cd\u65b0\u8bbe\u7f6e\u503c\nformData.name = 'joe';\nformData.setValue({ userName: 'joe', age: 34 });\n\n//\u6821\u9a8c\nformData.validate('userName');\nformData.validate(['userName', 'age']);\nformData.validate();\n",lang:"js"}),r.a.createElement("ul",null,r.a.createElement("li",null,"\u591a\u91cd\u9a8c\u8bc1\u89c4\u5219")),r.a.createElement("p",null,"\u53ef\u4ee5\u5728 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u7684 ",r.a.createElement("code",null,"rules")," \u5c5e\u6027\u4e0a\u8bbe\u7f6e\u591a\u4e2a\u9a8c\u8bc1\u89c4\u5219\uff08\u7c7b\u578b\u4e3a ",r.a.createElement("a",{href:"#ruleitem"},"RuleItem"),"\uff09\uff0c\u5b83\u4eec\u4f1a\u4f9d\u6b21\u8fdb\u884c\u9a8c\u8bc1\u5e76\u8f93\u51fa\u5404\u81ea\u7684\u9519\u8bef\u4fe1\u606f\uff1a"),r.a.createElement(o.a,{code:"const { formData } = (\n  <MobxFormData observable>\n    <MobxFieldData\n      name=\"userName\"\n      value=\"joe_sky\"\n      rules={[\n        { type: 'string', required: true, message: '\u4e0d\u80fd\u4e3a\u7a7a' },\n        { type: 'string', min: 3, message: '\u81f3\u5c11\u8f93\u51653\u4e2a\u5b57\u7b26' }\n      ]}\n      trigger=\"onChange\"\n    />\n  </MobxFormData>\n);\n",lang:"js"}),r.a.createElement("h3",{id:"n-mobxfield"},r.a.createElement("a",{"aria-hidden":"true",href:"#n-mobxfield"},r.a.createElement("span",{className:"icon icon-link"})),"n-mobxField"),r.a.createElement("p",null,"\u4f7f\u7528 ",r.a.createElement("code",null,"n-mobxField")," \u6307\u4ee4\u5c06 ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\u7ed1\u5b9a\u5230 ",r.a.createElement("code",null,"Form.Item")," \u7ec4\u4ef6\uff0c\u5c06\u6307\u4ee4\u7684\u503c\u8bbe\u7f6e\u4e3a ",r.a.createElement("code",null,"formData#fieldName")," \u5373\u53ef\uff1a"),r.a.createElement(o.a,{code:'<>\n  <Form.Item n-mobxField={formData.userName} label="User Name">\n    <Input />\n  </Form.Item>\n  <Form.Item n-mobxField={formData.age} label="Age">\n    <Input />\n  </Form.Item>\n</>\n',lang:"js"}),r.a.createElement("blockquote",null,r.a.createElement("p",null,"\u6b64\u79cd\u65b9\u5f0f\u53ef\u89e3\u51b3\u7edd\u5927\u591a\u6570\u8868\u5355\u6570\u636e\u6821\u9a8c\u573a\u666f\uff0c\u5b83\u5b9e\u9645\u4e0a\u81ea\u52a8\u4e3a ",r.a.createElement("code",null,"Form.Item")," \u4e0b\u5c42\u7684\u8868\u5355\u5143\u7d20\u7ec4\u4ef6\u8bbe\u7f6e\u4e86 ",r.a.createElement(t["a"],{to:"./directives.md#n-mobxbind"},"n-mobxBind")," \u6307\u4ee4\u3002")),r.a.createElement("p",null,"\u5982\u679c ",r.a.createElement("code",null,"n-mobxField")," \u6709\u4e0d\u6ee1\u8db3\u9700\u6c42\u7684\u573a\u666f\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u81ea\u884c\u7f16\u5199\u8868\u5355\u5143\u7d20\u7ec4\u4ef6\u7684\u5404\u79cd\u53c2\u6570\u4e0e\u903b\u8f91\uff0c\u589e\u52a0 ",r.a.createElement("code",null,"noBind")," \u53c2\u6570\u5373\u53ef\uff1a"),r.a.createElement(o.a,{code:'const TestForm = observer(props => {\n  const { formData } = useLocalStore(() => (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ));\n\n  return (\n    <>\n      <Form.Item n-mobxField-noBind={formData.userName} label="User Name">\n        <Input n-mobxBind={formData.userName} />\n        <Input value={\'Age\uff1a\' + formData.age} />\n      </Form.Item>\n      <Form.Item n-mobxField-noBind={formData.age} label="Age">\n        <Input value={(formData.age + \'\').trim()} onChange={e => (formData.age = e.target.value)} />\n      </Form.Item>\n    </>\n  );\n});\n',lang:"js"}),r.a.createElement("p",null,"\u53e6\u5916 ",r.a.createElement("code",null,"n-mobxField")," \u4e5f\u652f\u6301\u4f7f\u7528 ",r.a.createElement("code",null,"n-mobxBind")," \u7684\u53c2\u6570\u548c\u4fee\u9970\u7b26\uff1a"),r.a.createElement(o.a,{code:'<>\n  <Form.Item n-mobxField-debounce$200={formData.userName} label="User Name">\n    <Input onChange={e => console.log(formData.userName)} />\n  </Form.Item>\n</>\n',lang:"js"}),r.a.createElement("ul",null,r.a.createElement("li",null,"\u7ed1\u5b9a\u52a8\u6001\u6570\u636e")),r.a.createElement("p",null,r.a.createElement("code",null,"n-mobxField")," \u4e5f\u53ef\u4ee5\u652f\u6301\u7ed1\u5b9a\u52a8\u6001\u6570\u636e\uff0c\u8bed\u6cd5\u7a0d\u6709\u4e0d\u540c\uff1a"),r.a.createElement(o.a,{code:"<Each of={users}>\n  <Form.Item n-mobxField={`formData[item.userName]`} label={item.userName}>\n    <Input />\n  </Form.Item>\n</Each>\n",lang:"js"}),r.a.createElement("h3",{id:"react-hooks"},r.a.createElement("a",{"aria-hidden":"true",href:"#react-hooks"},r.a.createElement("span",{className:"icon icon-link"})),"React hooks"),r.a.createElement("p",null,"\u4f7f\u7528 ",r.a.createElement("code",null,"mobx-react")," \u5305\u63d0\u4f9b\u7684 ",r.a.createElement("a",{href:"https://mobx-react.js.org/state-local",target:"_blank"},"useLocalStore",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u5373\u53ef\uff0c\u5728\u5b83\u7684\u53c2\u6570\u4e2d\u4f20\u5165 ",r.a.createElement("code",null,"MobxFormData")," \u6807\u7b7e\uff1a"),r.a.createElement(o.a,{code:'const TestForm = observer(props => {\n  const { formData: formDataUser } = useLocalStore(() => (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ));\n\n  return (\n    <>\n      <Form.Item n-mobxField={formDataUser.userName} label="User Name">\n        <Input />\n      </Form.Item>\n      <Form.Item n-mobxField={formDataUser.age} label="Age">\n        <Input />\n      </Form.Item>\n    </>\n  );\n};\n',lang:"js"}),r.a.createElement("ul",null,r.a.createElement("li",null,"\u66f4\u65b0\u8868\u5355\u503c")),r.a.createElement("p",null,"\u4f8b\u5982\u5728 hooks \u573a\u666f\u4ece\u540e\u53f0\u63a5\u53e3\u521d\u6b21\u66f4\u65b0\u8868\u5355\u503c\uff0c\u901a\u5e38\u53ef\u4ee5\u5728 ",r.a.createElement("code",null,"useEffect")," \u4e2d\u64cd\u4f5c\uff1a"),r.a.createElement(o.a,{code:'const TestForm = observer(props => {\n  const { formData: formDataUser } = useLocalStore(() => (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ));\n\n  useEffect(() => {\n    api.getUserInfo().then(values => {\n      formDataUser.setValue(values);\n    });\n  }, []);\n\n  ...\n};\n',lang:"js"}),r.a.createElement("h3",{id:"react-class-\u7ec4\u4ef6"},r.a.createElement("a",{"aria-hidden":"true",href:"#react-class-\u7ec4\u4ef6"},r.a.createElement("span",{className:"icon icon-link"})),"React class \u7ec4\u4ef6"),r.a.createElement("p",null,"\u5728 class \u7ec4\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 ",r.a.createElement("code",null,"MobxFormData")," \u6807\u7b7e\u521b\u5efa ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\uff1a"),r.a.createElement(o.a,{code:'@observer\nclass TestForm extends React.Component {\n  @observable formDataUser = (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ).formData;\n\n  render() {\n    return (\n      <>\n        <Form.Item n-mobxField={this.formDataUser.userName} label="User Name">\n          <Input />\n        </Form.Item>\n        <Form.Item n-mobxField={this.formDataUser.age} label="Age">\n          <Input />\n        </Form.Item>\n      </>\n    );\n  }\n}\n',lang:"js"}),r.a.createElement("ul",null,r.a.createElement("li",null,"\u66f4\u65b0\u8868\u5355\u503c")),r.a.createElement("p",null,"\u4f8b\u5982\u5728 class \u7ec4\u4ef6\u573a\u666f\u4ece\u540e\u53f0\u63a5\u53e3\u521d\u6b21\u66f4\u65b0\u8868\u5355\u503c\uff0c\u901a\u5e38\u53ef\u4ee5\u5728 ",r.a.createElement("code",null,"componentDidMount")," \u4e2d\u64cd\u4f5c\uff1a"),r.a.createElement(o.a,{code:'@observer\nclass TestForm extends React.Component {\n  @observable formDataUser = (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ).formData;\n\n  componentDidMount() {\n    api.getUserInfo().then(values => {\n      this.formDataUser.setValue(values);\n    });\n  }\n\n  ...\n}\n',lang:"js"}),r.a.createElement("h3",{id:"\u5728-mobx-store-\u4e2d\u5b9a\u4e49"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5728-mobx-store-\u4e2d\u5b9a\u4e49"},r.a.createElement("span",{className:"icon icon-link"})),"\u5728 Mobx Store \u4e2d\u5b9a\u4e49"),r.a.createElement("p",null,r.a.createElement("code",null,"MobxFormData")," \u5728\u7ec4\u4ef6\u5916\u7ba1\u7406\u8868\u5355\u6570\u636e\u662f\u975e\u5e38\u5bb9\u6613\u7684\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u652f\u6301\u5728 ",r.a.createElement("code",null,"Store")," \u5185\u5b9a\u4e49\uff1a"),r.a.createElement(o.a,{code:'class TestStore {\n  @observable userList = [];\n  @observable formDataUser = (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ).formData;\n\n  async getData(params) {\n    const res = await api.getModData(params);\n    this.formDataUser.userName = res.data.userName;\n    this.formDataUser.age = res.data.age;\n  }\n}\n',lang:"js"}),r.a.createElement("p",null,"\u7136\u540e\u5728\u7ec4\u4ef6\u4e2d\u7ed1\u5b9a\u5230 ",r.a.createElement("code",null,"Form.Item")," \u5c31\u53ef\u4ee5\u4e86\uff1a"),r.a.createElement(o.a,{code:'@observer\nclass TestForm extends React.Component {\n  render() {\n    const { formDataUser } = this.props.store.testStore;\n\n    return (\n      <>\n        <Form.Item n-mobxField={formDataUser.userName} label="User Name">\n          <Input />\n        </Form.Item>\n        <Form.Item n-mobxField={formDataUser.age} label="Age">\n          <Input />\n        </Form.Item>\n      </>\n    );\n  }\n}\n',lang:"js"}),r.a.createElement("h2",{id:"api"},r.a.createElement("a",{"aria-hidden":"true",href:"#api"},r.a.createElement("span",{className:"icon icon-link"})),"API"),r.a.createElement("h3",{id:"\u8bbe\u7f6e\u503c"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u8bbe\u7f6e\u503c"},r.a.createElement("span",{className:"icon icon-link"})),"\u8bbe\u7f6e\u503c"),r.a.createElement("p",null,"\u901a\u5e38\u6211\u4eec\u76f4\u63a5\u5bf9 ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\u4e0a\u7684\u8868\u5355\u503c\u8fdb\u884c\u5199\u64cd\u4f5c\u5373\u53ef\uff0c\u4e0e ",r.a.createElement("code",null,"Mobx")," \u53ef\u89c2\u5bdf\u7c7b\u578b\u884c\u4e3a\u5b8c\u5168\u4e00\u81f4\uff1a"),r.a.createElement(o.a,{code:"formData.name = 'joe';\n",lang:"js"}),r.a.createElement("p",null,"\u4e5f\u53ef\u4ee5\u4e00\u6b21\u8bbe\u7f6e\u591a\u4e2a\u503c\uff1a"),r.a.createElement(o.a,{code:"formData.setValue({ userName: 'joe', age: 34 });\n",lang:"js"}),r.a.createElement("blockquote",null,r.a.createElement("p",null,"\u53e6\u5916\uff0c\u5373\u4f7f\u662f\u5728 ",r.a.createElement("code",null,"Mobx")," \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u76f4\u63a5\u8fdb\u884c\u5199\u64cd\u4f5c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u9519\u8bef\uff0c\u56e0\u4e3a\u5185\u90e8\u4f7f\u7528\u4e86 ",r.a.createElement("code",null,"action")," \u8fdb\u884c\u8d4b\u503c\u3002")),r.a.createElement("h3",{id:"\u9a8c\u8bc1"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u9a8c\u8bc1"},r.a.createElement("span",{className:"icon icon-link"})),"\u9a8c\u8bc1"),r.a.createElement("p",null,"\u8c03\u7528 ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\u4e0a\u7684 ",r.a.createElement("code",null,"validate")," \u65b9\u6cd5\u53ef\u8fdb\u884c\u624b\u5de5\u9a8c\u8bc1\u64cd\u4f5c\uff1a"),r.a.createElement(o.a,{code:"//\u9a8c\u8bc1\u5355\u4e2a\u57df\nformData.validate('userName');\n\n//\u9a8c\u8bc1\u591a\u4e2a\u57df\nformData.validate(['userName', 'age']);\n\n//\u9a8c\u8bc1\u5168\u90e8\u57df\nformData.validate();\n",lang:"js"}),r.a.createElement("p",null,"\u8fd4\u56de\u503c\u4e3a ",r.a.createElement("code",null,"Promise"),"\uff1a"),r.a.createElement(o.a,{code:"formData\n  .validate()\n  .then(values => {\n    console.log(values);\n    /*\n    {\n      userName: 'joe',\n      age: 33\n    }\n  */\n  })\n  .catch(errorInfo => {\n    console.log(errorInfo);\n    /*\n    {\n      values: {\n        userName: 'joe',\n        age: 33\n      },\n      errors: [ { message: 'age is not a number', field: 'age' } ]\n    }\n  */\n  });\n",lang:"js"}),r.a.createElement("h3",{id:"\u91cd\u7f6e"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u91cd\u7f6e"},r.a.createElement("span",{className:"icon icon-link"})),"\u91cd\u7f6e"),r.a.createElement("p",null,"\u91cd\u7f6e\u4f1a\u4f7f\u8868\u5355\u57df\u6062\u590d\u5230\u521d\u59cb\u503c\uff0c\u5e76\u4e14\u6e05\u9664\u9519\u8bef\u72b6\u6001\uff1a"),r.a.createElement(o.a,{code:"//\u91cd\u7f6e\u5355\u4e2a\u57df\nformData.reset('userName');\n\n//\u91cd\u7f6e\u591a\u4e2a\u57df\nformData.reset(['userName', 'age']);\n\n//\u91cd\u7f6e\u5168\u90e8\u57df\nformData.reset();\n",lang:"js"}),r.a.createElement("p",null,"\u5404\u8868\u5355\u57df\u521d\u59cb\u503c\u5373\u4e3a\u5728 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u4e0a\u8bbe\u7f6e\u7684 ",r.a.createElement("code",null,"value")," \u53c2\u6570\uff1a"),r.a.createElement(o.a,{code:'<MobxFieldData name="userName" value="joe_sky" />\n',lang:"js"}),r.a.createElement("h3",{id:"\u6e05\u9664\u72b6\u6001"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u6e05\u9664\u72b6\u6001"},r.a.createElement("span",{className:"icon icon-link"})),"\u6e05\u9664\u72b6\u6001"),r.a.createElement("p",null,"\u6e05\u9664\u8868\u5355\u57df\u7684\u9519\u8bef\u72b6\u6001\uff1a"),r.a.createElement(o.a,{code:"//\u6e05\u9664\u5355\u4e2a\u57df\nformData.clear('userName');\n\n//\u6e05\u9664\u591a\u4e2a\u57df\nformData.clear(['userName', 'age']);\n\n//\u6e05\u9664\u5168\u90e8\u57df\nformData.clear();\n",lang:"js"}),r.a.createElement("h3",{id:"\u8bbe\u7f6e\u9519\u8bef\u72b6\u6001"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u8bbe\u7f6e\u9519\u8bef\u72b6\u6001"},r.a.createElement("span",{className:"icon icon-link"})),"\u8bbe\u7f6e\u9519\u8bef\u72b6\u6001"),r.a.createElement("p",null,"\u53ef\u4ee5\u624b\u5de5\u8bbe\u7f6e\u8868\u5355\u57df\u4e3a\u9519\u8bef\u72b6\u6001\u53ca\u81ea\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f\uff1a"),r.a.createElement(o.a,{code:"formData.error('userName', '\u7528\u6237\u540d\u5df2\u5b58\u5728');\n",lang:"js"}),r.a.createElement("h3",{id:"\u81ea\u5b9a\u4e49\u9a8c\u8bc1"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u81ea\u5b9a\u4e49\u9a8c\u8bc1"},r.a.createElement("span",{className:"icon icon-link"})),"\u81ea\u5b9a\u4e49\u9a8c\u8bc1"),r.a.createElement("p",null,"\u5728 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u7684 ",r.a.createElement("code",null,"validator")," \u53c2\u6570\u7684\u51fd\u6570\u5185\u90e8\u7f16\u5199\u903b\u8f91\u5373\u53ef\u5b9e\u73b0\u81ea\u5b9a\u4e49\u9a8c\u8bc1\uff1a"),r.a.createElement(o.a,{code:'<MobxFieldData\n  name="userName"\n  value="joe_sky"\n  type="string"\n  required\n  validator={(rule, value) => {\n    if (value == \'joe\') {\n      return new Error(\'\u7528\u6237\u540d\u5df2\u5b58\u5728\');\n    }\n    return true;\n  }}\n/>\n',lang:"js"}),r.a.createElement("p",null,"\u5177\u4f53\u53ef\u53c2\u8003 ",r.a.createElement("a",{href:"https://github.com/yiminghe/async-validator#validator",target:"_blank"},"async-validator",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))),"\u3002"),r.a.createElement("h3",{id:"\u5f02\u6b65\u81ea\u5b9a\u4e49\u9a8c\u8bc1"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u5f02\u6b65\u81ea\u5b9a\u4e49\u9a8c\u8bc1"},r.a.createElement("span",{className:"icon icon-link"})),"\u5f02\u6b65\u81ea\u5b9a\u4e49\u9a8c\u8bc1"),r.a.createElement("p",null,"\u5728 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u7684 ",r.a.createElement("code",null,"asyncValidator")," \u53c2\u6570\u7684\u51fd\u6570\u5185\u90e8\u7f16\u5199\u903b\u8f91\u5373\u53ef\u5b9e\u73b0\u5f02\u6b65\u81ea\u5b9a\u4e49\u9a8c\u8bc1\uff1a"),r.a.createElement(o.a,{code:'<MobxFieldData\n  name="userName"\n  value="joe_sky"\n  type="string"\n  required\n  asyncValidator={(rule, value, callback) => {\n    api.getUserName().then(userName => {\n      if (userName == \'joe\') {\n        callback(new Error(\'\u7528\u6237\u540d\u5df2\u5b58\u5728\'));\n      } else {\n        callback();\n      }\n    });\n  }}\n/>\n',lang:"js"}),r.a.createElement("p",null,"\u5177\u4f53\u53ef\u53c2\u8003 ",r.a.createElement("a",{href:"https://github.com/yiminghe/async-validator#asyncvalidator",target:"_blank"},"async-validator",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}))),"\u3002"),r.a.createElement("h3",{id:"\u89e6\u53d1\u9a8c\u8bc1\u65f6\u673a"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u89e6\u53d1\u9a8c\u8bc1\u65f6\u673a"},r.a.createElement("span",{className:"icon icon-link"})),"\u89e6\u53d1\u9a8c\u8bc1\u65f6\u673a"),r.a.createElement("p",null,"\u4f7f\u7528 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u7684 ",r.a.createElement("code",null,"trigger")," \u53c2\u6570\u53ef\u8bbe\u7f6e\u89e6\u53d1\u8868\u5355\u57df\u9a8c\u8bc1\u7684\u65f6\u673a\uff0c\u9ed8\u8ba4\u503c\u4e3a ",r.a.createElement("code",null,"valueChange"),"\uff0c\u5373\u5728 ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\u4e0a\u7684\u8868\u5355\u57df\u503c\u6539\u53d8\u65f6\u89e6\u53d1\u3002"),r.a.createElement("p",null,"\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06 ",r.a.createElement("code",null,"trigger")," \u8bbe\u7f6e\u4e3a\u8868\u5355\u63a7\u4ef6\u7684\u4e8b\u4ef6\u540d\u79f0\u6765\u6539\u53d8\u89e6\u53d1\u9a8c\u8bc1\u65f6\u673a\uff0c\u5982 ",r.a.createElement("code",null,"onBlur")," \uff1a"),r.a.createElement(o.a,{code:'<MobxFieldData name="userName" value="joe_sky" type="string" required trigger="onBlur" />\n',lang:"js"}),r.a.createElement("p",null,"\u5982\u679c\u60f3\u5b8c\u5168\u624b\u5de5\u63a7\u5236\u89e6\u53d1\u9a8c\u8bc1\uff0c\u5219\u53ef\u4ee5\u8bbe\u7f6e\u4e3a ",r.a.createElement("code",null,"none"),"\uff1a"),r.a.createElement(o.a,{code:'<MobxFieldData name="userName" value="joe_sky" type="string" required trigger="none" />\n',lang:"js"}),r.a.createElement("h3",{id:"\u52a8\u6001\u521b\u5efa\u5220\u9664"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u52a8\u6001\u521b\u5efa\u5220\u9664"},r.a.createElement("span",{className:"icon icon-link"})),"\u52a8\u6001\u521b\u5efa/\u5220\u9664"),r.a.createElement("p",null,"\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u52a8\u6001\u751f\u6210 ",r.a.createElement("code",null,"MobxFormData")," \u6807\u7b7e\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a"),r.a.createElement(o.a,{code:"class TestStore {\n  @observable userList = ['joe', 'sky'];\n  formDataUser;\n\n  constructor() {\n    this.formDataUser = (\n      <MobxFormData observable>\n        <each of={this.userList}>\n          <MobxFieldData name={`user${index}`} value={item} type=\"string\" />\n        </each>\n      </MobxFormData>\n    ).formData;\n  }\n}\n",lang:"js"}),r.a.createElement("p",null,"\u5df2\u751f\u6210\u597d\u7684 ",r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",r.a.createElement("code",null,"add")," \u6216 ",r.a.createElement("code",null,"delete")," \u65b9\u6cd5\u6dfb\u52a0/\u5220\u9664 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\uff1a"),r.a.createElement(o.a,{code:'class TestStore {\n  @observable userList = [\'joe\', \'sky\'];\n  @observable formDataUser = (\n    <MobxFormData>\n      <MobxFieldData name="userName" value="joe_sky" type="string" />\n      <MobxFieldData name="age" value="33" type="number" />\n    </MobxFormData>\n  ).formData;\n\n  add() {\n    this.formDataUser.add(<MobxFieldData name="worked" value={true} type="boolean" />);\n  }\n\n  delete() {\n    this.formDataUser.delete(\'age\');\n  }\n}\n',lang:"js"}),r.a.createElement("h3",{id:"\u67e5\u627e\u904d\u5386"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u67e5\u627e\u904d\u5386"},r.a.createElement("span",{className:"icon icon-link"})),"\u67e5\u627e/\u904d\u5386"),r.a.createElement("p",null,r.a.createElement("code",null,"formData")," \u5b9e\u4f8b\u4e2d\u6709\u4e00\u4e2a\u540d\u4e3a ",r.a.createElement("code",null,"fieldDatas")," \u7684 Map \u7c7b\u578b\u6210\u5458\uff0c\u5b83\u91cc\u9762\u4fdd\u5b58\u4e86\u6240\u6709 ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u751f\u6210\u7684 ",r.a.createElement("code",null,"fieldData")," \u5b9e\u4f8b\uff08\u7c7b\u578b\u4e3a ",r.a.createElement("a",{href:"#mobxfielddatainstance"},"MobxFieldDataInstance"),"\uff09\u3002"),r.a.createElement("p",null,"\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u627e\u67d0\u4e2a\u8868\u5355\u57df\u5b9e\u4f8b\uff1a"),r.a.createElement(o.a,{code:"formData.fieldDatas.get('userName');\nformData.fieldDatas.has('age');\n",lang:"js"}),r.a.createElement("p",null,"\u8fd8\u53ef\u4ee5\u8fd9\u6837\u904d\u5386\u8868\u5355\u57df\u5b9e\u4f8b\u751f\u6210 ",r.a.createElement("code",null,"Form.Item")," \u7ec4\u4ef6\uff1a"),r.a.createElement(o.a,{code:"@observer\nclass TestForm extends React.Component {\n  render() {\n    const { formDataUser } = this.props.store.testStore;\n\n    return (\n      <each of={[...formDataUser.fieldDatas.keys()]}>\n        <Form.Item n-mobxField={`formDataUser[item]`} label={item}>\n          <Input />\n        </Form.Item>\n      </each>\n    );\n  }\n}\n",lang:"js"}),r.a.createElement("p",null,"\u5982\u679c\u904d\u5386\u751f\u6210\u7684 ",r.a.createElement("code",null,"Form.Item")," \u7ec4\u4ef6\u7684\u5b50\u8282\u70b9\u4e2d\u5b58\u5728\u903b\u8f91\u5224\u65ad\uff0c\u5219\u9700\u8981\u4f7f\u7528 ",r.a.createElement("code",null,"n-mobxBind")," \u624b\u5de5\u7ed1\u5b9a\u8868\u5355\u63a7\u4ef6\uff1a"),r.a.createElement(o.a,{code:"<each of={[...formDataUser.fieldDatas.keys()]}>\n  <Form.Item n-mobxField-noBind={`formDataUser[item]`} label={item}>\n    <if condition={item == 'userName'}>\n      <Input n-mobxBind={`formDataUser[item]`} />\n      <else>\n        <Input.TextArea n-mobxBind={`formDataUser[item]`} />\n      </else>\n    </if>\n  </Form.Item>\n</each>\n",lang:"js"}),r.a.createElement("h2",{id:"types"},r.a.createElement("a",{"aria-hidden":"true",href:"#types"},r.a.createElement("span",{className:"icon icon-link"})),"Types"),r.a.createElement("h3",{id:"ruletype"},r.a.createElement("a",{"aria-hidden":"true",href:"#ruletype"},r.a.createElement("span",{className:"icon icon-link"})),"RuleType"),r.a.createElement("p",null,r.a.createElement("code",null,"RuleType")," \u5305\u542b\u6240\u6709\u7684\u9a8c\u8bc1\u7c7b\u578b\uff0c\u7531 ",r.a.createElement("a",{href:"https://github.com/yiminghe/async-validator/blob/master/src/index.d.ts#L23",target:"_blank"},"async-validator",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u63d0\u4f9b\u3002"),r.a.createElement(o.a,{code:"type RuleType =\n  | 'string'\n  | 'number'\n  | 'boolean'\n  | 'method'\n  | 'regexp'\n  | 'integer'\n  | 'float'\n  | 'array'\n  | 'object'\n  | 'enum'\n  | 'date'\n  | 'url'\n  | 'hex'\n  | 'email'\n  | 'any';\n",lang:"js"}),r.a.createElement("h3",{id:"ruleitem"},r.a.createElement("a",{"aria-hidden":"true",href:"#ruleitem"},r.a.createElement("span",{className:"icon icon-link"})),"RuleItem"),r.a.createElement("p",null,r.a.createElement("code",null,"RuleItem")," \u5305\u542b ",r.a.createElement("code",null,"MobxFieldData")," \u6807\u7b7e\u4e0a\u6240\u6709\u7531 ",r.a.createElement("a",{href:"https://github.com/yiminghe/async-validator/blob/master/src/index.d.ts#L40",target:"_blank"},"async-validator",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r.a.createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r.a.createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))," \u63d0\u4f9b\u7684\u53c2\u6570\u3002"),r.a.createElement(o.a,{code:"interface RuleItem {\n  type?: RuleType; // default type is 'string'\n  required?: boolean;\n  pattern?: RegExp | string;\n  min?: number; // Range of type 'string' and 'array'\n  max?: number; // Range of type 'string' and 'array'\n  len?: number; // Length of type 'string' and 'array'\n  enum?: Array<string | number | boolean | null | undefined>; // possible values of type 'enum'\n  whitespace?: boolean;\n  fields?: Rules; // ignore when without required\n  options?: ValidateOption;\n  defaultField?: { type: RuleType }; // 'object' or 'array' containing validation rules\n  transform?: (value: any) => any;\n  message?: string;\n  asyncValidator?: (\n    rule: Rules,\n    value: any,\n    callback: (error: string | string[] | void) => void,\n    source: ValidateSource,\n    options: ValidateOption\n  ) => void | Promise<void>;\n  validator?: (\n    rule: Rules,\n    value: any,\n    callback: (error: string | string[] | void) => void,\n    source: ValidateSource,\n    options: ValidateOption\n  ) => void;\n}\n",lang:"js"}),r.a.createElement("h3",{id:"mobxfielddataprops"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxfielddataprops"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFieldDataProps"),r.a.createElement(o.a,{code:"interface MobxFieldDataProps extends RuleItem {\n  name: string;\n  value?: any;\n  trigger?: string;\n  rules?: RuleItem[];\n  [key: string]: any;\n}\n",lang:"js"}),r.a.createElement("h3",{id:"mobxfielddata"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxfielddata"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFieldData"),r.a.createElement(o.a,{code:"interface MobxFieldData {\n  (props: MobxFieldDataProps): JSX.Element;\n}\n",lang:"js"}),r.a.createElement("h3",{id:"mobxfielddatainstance"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxfielddatainstance"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFieldDataInstance"),r.a.createElement(o.a,{code:"interface MobxFieldDataInstance extends MobxFieldDataProps, IObservableObject {\n  validatorSchema?: schema;\n  reset?: Function;\n  validateStatus?: string;\n  help?: string;\n}\n",lang:"js"}),r.a.createElement("h3",{id:"mobxformdataprops"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxformdataprops"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFormDataProps"),r.a.createElement(o.a,{code:"interface MobxFormDataProps {\n  observable?: boolean; //\u4e3atrue\u5219\u9ed8\u8ba4\u751f\u6210Mobx\u53ef\u89c2\u5bdf\u7c7b\u578b\uff0c\u5426\u5219\u53ea\u8fd4\u56de\u539f\u751f\u5bf9\u8c61\n}\n",lang:"js"}),r.a.createElement("h3",{id:"mobxformdata-1"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxformdata-1"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFormData"),r.a.createElement(o.a,{code:"interface MobxFormData {\n  (props: MobxFormDataProps): JSX.Element;\n}\n",lang:"js"}),r.a.createElement("h3",{id:"mobxformdatainstance"},r.a.createElement("a",{"aria-hidden":"true",href:"#mobxformdatainstance"},r.a.createElement("span",{className:"icon icon-link"})),"MobxFormDataInstance"),r.a.createElement(o.a,{code:"interface MobxFormDataInstance extends IObservableObject {\n  fieldDatas: Map<string, MobxFieldDataInstance>;\n  validate(name: string | string[]): Promise<any>;\n  error(name: string, help: string): void;\n  clear(name: string | string[]): void;\n  reset(name: string | string[]): void;\n  add(fieldData: MobxFieldDataProps | JSX.Element): void;\n  delete(name: string): void;\n  setValue(name: string | object, value?: any): void;\n  [key: string]: any;\n}\n",lang:"js"})))}}}]);