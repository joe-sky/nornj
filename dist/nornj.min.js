/*!
* NornJ template engine v5.0.0-rc.13
* (c) 2016-2019 Joe_Sky
* Released under the MIT License.
*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).NornJ={})}(this,function(e){"use strict";function z(){return z["taggedTmpl"+(z.outputH?"H":"")].apply(null,arguments)}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,a=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(t=(l=s.next()).done)&&(r.push(l.value),!n||r.length!==n);t=!0);}catch(e){a=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}z.createElement=null,z.components={},z.componentConfig=new Map,z.preAsts={},z.asts={},z.templates={},z.errorTitle="[NornJ]",z.tmplRule={},z.outputH=!1,z.global="undefined"!=typeof self?self:global,z.textTag="nj-text",z.textMode=!1,z.noWsTag="nj-noWs",z.noWsMode=!1,z.fixTagName=!0;var t=Array.prototype.push,a=Array.prototype.slice,i=Object.prototype.hasOwnProperty,n=Object.prototype.toString,l=z.errorTitle,x=Object.defineProperty,b=Object.defineProperties;function C(e,n){return t.apply(e,n),e}function s(e,n,r){return a.call(e,n,r)}function O(e){return Array.isArray(e)}function d(e){var n=r(e);return!O(e)&&("function"===n||"object"===n&&!!e)}function o(e){return"[object Number]"===n.call(e)}function k(e){return"[object String]"===n.call(e)}var u,c=(u="length",function(e){return null==e?void 0:e[u]});function p(e){var n=c(e);return"number"==typeof n&&0<=n}function F(e,n,r){if(e)if(null==r&&(r=p(e)),r)for(var t=0,a=e.length;t<a;t++){if(!1===n.call(e,e[t],t,a))break}else for(var i=Object.keys(e),l=i.length,s=0;s<l;s++){var o=i[s];if(!1===n.call(e,e[o],o,s,l))break}}var f=/(\n|\r)?[\s\xA0]+$/;function E(e){return e.replace(f,function(e,n){return n?"\n":""})}function m(){}function v(e,n,r){if(!e)switch(r){case"ex":throw Error(l+'Extension tag "'+n+'" is undefined, please check it has been registered.');default:throw Error(l+(n||e))}}function g(e,n){switch(n){case"f":e='A filter called "'+e+'" is undefined.'}console.warn(l+e)}function h(e){console.error(l+e)}function H(){return Object.create(null)}var y=/["]+/g,_=/[']+/g;function P(e,n){if(null!=e){var r;if(null==n){var t=e[0];"'"===t?r=_:'"'===t&&(r=y)}else r=n?y:_;return r&&(e=e.replace(r,"")),e}}function j(e){return-1<e.indexOf("-")&&(e=e.replace(/-\w/g,function(e){return e.substr(1).toUpperCase()})),e}var M=Object.assign||function(e){for(var n=1,r=arguments;n<r.length;n++){var t=r[n];for(var a in t)i.call(t,a)&&(e[a]=t[a])}return e};function R(e){return e[0].toUpperCase()+e.substr(1)}function w(e){return e[0].toLowerCase()+e.substr(1)}M(z,{defineProp:x,defineProps:b,arrayPush:C,arraySlice:s,isArray:O,isObject:d,isNumber:o,isString:k,isArrayLike:p,each:F,noop:m,throwIf:v,warn:g,obj:H,camelCase:j,assign:M,capitalize:R,lowerFirst:w});var S=Object.freeze({defineProp:x,defineProps:b,arrayPush:C,arraySlice:s,isArray:O,isObject:d,isNumber:o,isString:k,isArrayLike:p,each:F,trimRight:E,noop:m,throwIf:v,warn:g,error:h,obj:H,clearQuot:P,camelCase:j,assign:M,capitalize:R,lowerFirst:w}),T=z.components,A=z.componentConfig;function $(e,n,r){var s,t=e;return d(e)||((t={})[e]={component:n,options:r}),F(t,function(e,n,r){var t;if(null!=e){var a=e.component,i=e.options,l=n.toLowerCase();A.set(T[l]=t=a||e,i)}0==r?s=t:(1==r&&(s=[s]),s.push(t))},!1),s}function G(e,n){return RegExp(e,n)}function D(e){return e.replace(/\$/g,"\\$")}function L(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,r=z.tmplRule,t=r.startRule,a=void 0===t?"{{":t,i=r.endRule,l=void 0===i?"}}":i,s=r.extensionRule,o=void 0===s?"n-":s,u=r.propRule,c=void 0===u?"p-":u,p=r.strPropRule,f=void 0===p?"s":p,m=r.templateRule,v=void 0===m?"template":m,g=r.tagSpRule,d=void 0===g?"#$@":g,h=r.commentRule,y=void 0===h?"-":h,_=e.start,x=e.end,b=e.extension,j=e.prop,P=e.strProp,R=e.template,w=e.tagSp,S=e.comment;_&&(a=_),x&&(l=x),b&&(o=b),j&&(c=j),P&&(f=P),R&&(v=R),w&&(d=w),null!=S&&(y=S);var T=a[0],C=l[l.length-1],O=function(e){return e.replace(/\-/g,"\\-")}(function(e){for(var n,r="",t=0,a=e.length;t<a;t++)r.indexOf(n=e[t])<0&&(r+=n);return r}(o+c+f+d)),N=D(o),k=D(c),E=D(f),H=T+a,A=l+C,$="[\\s\\S]+?",L="\\.\\.\\."+$,F=H+$+A+"|"+a+$+l,K={startRule:a,endRule:l,extensionRule:o,propRule:c,strPropRule:f,templateRule:v,tagSpRule:d,commentRule:y,firstChar:T,lastChar:C,braceParamStr:F,xmlOpenTag:G("^<([a-z"+T+O+"][^\\s>]*)[^>]*>$","i"),openTagParams:G("[\\s]+((("+H+"("+$+")"+A+")|("+a+"("+$+")"+l+"))|[^\\s=>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?","g"),directives:G("[\\s]+((("+H+"("+$+")"+A+")|("+a+"("+$+")"+l+"))|((:?)("+N+")?([^\\s=>]+)))(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s>]+)))?","g"),braceParam:G(F,"i"),braceParamG:G(F,"ig"),spreadProp:G("[\\s]+("+H+"[\\s]*("+L+")"+A+")|("+a+"[\\s]*("+L+")"+l+")","g"),replaceSplit:G(F),replaceParam:G("(("+H+")("+$+")"+A+")|(("+a+")("+$+")"+l+")","g"),checkElem:G("([^<>]+)|(<([a-z/!"+T+O+"][^\\s<>]*)([^<>]*)>|<)([^<]*)","ig"),extension:G("^"+N+"([^\\s]+)","i"),exAll:G("^([/]?)("+N+"|"+E+k+"|"+k+")([^\\s]+)","i"),include:G("<"+N+"include([^>]*)>","ig"),incompleteStart:G(a+"((?!"+l+")[\\s\\S])*$"),incompleteStartR:G(H+"((?!"+A+")[\\s\\S])*$"),incompleteEnd:G("^[\\s\\S]*?"+l),incompleteEndR:G("^[\\s\\S]*?"+A)};if(!n)return K;M(z.tmplRule,K)}L({},!0);var K={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},B=/[&><"']/g;var W={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">",amp:"&",quot:'"',"#x27":"'"},q=RegExp("&("+Object.keys(W).join("|")+");","g");function I(e){return null==e?"":e.replace?e.replace(q,function(e,n){return W[n]}):e}M(z,{escape:function(e){return null==e?"":e.replace?e.replace(B,function(e){return K[e]}):e},unescape:I});var Z=/^(-?([0-9]+[\.]?[0-9]+)|[0-9])$/;function J(e){if(d(e)||O(e)||o(e))return e;for(var n,r,t=/([^\s:]+)[\s]?:[\s]?([^;]+)[;]?/g;n=t.exec(e);){var a=n[1],i=n[2];r||(r={}),/^[A-Z-]+$/.test(a)&&(a=a.toLowerCase()),r[a=j(a)]=Z.test(i)?+i:i}return r}function Q(e,n,r){var t,a;n||(n=this.data);for(var i=0,l=n.length;i<l;i++)if((a=n[i])&&void 0!==(t=a[e]))return r?{source:a,value:t,prop:e,_njSrc:!0}:t}function U(e,n){return null==e?e:e._njTmpl?e.call(n):e.call(n.$this,n)}function V(e,n,r,t,a){var i;return t.icp&&(i=Q(r,t.icp))||(i=n.cp[e]),null!=a&&i&&(i=i[a]),i||r}function X(e,n,r,t,a){return null!=e?k(e)?V(e.toLowerCase(),r,e,a):e:V(n,r,t,a)}function Y(e,n){return null!=e&&""!==e?e:n}function ee(e,n){var r=e.args;if(r)for(var t=r.length;t--;)n.unshift(r[t])}function ne(e,n){return n?M({},e,{data:n.data?C(n.data,e.data):e.data,parent:n.newParent?e:e.parent,index:null!=n.index?n.index:e.index,item:null!=n.item?n.item:e.item}):e}function re(e){switch(e){case"class":e="className";break;case"for":e="htmlFor"}return e}function te(){var e="",n=M.apply(S,arguments);for(var r in n){var t=n[r];e+=" "+r+(r!==t?'="'+t+'"':" ")}return e}function ae(n,r,t){return function(e){return t(n,r,e)}}function ie(t,a){return function(e,n){var r=s(arguments);return a(t,this&&this._njCtx?M({},this,{data:C(r,this.data)}):{data:r,getData:Q,get $this(){return this.data[this.data.length-1]},d:Q,icp:function(e){var n;return e&&e.components&&(O(n=e.components)||(n=[n])),n}(e&&e._njParam?n:e),_njCtx:!0})}}function le(e){if(null==e.level)return"";for(var n="",r=0;r<e.level;r++)n+="  ";return n}function se(e){return null==e.index?"":0==e.index?"":"\n"}function oe(e){return z.createElement.apply(null,e)}function ue(e){return e.source?e.value.bind(e.source):e}var ce={if:function(e,n){var r;if(e&&e._njOpts&&(e=(n=e).props.condition),"false"===e&&(e=!1),e)r=n.children();else{var t=n.props;if(t){var a=t.else;if(t.elseifs){var i=t.elseifs.length;F(t.elseifs,function(e,n){if(e.value)return r=e.fn(),!1;n===i-1&&a&&(r=a())},!0)}else a&&(r=a())}}return n.useString&&null==r?"":r},else:function(e){return e.tagProps.else=e.children},elseif:function(e,n){e&&e._njOpts&&(e=(n=e).props.condition||n.props.value);var r=n.tagProps;r.elseifs||(r.elseifs=[]),r.elseifs.push({value:e,fn:n.children})},switch:function(r,e){r&&r._njOpts&&(r=(e=r).props.value);var t,a=e.props,i=a.elseifs.length;return F(a.elseifs,function(e,n){if(r===e.value)return t=e.fn(),!1;n===i-1&&a.else&&(t=a.else())},!0),t},each:function(e,s){e&&e._njOpts&&(e=(s=e).props.of);var o,u=s.useString,n=s.props;if(e){o=u?"":[];var c=p(e);F(e,function(e,n,r,t){var a={data:[e],index:c?n:r,item:e,newParent:!0},i={"@first":0===a.index,"@last":a.index===(c?r:t)-1};c||(i["@key"]=n),a.data.push(i);var l=s.children(a);u?o+=l:o.push(l)},c),u||o.length||(o=null),o&&o.length||!n||!n.else||(o=n.else())}else n&&n.else&&(o=n.else()),u&&null==o&&(o="");return o},prop:function(e,n){var r,t=n.value();r=void 0!==t?t:!n.useString||e,n.tagProps[n.outputH?re(e):e]=r},spread:function(e,r){var t=r.tagProps;F(e,function(e,n){void 0===t[n]&&(r.tagProps[n]=e)},!1)},show:function(e){if(!e.value()){var n=e.tagProps,r=e.useString;n.style||(n.style=r?"":{}),r?n.style+=(n.style?";":"")+"display:none":O(n.style)?n.style.push({display:"none"}):n.style.display="none"}},obj:function(e){return e.props},block:function(e){return e.children()},with:function(e,n){if(e&&e._njOpts)return(n=e).children({data:[n.props]});var r=n.props;return n.children({data:[r&&r.as?function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}({},r.as,e):e]})},arg:function(e){var n=e.tagProps;n.args||(n.args=[]),n.args.push(e.value())},css:function(e){return e.props.style}};function pe(e,n){var r={onlyGlobal:!1,useString:!1,newContext:!0,isSubTag:!1,isDirective:!1,isBindable:!1,useExpressionInProps:!0,hasName:!0,noTagName:!1,hasTagProps:!0,hasTmplCtx:!0,hasOutputH:!1};return e&&(r=M(r,e)),n&&(r=M(r,n)),r}var fe={onlyGlobal:!0,newContext:!1,hasName:!1,hasTagProps:!1,hasTmplCtx:!1},me={if:pe(fe),else:pe(fe,{isSubTag:!0,hasTagProps:!0}),switch:pe(fe,{needPrefix:"onlyLowerCase"}),each:pe(fe,{newContext:{item:"item",index:"index",data:{first:["@first","first"],last:["@last","last"],key:["@key","key"]}}}),prop:pe(fe,{isDirective:!0,needPrefix:!0,hasTagProps:!0}),obj:pe(fe,{needPrefix:!0}),with:pe(fe,{newContext:{getDataFromProps:!0}}),style:{useExpressionInProps:!1,needPrefix:!0}};function ve(e,n,r,a){var t=e;d(e)||((t={})[e]={extension:n,options:r}),F(t,function(e,n){if(e){var r=e.extension,t=e.options;r?ce[n]=r:a||(ce[n]=e),a?(me[n]||(me[n]=pe()),d(t)?M(me[n],t):me[n]=pe()):me[n]=pe(t)}},!1)}me.elseif=pe(me.else),me.spread=pe(me.prop),me.block=pe(me.obj),me.arg=pe(me.prop),me.show=pe(me.prop,{noTagName:!0,hasOutputH:!0}),me.css=pe(me.obj),ce.for=ce.each,me.for=pe(me.each),ce.case=ce.elseif,me.case=me.elseif,ce.empty=ce.default=ce.else,me.empty=me.default=me.else,ce.strProp=ce.prop,me.strProp=pe(me.prop,{useString:!0}),ce.strArg=ce.arg,me.strArg=pe(me.strProp),ce.pre=ce.block,me.pre=me.block,M(z,{extensions:ce,extensionConfig:me,registerExtension:ve});var ge=/(\d{3})(?=\d)/g,de={".":function(e,n,r){return null==e?e:e._njSrc?{source:e.value,value:e.value[n],prop:n,parent:e,_njSrc:!0}:r?{source:e,value:e[n],prop:n,_njSrc:!0}:e[n]},_:function(e,n){if(null==e)return e;if(e._njSrc){var r=e.source[e.prop];return null!=r?r.apply(e.source,n):r}return e.apply(null,n)},"#":function(e,n,r){return null==e?e:U(e[n],r.context)},"**":function(e,n){var r=Math.pow(e,n);return isNaN(r)?0:r},"%%":function(e,n){var r=Math.floor(e/n);return isNaN(r)?0:r},"?:":function(e,n,r){return e?n:r},"!":function(e){return!e},int:function(e){var n=parseInt(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:10);return isNaN(n)?0:n},float:function(e,n){var r=parseFloat(e);return isNaN(r)?0:null!=n?r.toFixed(n):r},bool:function(e){return"false"!==e&&!!e},reg:function(e,n){return RegExp(e,n)},css:function(e){return J(e)},"..":he(1),rLt:he(0),"<=>":function(e,n){return n<e?1:e==n?0:-1},capitalize:function(e){return R(e)},lowerFirst:function(e){return w(e)},camelCase:function(e){return j(e)},isObject:function(e){return d(e)},isNumber:function(e){return o(e)},isString:function(e){return k(e)},isArrayLike:function(e){return p(e)},currency:function(e,n,r){if(0>e-parseFloat(e))return xe.currency.placeholder;r=null!=(r=null!=n&&"string"==typeof n?n:r)&&"string"==typeof r?r:xe.currency.symbol,n=null!=n&&"number"==typeof n?n:2;var t=Math.abs(e=parseFloat(e)).toFixed(n),a=n?t.slice(0,-1-n):t,i=a.length%3,l=0<i?a.slice(0,i)+(3<a.length?",":""):"",s=n?t.slice(-1-n):"";return(e<0?"-":"")+r+l+a.slice(i).replace(ge,"$1,")+s}};function he(r){return function(n,e){return Object.keys(Array.apply(null,{length:e-n+r})).map(function(e){return+e+n})}}function ye(e,n){var r={onlyGlobal:!1,hasOptions:!1,isOperator:!1,hasLevel:!1,hasTmplCtx:!0,alias:null};return e&&(r=M(r,e)),n&&(r=M(r,n)),r}var _e={onlyGlobal:!0,hasOptions:!1},xe={".":ye(_e),_:ye({onlyGlobal:!0}),"#":ye({onlyGlobal:!0,hasOptions:!0,hasLevel:!0}),"**":ye(_e),"%%":ye(_e),"?:":ye(_e),"!":ye(_e),int:ye(_e),float:ye(_e),bool:ye(_e),reg:ye(_e),css:ye(_e),"..":ye(_e),rLt:ye(_e),"<=>":ye(_e),capitalize:ye(_e),lowerFirst:ye(_e),camelCase:ye(_e),isObject:ye(_e),isNumber:ye(_e),isString:ye(_e),isArrayLike:ye(_e),currency:ye(_e,{symbol:"$",placeholder:""})};function be(e,n,r,s){var t=e;d(e)||((t={})[e]={filter:n,options:r}),F(t,function(e,n){if(e){var r=e.filter,t=e.options;if(t){if(t.isOperator){var a=z.createRegexOperators;a&&a(n)}var i=t.alias;if(i){var l=z.createFilterAlias;l&&(l(n,i),n=i)}}r?de[n]=r:s||(de[n]=e),s?(xe[n]||(xe[n]=ye()),d(t)?M(xe[n],t):xe[n]=ye()):xe[n]=ye(t)}},!1)}M(z,{filters:de,filterConfig:xe,registerFilter:be});var je=/('[^']*')|("[^"]*")|(-?[0-9][0-9]*(\.\d+)?)|true|false|null|undefined|Object|Array|Math|Date|JSON|(([a-zA-Z_$#@])([a-zA-Z_$\d]*))/,Pe=/_njQs(\d+)_/g,Re=/_njSet_/;function we(e,l,s,o){var n=H();if(0<=e.indexOf("|")){var r,u=[];e=(r=e.split("|"))[0].trim(),F(r=r.slice(1),function(e){if(""!==(e=e.trim())){var n=function(e){return e.split("'bracket_")}(e),r=H(),t=n[0].trim();if(t){var a=n[1];if(null!=a){var i=[];F(l[a].split(","),function(e){""!==e&&(i[i.length]=we(e.trim(),l,s,o))},!0),r.params=i}r.name=t,u.push(r)}}},!0),n.filters=u}if(0==(e=function(e,r){return e.replace(Pe,function(e,n){return r[n]})}(e,s)).indexOf("../")){var t=0;e=e.replace(/\.\.\//g,function(){return t++,""}),n.parentNum=t}if(""!==e){var a=je.exec(e),i="#"===a[6];n.name=i?a[7]:a[0],a[5]||(n.isBasicType=!0),i&&(n.isAccessor=!0),n.name=n.name.replace(Re,function(){return n.hasSet=!0,""})}else n.isEmpty=!0;return n}var Se,Te=/_nj(L|G)t_/g,Ce={_njLt_:"<",_njGt_:">"},Oe=/"[^"]*"|'[^']*'/g,Ne=/\*|\||\/|\.|\?|\+/g,ke={"||":"or","..<":"rLt"};function Ee(e,n){e&&n&&(ke[e]=n),Se=RegExp("[\\s]+(("+Object.keys(ke).map(function(e){return e.replace(Ne,function(e){return"\\"+e})}).join("|")+")[\\s]*)","g")}Ee();var He,Ae={")":")_(","]":"]_("},$e=/(\)|\]|\.([^\s'"._#()|]+))[\s]*\(/g,Le=/([(,|])[\s]+/g,Fe=/\.([a-zA-Z_$#@][a-zA-Z_$\d]*)/g,Ke=/([^\s([,])(\[)/g,ze={"[":"list(","]":")","{":"obj(","}":")"},Me=/\[|\]|\{|\}/g,Ge=/^[\s]*set[\s]+|([(,])[\s]*set[\s]+/g,De=/^[\s]*([(]+)|([(,])[\s]*([(]+)/g,Be=["../"],We=/-[0-9]/,qe=["","(","[",","],Ie=["+=","+","-[0-9]","-","**","*","%%","%","===","!==","==","!=","<=>","<=",">=","=","..<","<",">","&&","||","?:","?",":","../","..","/"];function Ze(r){if(r){var t=0;Ie.forEach(function(e,n){e.indexOf(r)<0||(t=n+1)}),Ie.splice(t,0,r)}He=RegExp(Ie.map(function(e){return e.replace(Ne,function(e){return"\\"+e})}).join("|"),"g")}function Je(e,n,r,t){var a=e[2].trim(),i=[e[0],e[1],null,!0];return 0<r&&(i[3]=!1),t&&(a="set "+a),a=a.replace(Te,function(e){return Ce[e]}).replace(Oe,function(e){return n.push(e),"_njQs"+(n.length-1)+"_"}).replace(He,function(e,n){return We.test(e)?0<n&&qe.indexOf(a[n-1].trim())<0?e.split("-").join(" - "):e:Be.indexOf(e)<0?" ".concat(e," "):e}).replace(Se,function(e,n,r){return" "+ke[r]+" "}).replace(Fe,function(e,n){var r="#"===n[0];r&&(n=n.substr(1));var t=n.length-1,a=0<t&&"_"===n[t];return(r?"#":".")+"('"+(a?n.substr(0,t):n)+"')"+(a?"_":"")}).replace(Ke,function(e,n,r){return n+".("}).replace(Me,function(e){return ze[e]}).replace(Ge,function(e,n){return(n||"")+"_njSet_"}).replace(De,function(e,n,r,t){return(r||"")+(r?t:n).replace(/[(]/g,"bracket(")}).replace(Le,function(e,n){return n}).replace($e,function(e,n,r){return r?".('"+r+"')_(":Ae[n]}),i[2]=a.trim(),i}Ze();var Qe=/\(([^()]*)\)/g,Ue=/([!]+)((-?[0-9][0-9]*(\.\d+)?|[^\s,|'=]+)('bracket_\d+)?([._#]'bracket_\d+)*)/g,Ve=/[\s]+([^\s(),|"']+)[\s]+((-?[0-9][0-9]*(\.\d+)?|[^\s,|']+)('bracket_\d+)?([._#]'bracket_\d+)*)/g,Xe=/[(,]/g,Ye=/(\|)?(((\.+|_|#+)'bracket_)|[\s]+([^\s._#|]+[\s]*'bracket_))/g;function en(e,n){return nn((e=e.replace(Ue,function(){var e=arguments;return n.push(nn(e[2])),e[1]+"'bracket_"+(n.length-1)})).replace(Ve,function(){var e=arguments;return n.push(nn(e[2]))," "+e[1]+"'bracket_"+(n.length-1)}))}function nn(e){return(" "+e).replace(Xe,function(e){return e+" "}).replace(Ye,function(e,n,r,t,a,i){return n?e:" | "+(t||i)}).trim()}function rn(a,i,e,n,r){var t=H(),l=k(a),s=l?e?["",""]:a.split(i.replaceSplit):[a],o=null,u=!1;if(l&&(s=s.map(function(e){return e.replace(/\n/g,"_njNl_").replace(/\r/g,"")})),1<s.length){var c=[],p=function(e,n,r,t,a){var i,l,s=n.replaceParam,o=0;if(t)l=[Je(i=[e,n.startRule,e],r,o,a)];else for(;i=s.exec(e);){l||(l=[]);var u=i[2];l.push(Je([i[0],u||i[5],u?i[3]:i[6]],r,o,a)),o++}return l}(a,i,c,e,r);o=[],F(p,function(e){var n=H(),r=[];u=!!e[3]&&e[0]===a;var t=function e(n,r){var t=n.replace(Qe,function(e,n){return r.push(en(n,r)),"'bracket_"+(r.length-1)});return t!==n?e(t,r):en(t,r)}(e[2],r);n.prop=we(t,r,c,a),n.escape=e[1]!==i.firstChar+i.startRule,o.push(n)},!0)}return t.props=o,t.strs=s,t.isAll=u,t.onlyKey=n,t}M(z,{createFilterAlias:Ee,createRegexOperators:Ze});var tn=/^<[^>]+\/>$/i;var an={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function ln(e,n){for(var r,t,a=n.openTagParams;r=a.exec(e);){var i=r[1];if("/"!==i){t||(t=[]);var l=r[8],s=null!=r[4]?r[4]:r[6],o=!1;null!=l?l=P(l):(l=i,s||(o=!0)),r[9]||r[10]||(/\/>$/.test(l)?l=l.substr(0,l.length-2):(/>$/.test(l)||/\/$/.test(l))&&(l=l.substr(0,l.length-1)));var u=void 0;":"===i[0]&&(i=i.substr(1),u=!0),t.push({key:i,value:l,onlyBrace:s,hasColon:u,onlyKey:o})}}return t}function sn(e,n,r){var t,a=n.extension.exec(e);if(a&&(t=[a[1]],!r)){var i=ln(e,n);i&&t.push(i)}return t}function on(e,n){return e.match(n.exAll)}var un=/^[a-z]/,cn=/^[A-Z]/;function pn(e){return"params"===e||"props"===e}function fn(e){return me[e]||{}}function mn(e,n){return 0==e.indexOf(n.propRule)}function vn(e,n){return 0==e.indexOf(n.strPropRule+n.propRule)}var gn=["style","script","textarea","pre","xmp","template","noscript",z.textTag];function dn(e,n,r,t,a){var i={type:"nj_plaintext"};i.content=[rn(e,a,null,null,null!=n.ex?fn(n.ex).isBindable:null)],i.allowNewline=t,n[r].push(i)}var hn=/_njBp(\d+)_/g;function yn(e,r,a,i,t,n){var l="content";if(O(e)){var s={},o=e[0];if(k(o)){var u,c,p,f,m,v,g,d=e.length,h=e[d-1],y=!1,_=!1;if(u=sn(o,a)){var x=u[0];if(c=u[1],!(f=pn(x))){var b=fn(x);v=b.isSubTag,g=(m=b.isDirective)?!i:v,b.useString&&(s.useString=b.useString)}s.type="nj_ex",s.ex=x,null==c||f||(s.args||(s.args=[]),F(c,function(e){var n=e.key,r=e.value;if("useString"!==n){if("_njIsDirective"===n)return s.isDirective=m=!0,void(g=!i);var t=rn(r,a,e.hasColon,e.onlyKey);e.onlyBrace?s.args.push(t):(s.params||(s.params=H()),s.params[n]=t)}else s.useString=!("false"===r)},!0)),y=!0}else{var j=function(e,n){return n.xmlOpenTag.exec(e)}(o,a);j&&(/\/$/.test(p=j[1])&&(p=p.substr(0,p.length-1)),!function(e){return tn.test(e)}(o)?_=function(e,n){return k(e)&&e.toLowerCase()==="</"+n+">"}(h,p):s.selfCloseTag=!0,y=!0)}if(y){var P=!0;if(t&&(s.allowNewline=!0),u)(f||g)&&(P=!1),null==t&&"pre"===s.ex&&(t=!0,s.allowNewline="nlElem");else{var R=function(e,n){return n.braceParam.exec(e)}(s.type=p,a);R&&(s.typeRefer=rn(R[0],a));var w=ln(o,a);w&&(s.params||(s.params=H()),F(w,function(e){s.params[e.onlyBrace?e.onlyBrace.replace(/\.\.\//g,""):e.key]=rn(e.value,a,e.hasColon,e.onlyKey)},!0)),s.selfCloseTag||(s.selfCloseTag=function(e){return an[e.toLowerCase()]}(p)),null==t&&-1<gn.indexOf(p.toLowerCase())&&(t=!0,s.allowNewline="nlElem")}P&&r[l].push(s);var S=e.slice(1,d-(_?1:0));S&&S.length&&_n(S,s,a,f||i&&!m,t),(f||g)&&function(e,n,r,t){var a,i="paramsEx";n[i]?C(n[i].content,r||t?[e]:e.content):((a=r||t?{type:"nj_ex",ex:"props",content:[e]}:e).parentType=n.type,n[i]=a)}(s,r,m,v)}else _n(e,r,a,i,t)}else O(o)&&_n(e,r,a,i,t)}else if(k(e))if(t)dn(n&&"nlElem"===r.allowNewline?E(e):e,r,l,t,a);else{var T=[];e.replace(a.braceParamG,function(e){return T.push(e),"_njBp"+(T.length-1)+"_"}).split(/\n/g).forEach(function(e,n){""!==(e=e.trim())&&dn(e.replace(hn,function(e,n){return T[n]}),r,l,t,a)})}else dn(e,r,l,t,a)}function _n(e,t,a,i,l){t.content||(t.content=[]),F(e,function(e,n,r){yn(e,t,a,i,l,n==r-1)},!0)}var xn="g",bn="c",jn="p";function Pn(e,n,r,t,a,i,l){var s="",o=null!=l?l:r.useString,u=0===t,c=1===e.length?"1":"2",p={_type:0,_params:0,_compParam:0,_dataRefer:0,_ex:0,_value:0,_filter:0,_fnH:0,_tmp:0,newContext:a};o?p._children=0:p._compParam=0,!u&&a&&(s+="".concat(bn," = ").concat(xn,".n(").concat(bn,", ").concat(jn,");\n")),"2"==c&&(s+=o?"var ret = '';\n":"var ret = [];\n"),s+=$n(e,n,r,p,c,i,l),"2"==c&&(s+="return ret;");try{r[u?"main":"fn"+t]=Function(xn,bn,jn,s)}catch(e){h("Failed to generate template function:\n\n"+e+" in\n\n"+s+"\n")}return t}function Rn(e,n,r,t,a,i,l,s){var o=", useString: "+(null==n?"".concat(xn,".us"):n?"true":"false"),u=!e,c=t._no;if(r){var p=!e||e.newContext,f=r.isDirective||e&&e.isDirective;(u||e.hasName)&&(o+=", name: '"+r.ex+"'"),l&&f&&(u||!e.noTagName)&&(o+=", tagName: "+l,o+=", setTagName: function(c) { "+l+" = c }"),s&&(u||e.hasTagProps)&&(o+=", tagProps: "+s),null!=i&&(o+=", props: "+i),o+=", "+(f?"value":"children")+": "+(r.content?"".concat(xn,".r(").concat(xn,", ").concat(bn,", ").concat(xn,".fn")+Pn(r.content,r,t,++t._no,p,a,n)+")":"".concat(xn,".np"))}return"{ _njOpts: "+(c+1)+(u||e.hasTmplCtx?", global: ".concat(xn,", context: ").concat(bn):"")+(u||e.hasOutputH?", outputH: "+!t.useString:"")+o+(null!=a&&(u||e.hasLevel)?", level: "+a:"")+" }"}var wn="nj_custom",Sn=["+","-","*","/","%","===","!==","==","!=","<=",">=","=","+=","<",">","&&","||","?",":"],Tn=["=","+="],Cn={or:"||"};function On(e,n,r,t){var a,i=!1,l=e.isBasicType,s=e.isAccessor,o=e.hasSet;if(l)a=e.name;else{var u=e.name,c=e.parentNum,p="",f=!1;switch(u){case"@index":p="index",i=!0;break;case"@item":p="item",i=!0;break;case"this":p="data",i=function(e){return"".concat(e,"[").concat(e,".length - 1]")};break;case"@data":p="data",i=!0;break;case"@g":p="".concat(xn,".g"),i=wn;break;case"@context":p=bn,i=wn;break;case"@lt":p="'<'",i=wn;break;case"@gt":p="'>'",i=wn;break;case"@lb":p="'{'",i=wn;break;case"@rb":p="'}'",i=wn;break;case"@q":p="'\"'",i=wn;break;case"@sq":p='"\'"',i=wn}if(c){p||(p="data");for(var m=p==bn,v=0;v<c;v++)p=m?p+".parent":"parent."+p;i||(f=!0)}if(i||f){var g=i===wn?p:"".concat(bn,".")+p;d(i)&&(g=i(g)),a=i?g:(s?"".concat(xn,".c("):"")+"".concat(bn,".d('")+u+"', "+g+(o?", true":"")+")"+(s?", ".concat(bn)+")":"")}else a=(s?"".concat(xn,".c("):"")+"".concat(bn,".d('")+u+"'"+(o?", 0, true":"")+")"+(s?", ".concat(bn)+")":"")}return a&&(a=En(a)),function(e,n,r,t){return n.useString?r&&t!==wn?"".concat(xn,".es(")+e+")":e:I(e)}(a,r,!l&&!s&&n,i)}function Nn(e){var n=Cn[e];return null!=n?n:e}function kn(e){return En(e).replace(/_njNl_/g,"\\n").replace(/'/g,"\\'")}function En(e){return e.replace(/\\/g,"\\\\")}function Hn(a,i,l,s){var o=a.strs[0],u="";return k(o)&&(u=a.isAll||""===o?"":"'"+kn(o)+"'",F(a.props,function(e,n){var r=function m(v,e,g,d,h,y){var _=v.filters&&Sn.indexOf(Nn(v.filters[0].name))<0?"":e?v.name:On(v,g,d),x="";return v.filters&&v.filters.forEach(function(r,e){var n=v.filters[e+1]&&Sn.indexOf(Nn(v.filters[e+1].name))<0,t=Nn(r.name);if(Sn.indexOf(t)<0)if("_"===t){var a="".concat(xn,".f['").concat(t,"'](").concat(x);r.params.length&&(a+=", [",r.params.forEach(function(e,n){a+=m(e,null,g,d,h,y),n<r.params.length-1&&(a+=", ")}),a+="]"),a+=")",x=n?a:(_+=a,"")}else{var i,l,s,o,u=v.isEmpty&&0==e;if("bracket"===t)i="(",l=")";else if("list"===t)i="[",l="]";else if("obj"===t)i="{ ",l=" }",s=!0;else{if("require"==t)i="require";else{var c="".concat(xn,".f['").concat(t,"']");"".concat(xn,".wn('").concat(t,"', 'f')"),i=(o=xe[t])&&o.onlyGlobal?c:"".concat(xn,".cf(").concat(bn,".d('").concat(t,"', 0, true) || ").concat(c).concat("",")")}i+="(",l=")"}var p=i;if(u)r.params.forEach(function(e,n){p+=m(e,s,g,d,h,y),n<r.params.length-1&&(p+=", ")});else{p+=0==e?On(v,g,d):""!==x?x:v.filters[e-1].params[0].filters?m(v.filters[e-1].params[0],null,g,d,h,y):On(v.filters[e-1].params[0],g,d),r.params&&r.params.forEach(function(e,n){p+=", ",p+=e.filters?m(e,null,g,d,h,y):On(e,g,d)});var f=v.filters[e+1];"."===t&&f&&"_"===Nn(f.name)&&(p+=", true"),o&&o.hasOptions&&(p+=", ".concat(Rn(o,h,null,d,y)))}p+=l,x=n?p:(_+=p,"")}else Tn.indexOf(t)<0?_+=" ".concat(t," "):_+=".source.".concat(0==e?v.name:P(v.filters[e-1].params[0].name)," ").concat(t," "),v.filters[e+1]&&Sn.indexOf(Nn(v.filters[e+1].name))<0||(r.params[0].filters?(_+="(",_+=m(r.params[0],null,g,d,h,y),_+=")"):_+=On(r.params[0],g,d))}),_}(e.prop,null,e.escape,i,l,s);if(a.isAll)r="("+r+")";else{var t=a.strs[n+1];r=(""===o&&0==n?"":" + ")+"("+r+")"+(""!==t?" + '"+kn(t)+"'":"")}if(u+=r,a.isAll)return!1},!0)),u}function An(e,i,n,l,s,r){var t,a,o=e.params,u=e.paramsEx,c=i.useString,p=u,f="";if(o||p){if(t=n._params++,f="var "+(a="_params"+t)+" = ",o){var m=Object.keys(o),v=m.length;f+="{\n",F(m,function(e,n){var r=Hn(o[e],i,l,s);c||"style"!==e||(r="".concat(xn,".sp(")+r+")");var t=kn(e),a=o[e].onlyKey;c||(t=re(t)),f+="  '"+t+"': "+(a?l?"'"+t+"'":"true":r)+(n<v-1?",\n":"")},!1),f+="\n};\n"}p?(o||(f+="{};\n"),u&&(f+=$n(u.content,u,i,n,{_paramsE:!0},null,l,r,a)),l&&(f+="\n"+a+" = ".concat(xn,".ans(")+a+");\n")):l&&(f+="\n"+a+" = ".concat(xn,".ans({}, ")+a+");\n")}return[f,t]}function $n(e,r,t,a,i,l,s,o,u){var c="";return e&&F(e,function(e){var n=e.useString;c+=function(e,n,t,r,a,i,l,s,o,u){var c="",p=t.useString;if("nj_plaintext"===e.type){var f=Hn(e.content[0],t,l,i);if(""===f)return c;var m=Ln(e,n,1,a,{text:f},t,i,l,e.allowNewline,s);c+=p?m:I(m)}else if("nj_ex"===e.type){var v,g=r._ex++,d=r._dataRefer++,h="",y=me[e.ex],_="_ex"+g,x="".concat(xn,".x['")+e.ex+"']";y&&y.onlyGlobal?c+="\nvar "+_+" = "+x+";\n":(c+="\nvar "+_+";\n",c+="var "+(v="_fnH"+r._fnH++)+" = ".concat(bn,".d('")+e.ex+"', 0, true);\n",c+="if ("+v+") {\n",c+="  "+_+" = "+v+".value;\n",c+="} else {\n",c+="  "+_+" = "+x+";\n",c+="}\n"),h+="var _dataRefer"+d+" = [\n",e.args&&F(e.args,function(e,n){var r=Hn(e,t,l,i);h+="  "+r+","},!0);var b=An(e,t,r,!1,i,o),j=b[0],P=b[1];h+=Rn(y,l,e,t,i,""!==j?"_params"+P:null,o,u),h+="\n];\n",""!==j&&(h+="".concat(xn,".aa(_params")+P+", _dataRefer"+d+");\n"),c+=j+h,c+=Ln(e,n,2,a,{_ex:g,_dataRefer:d,fnH:v},t,i,l,e.allowNewline,s)}else{var R,w,S,T=r._type++,C="_type"+T;if(R=e.typeRefer?(w=Hn(e.typeRefer,t,i),e.typeRefer.props[0].prop.name):e.type,p)S=w?"".concat(xn,".en(")+w+", '"+R+"')":"'"+R+"'";else{var O=R.toLowerCase(),N="";if(!w&&-1<O.indexOf(".")){var k=R.split(".");O=O.split(".")[0],R=k[0],N=", '"+k[1]+"'"}S=w?"".concat(xn,".er(")+w+", '"+O+"', ".concat(xn,", '")+R+"', ".concat(bn,")"):"".concat(xn,".e('")+O+"', ".concat(xn,", '")+R+"', ".concat(bn)+N+")"}c+="\nvar _type"+T+" = "+S+";\n";var E,H,A=An(e,t,r,p,i,C),$=A[0],L=A[1];c+=$,c+=p?"var _children"+(H=r._children++)+" = '';\n":"var _compParam"+(E=r._compParam++)+" = [_type"+T+", "+(""!==$?"_params"+L:"null")+"];\n",c+=$n(e.content,e,t,r,p?{_children:"_children"+H}:{_compParam:"_compParam"+E},p&&e.type===z.noWsTag?null:null!=i?i+1:i,l,C),c+=Ln(e,n,3,a,p?{_type:T,_typeS:R,_typeR:w,_params:""!==$?L:null,_children:H,_selfClose:e.selfCloseTag}:{_compParam:E},t,i,l,e.allowNewline,s)}return c}(e,r,t,a,i,l,null!=n?n:s,t._firstNode&&0==l,o,u),t._firstNode&&(t._firstNode=!1)},!0),c}function Ln(e,n,r,t,a,i,l,s,o,u){var c,p=i.useString,f=null!=s?s:p,m=null==l;switch(r){case 1:c=(!p||o||m?"":u?"nj_root"!==n.type?"".concat(xn,".fl(").concat(bn,") + "):"":"'\\n' + ")+Fn(l,i,o)+Kn(p,u||m)+a.text;break;case 2:c="_ex"+a._ex+".apply("+(a.fnH?a.fnH+" ? "+a.fnH+".source : ".concat(bn):bn)+", _dataRefer"+a._dataRefer+")";break;case 3:if(p)if(c=o&&"nlElem"!==o||m?"":u?"nj_root"!==n.type?"".concat(xn,".fl(").concat(bn,") + "):"":"'\\n' + ",e.type!==z.textTag&&e.type!==z.noWsTag){var v=Fn(l,i,o),g=e.content,d=a._typeR,h=null!=a._params;c+=v+Kn(p,u||m)+"'<"+(d?"' + _type"+a._type:a._typeS)+(h?(d?"":"'")+" + _params"+a._params:"")+(d||h?" + '":""),a._selfClose?c+=" />'":(c+=">'",c+=" + _children"+a._children+" + ",c+=(!g||o||m?"":"'\\n' + ")+(g?v:"")+Kn(p,m)+"'</"+(d?"' + _type"+a._type+" + '":a._typeS)+">'")}else c+="_children"+a._children;else c="".concat(xn,".H(_compParam")+a._compParam+")"}return"1"===t?"\nreturn "+c+";":"2"===t?f?"\nret += "+c+";\n":"\nret.push("+c+");\n":t._paramsE?"\n"+c+";\n":p?"\n"+t._children+" += "+c+";\n":"\n"+t._compParam+".push("+c+");\n"}function Fn(e,n,r){var t="";if(r&&"nlElem"!==r)return t;if(n.useString&&null!=e&&0<e){t+="'";for(var a=0;a<e;a++)t+="  ";t+="' + "}return t}function Kn(e,n){return e&&!n?"".concat(xn,".ls(").concat(bn,") + "):""}var zn=function(e,n,r){var t={useString:r,_no:0,_firstNode:!0};return Pn(e,n,t,t._no,null,0),t},Mn=z.preAsts,Gn="_njParam",Dn=["style","script","textarea","xmp",z.textTag],Bn=an;function Wn(e){var n,r=""+e,t=Mn[r],l=this.outputH,s=this.tmplRule,a=this.onlyParse,i=this.fileName,o=this.isExpression,u=this.isCss;if(!t){var c=k(e)?[e]:e,p=c.length,f="",m=!1;F(c,function(e,n){var r="";if(0==n&&(o?e=(l?s.firstChar:"")+s.startRule+" "+e:u&&(e="<"+s.extensionRule+'css style="'+e)),n<p-1){var t=e.length-1,a="#"===e[t],i="..."===e.substr(t-2);m&&(m=!s["incompleteEnd"+("isR"===m?"R":"")].test(e)),m||(m=s.incompleteStartR.test(e)?"isR":s.incompleteStart.test(e)),a?e=e.substr(0,t):i&&(e=e.substr(0,t-2)),r=(a?"#":i?"...":"")+Gn+n,m||(r=s.startRule+r+s.endRule)}n==p-1&&(o?e+=" "+s.endRule+(l?s.lastChar:""):u&&(e+='" />')),f+=e+r},!0);var v=z.includeParser;v&&(f=v(f,i,s)),f=function(e,n){var r=n.commentRule;return e.replace(RegExp("\x3c!--"+r+"[\\s\\S]*?"+r+"--\x3e","g"),"").replace(RegExp("([\\s]+:[^\\s=>]+=(('[^']+')|(\"[^\"]+\")))|("+n.braceParamStr+")","g"),function(e,n,r,t,a,i){return(n||i).replace(Jn,function(e){return Zn[e]})})}(f,s),l||(z.textMode&&(f="<"+z.textTag+">"+f+"</"+z.textTag+">"),z.noWsMode&&(f="<"+z.noWsTag+">"+f+"</"+z.noWsTag+">")),t=function(e,n,r){var t,a,i=[],l={elem:i,elemName:"root",parent:null},s=n.checkElem,o=null;for(;t=s.exec(e);){var u=t[1],c=t[2],p=t[3],f=t[4],m=t[5];if(o){var v=o,g=N(v,4),d=g[0],h=g[1],y=g[2],_=g[3],x=!!c&&on(p,n);x&&!x[1]&&(mn(p,n)||vn(p,n)||pn(x[3])||fn(x[3]).isDirective)?(l=qn(h,l),Un(d,h,y,l.elem,null,n,r)):Yn(d,h,y,l.elem,n,r),In(_,l),o=null}if(u&&""!==u&&er(u,l.elem),c)if("<"!==c)if(0==c.indexOf("<!"))er(c,l.elem);else{var b=on(p,n);if("/"===p[0])if(p.substr(1).toLowerCase()===a&&(a=null),b||!a){var j=l.elemName;(j.indexOf(Gn)<0?p==="/"+j:-1<p.indexOf(Gn)||"//"===p)&&(l=l.parent)}else er(c,l.elem);else if("/"===c[c.length-2])b||!a?Yn(c,p,f,l.elem,n,r):er(c,l.elem);else if(b||!a)if(!a&&Bn[p.toLowerCase()])o=[c,p,f,m];else{var P=p.toLowerCase();-1<Dn.indexOf(P)&&(a=P),l=qn(p,l),Un(c,p,f,l.elem,null,n,r)}else er(c,l.elem)}else null==m&&(m=""),m=c+m;!o&&In(m,l)}if(o){var R=o,w=N(R,4),S=w[0],T=w[1],C=w[2],O=w[3];Yn(S,T,C,l.elem,n,r),In(O,l)}return i}(f,s,l),x(t,"_njParamCount",{value:p-1}),Mn[r]=t}if(a)n={_njTmpl:t,_njTmplKey:r};else{var g,d=arguments,h=t._njParamCount;if(0<h){x(g={},"_njParam",{value:!0});for(var y=0;y<h;y++)g[Gn+y]=d[y+1]}b(n=g?function(){return _.apply(this,C([g],arguments))}:function(){return _.apply(this,arguments)},{_njTmpl:{value:t},_njTmplKey:{value:r}});var _=z["compile"+(l?"H":"")](n,r,null,null,s)}return n}function qn(e,n){var r={elem:[],elemName:e,parent:n};return n.elem.push(r.elem),r}function In(e,n){e&&""!==e&&er(e,n.elem)}var Zn={"<":"_njLt_",">":"_njGt_"},Jn=/>|</g;function Qn(e,n,r,t){return t.extensionRule+(e?"strProp":"prop")+" "+t.startRule+"'"+n.substr((e?t.strPropRule.length:0)+t.propRule.length)+"'"+t.endRule+r}function Un(e,n,r,t,a,i,l){var s,o,u=function(e,n){var r;if(!z.fixTagName)return r;var t=w(e),a=me[t];return a&&(!a.needPrefix||"onlyUpperCase"==a.needPrefix&&un.test(e)||"onlyLowerCase"==a.needPrefix&&cn.test(e))&&(r=n.extensionRule+t),r}(n,i);if(u&&(n=u),sn(n,i,!0)){s=e.substring(1,e.length-1),u&&(s=i.extensionRule+w(s));var c=Xn(s,i,l);s=c.elem,o=c.params}else if(vn(n,i))s=Qn(!0,n,r,i);else if(mn(n,i))s=Qn(!1,n,r,i);else{var p=Xn(e,i,l);s=p.elem,o=p.params}if(a){var f=[s];o&&f.push(o),t.push(f)}else t.push(s),o&&t.push(o)}var Vn=/([^\s-$.]+)(([$.][^\s-$.]+)*)((-[^\s-$.]+([$.][^\s-$.]+)*)*)/;function Xn(e,n,d){var h,y=n.extensionRule,_=n.startRule,x=n.endRule,b=n.firstChar,j=n.lastChar,r=n.directives;return{elem:e=(e=e.replace(n.spreadProp,function(e,n,r,t,a){return r&&(a=r),h||(h=[y+"props"]),h.push([y+"spread "+(r?b:"")+_+a.replace(/\.\.\./,"")+x+(r?j:"")+"/"])," "})).replace(r,function(e,n,r,t,a,i,l,s,o,u,c,p,f){if(null==u)return e;var m,v;h||(h=[y+"props"]),c=c.replace(Vn,function(e,n,r,t,a){return a&&(m=a.substr(1).split("-").map(function(e){var r,t="",a=e.split(/[$.]/);return a.forEach(function(e,n){0==n?r="name:'"+e+"'"+(n<a.length-1?",":""):t+="'"+e+"'"+(n<a.length-1?",":"")}),"{"+r+(""!=t?"modifiers:["+t+"]":"")+"}"})),r&&(v=r.substr(1).split(/[$.]/).map(function(e){return"'"+e+"'"})),n});var g=[y+c+" _njIsDirective"+(m?' arguments="'+b+_+"["+m.join(",")+"]"+x+j+'"':"")+(v?' modifiers="'+_+"["+v.join(",")+"]"+x+'"':"")+(p?"":" /")];return p&&g.push((o?(d?b:"")+_+" ":"")+P(f)+(o?" "+x+(d?j:""):"")),h.push(g)," "}),params:h}}function Yn(e,n,r,t,a,i){/\/$/.test(n)&&(n=n.substr(0,n.length-1)),Un(e,n,r,t,!0,a,i)}function er(e,n){n.push(e)}function nr(c){return function(e,n,r,t,a){if(e){if(d(n)){var i=n;n=i.tmplKey,r=i.fileName,t=i.delimiters,a=i.tmplRule}var l;if(n&&(l=z.templates[n]),!l){var s,o,u=d(e);if(u&&e.main)s=e;else n&&(o=z.asts[n]),o||(u&&"nj_root"===e.type?o=e:(a||(a=t?L(t):z.tmplRule),o=ar(),k(e)&&(e=Wn.call({tmplRule:a,outputH:c,onlyParse:!0,fileName:r},e)),yn(e._njTmpl,o,a)),n&&(z.asts[n]=o)),s=zn(o.content,o,!c);l=function(e,n){var r={tmplKey:n,us:e.useString,x:z.extensions,f:z.filters,np:m,tf:v,wn:g,n:ne,c:U,sp:J,r:ae,e:V,er:X,en:Y,aa:ee,an:M,g:z.global,cf:ue};return r.us?(r.ans=te,r.es=z.escape,r.ls=le,r.fl=se):(r.h=z.createElement,r.H=oe,r.cp=z.components),F(e,function(e,n){"main"===n?(r[n]=ie(r,e),b(r[n],{_njTmpl:{value:!0}}),r["_"+n]=e):0==n.indexOf("fn")&&(r[n]=e)},!1),r}(s,n),n&&(z.templates[n]=l)}return l.main}}}var rr=nr(),tr=nr(!0);function ar(){var e=H();return e.type="nj_root",e.content=[],e}function ir(r){return function(e,n){return(r?tr:rr)(e,n?{tmplKey:n.tmplKey?n.tmplKey:e._njTmplKey,fileName:n.fileName,delimiters:n.delimiters}:e._njTmplKey).apply(null,s(arguments,1))}}var lr=ir(),sr=ir(!0);function or(a){return function(e,n){var r=(a?tr:rr)(e,e._njTmplKey);if(n){var t=function(){return r.apply(this,C([n],arguments))};return x(n,"_njParam",{value:!0}),b(t,{_njTmpl:{value:!0}}),t}return r}}var ur=or(),cr=or(!0);function pr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.outputH,r=e.delimiters,t=e.fileName,a=e.isExpression,i=e.isCss,l=r?L(r):z.tmplRule;return function(){return Wn.apply({tmplRule:l,outputH:n,fileName:t,isExpression:a,isCss:i},arguments)}}function fr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.outputH=!0,pr(e)}M(z,{compile:rr,compileH:tr,precompile:function(e,n,r){var t=ar();e.quasis?e=Wn.call({tmplRule:r,outputH:n,onlyParse:!0,isExpression:e.isExpression,isCss:e.isCss},e.quasis):k(e)&&(e=Wn.call({tmplRule:r,outputH:n,onlyParse:!0},e));return yn(e._njTmpl,t,r),zn(t.content,t,!n)},render:lr,renderH:sr,buildRender:ur,buildRenderH:cr});var mr=pr(),vr=fr();function gr(){return(z.outputH?vr:mr).apply(null,arguments)()}var dr=pr({isExpression:!0}),hr=fr({isExpression:!0});function yr(){return(z.outputH?hr:dr).apply(null,arguments)()}var _r=fr({isCss:!0});function xr(){return _r.apply(null,arguments)()}M(z,{createTaggedTmpl:pr,createTaggedTmplH:fr,taggedTmpl:mr,taggedTmplH:vr,template:gr,expression:yr,css:xr}),M(z,{registerComponent:$,getComponentConfig:function(e){return A.get(k(e)&&T[e]||e)},copyComponentConfig:function(e,n){return A.set(e,A.get(n)),e},createTmplRule:L,config:function(e){var n=e.delimiters,r=e.includeParser,t=e.createElement,a=e.outputH,i=e.textMode,l=e.noWsMode,s=e.fixTagName;n&&L(n,!0),r&&(z.includeParser=r),t&&(z.createElement=t),null!=a&&(z.outputH=a),null!=i&&(z.textMode=i),null!=l&&(z.noWsMode=l),null!=s&&(z.fixTagName=s)}});var br=z.global;br.NornJ=br.nj=z,e.compile=rr,e.compileH=tr,e.css=xr,e.default=z,e.expression=yr,e.registerComponent=$,e.registerExtension=ve,e.registerFilter=be,e.render=lr,e.renderH=sr,e.taggedTmpl=mr,e.taggedTmplH=vr,e.template=gr,Object.defineProperty(e,"__esModule",{value:!0})});
