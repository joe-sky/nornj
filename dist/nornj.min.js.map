{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///nornj.min.js","webpack:///webpack/bootstrap 11ebba6c7767a8b03ac7","webpack:///./src/base.js","webpack:///./src/core.js","webpack:///./src/utils/utils.js","webpack:///./src/utils/tools.js","webpack:///./~/object-assign/index.js","webpack:///./src/transforms/transformElement.js","webpack:///./src/transforms/transformParam.js","webpack:///./src/transforms/transformData.js","webpack:///./src/utils/escape.js","webpack:///./src/checkElem/checkElem.js","webpack:///./src/checkElem/checkTagElem.js","webpack:///./src/utils/setComponentEngine.js","webpack:///./src/utils/registerComponent.js","webpack:///./src/utils/filter.js","webpack:///./src/utils/expression.js","webpack:///./src/utils/setTmplRule.js","webpack:///./src/compiler/compile.js","webpack:///./src/compiler/buildRuntime.js","webpack:///./src/utils/replaceSpecialSymbol.js","webpack:///./src/checkElem/checkStringElem.js","webpack:///./src/utils/shim.js","webpack:///./src/utils/tmplByKey.js","webpack:///./src/utils/docReady.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","nj","utils","compiler","compileStringTmpl","tmplByKey","docReady","assign","registerTagNamespace","React","setComponentEngine","ReactDOM","global","self","componentLib","autoRenderTag","renderTagComponent","initTagData","NornJ","apply","arguments","componentLibObj","componentLibDom","componentPort","componentRender","componentClasses","namespace","tagNamespaces","tagId","tagStyle","tagClassName","asts","templates","errorTitle","tmplRule","tools","transformElement","transformParam","transformData","escape","checkElem","registerComponent","filter","expression","setTmplRule","listPush","arr1","arr2","checkIsArr","checkNotNull","isArray","length","arrayPush","obj","Array","isObject","type","isString","Object","prototype","toString","_getProperty","key","isArrayLike","_getLength","each","func","context","isArr","useEvery","arrayEach","arrayEvery","arrayForEach","o","i","ret","keys","l","k","inArray","value","indexOf","trim","str","noop","throwIf","val","msg","Error","warn","uniqueKey","hash","len","chr","charCodeAt","lightObj","create","clearQuot","regex","charF","replace","toCamelCase","letter","substr","toUpperCase","arrayProto","every","forEach","push","toObject","undefined","TypeError","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","map","n","join","test3","split","e","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","target","source","from","symbols","to","s","getOwnPropertySymbols","getXmlOpenTag","xmlOpenTag","exec","isXmlSelfCloseTag","REGEX_XML_SELF_CLOSE_TAG","test","verifySelfCloseTag","tagName","OMITTED_CLOSE_TAGS","toLowerCase","getOpenTagParams","noXml","matchArr","pattern","lastIndexOf","isXmlCloseTag","getOpenTag","openTag","isSelfCloseTag","REGEX_SELF_CLOSE_TAG","isCloseTag","getInsideBraceParam","insideBraceParam","isControl","ret1","expr","ret2","isControlCloseTag","exprRule","isTmpl","addTmpl","node","parent","name","paramsP","params","tmpls","objT","strs","tranParam","compiledParam","isParamsExpr","addParamsExpr","paramsExpr","content","getTagComponentName","el","tagNamespace","getTagComponentAttrs","attrs","attributes","attrName","nodeName","specified","nodeValue","style","cssText","isTagControl","getTagComponents","selector","document","querySelectorAll","removeChildNode","children","childNodes","removeChild","firstChild","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","track","wbr","compiledParams","v","compiledProp","prop","filtersTmp","filters","slice","retF","_getFilterParam","filterObj","filterName","paramsF","parentNum","isStr","REGEX_FILTER_PARAM","_getReplaceParam","matchArrP","replaceParam","patternP","j","propP","item","_quots","splice","replaceSplit","props","isAll","retP","beginRule","isTmplPlace","styleProps","getDatasValue","datas","getItemParam","data","fixPropName","assignStringProp","paramsE","exprRet","p1","p2","p3","fn","p5","tmplWrap","configs","main","args","multiData","useString","template","fns","exprs","compPort","compLib","compClass","text","match","ESCAPE_LOOKUP","&",">","<","\"","'","parentContent","hasElse","_njShim","first","control","refer","openTagName","last","isElemNode","tranElem","hasCloseTag","selfCloseTag","ctrl","elseIndex","pushContent","retR","typeRefer","tagParams","end","checkContentElem","contentElse","checkTagElem","nodeType","checkTagContentElem","setInitTagData","dom","port","render","component","setNamespace","doc","namespaces","add","_commonConfig","index","registerFilter","options","filterConfig","count","no","equal","lt","val1","val2","noEqual","parseFloat","gt","isFloat","parseInt","int","float","bool","result","inverse","newContext","registerExpr","exprConfig","if","useUnless","referR","unless","thiz","retI","spreadparam","value1","value2","for","start","blank","spread","_createRegExp","reg","mode","RegExp","_clearRepeat","char","endRule","allRules","firstChar","otherChars","exprRules","escapeExprRule","replaceBraceParam","compile","tmplName","isComponent","isTag","_createAstRoot","tmplFns","buildRuntime","compileComponent","compileTagComponent","tags","tag","tmpl","getAttribute","parentNode","precompile","_buildFn","fnStr","isTmplExpr","retType","counter","_type","_typeRefer","_params","_paramsE","_compParam","_dataRefer","_expr","_this","_value","_filter","_thisF","_children","_buildContent","Function","_buildPropData","noEscape","dataValueStr","special","valueStr","filterStr","_filterC","_thisFC","configF","reduce","_buildEscape","_buildProps","str0","propData","strI","_noT","JSON","stringify","_buildNode","textStr","_buildRender","replaceSpecialSymbol","_exprC","_dataReferC","dataReferStr","_thisC","configE","newContextP","paramsEStr","_no","_typeC","typeStr","_typeReferC","valueStrT","paramsStr","_paramsC","_paramsEC","paramKeys","_compParamC","_childrenC","_selfClose","retStr","ast","REGEX_SYMBOLS","all","SPACIAL_SYMBOLS","nbsp","ensp","emsp","thinsp","zwnj","zwj","tmplKey","strTmpls","xmls","splitNo","fullXml","REGEX_SPLIT","xml","arg","useShim","shim","_clearNotesAndBlank","_paramsStr","_checkStringElem","_setTmplProps","current","elem","elemName","textBefore","textAfter","_formatText","_setText","_setSelfCloseElem","_setElem","_cascadeArr","njKey","elemArr","bySelfClose","substring","retS","_getSplitParams","retC","begin","propN","splitNos","t","shift","renderComp","checkStringElem","callback","addEventListener","attachEvent"],"mappings":"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","file":"nornj.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  compiler = __webpack_require__(16),\r\n\t  compileStringTmpl = __webpack_require__(19),\r\n\t  tmplByKey = __webpack_require__(21),\r\n\t  docReady = __webpack_require__(22);\r\n\t\r\n\tnj.compileStringTmpl = compileStringTmpl;\r\n\tnj.tmplByKey = tmplByKey;\r\n\tnj.docReady = docReady;\r\n\tutils.assign(nj, compiler, utils);\r\n\t\r\n\t//Create vml tag namespace(primarily for IE8)\r\n\tutils.registerTagNamespace();\r\n\t\r\n\t//Default use React as component engine\r\n\tif (typeof React !== 'undefined') {\r\n\t  setComponentEngine('react', React, typeof ReactDOM !== 'undefined' ? ReactDOM : null);\r\n\t}\r\n\t\r\n\tvar global;\r\n\tif (typeof self !== 'undefined') {\r\n\t  global = self;\r\n\t\r\n\t  //Init tag template\r\n\t  docReady(function () {\r\n\t    if (nj.componentLib && nj.autoRenderTag) {\r\n\t      nj.renderTagComponent(nj.initTagData);\r\n\t    }\r\n\t  });\r\n\t}\r\n\telse {\r\n\t  global = this;\r\n\t}\r\n\t\r\n\tmodule.exports = global.NornJ = global.nj = nj;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tfunction nj() {\r\n\t  return nj.compileStringTmpl.apply(null, arguments);\r\n\t}\r\n\t\r\n\tnj.componentLib = null;\r\n\tnj.componentLibObj = null;\r\n\tnj.componentLibDom = null;\r\n\tnj.componentPort = null;\r\n\tnj.componentRender = null;\r\n\tnj.componentClasses = {};\r\n\tnj.namespace = 'nj';\r\n\tnj.tagNamespaces = { nj: 'nj' };\r\n\tnj.tagId = 'nj-id';\r\n\tnj.tagStyle = 'nj-style';\r\n\tnj.tagClassName = 'nj-component';\r\n\tnj.asts = {};\r\n\tnj.templates = {};\r\n\tnj.errorTitle = 'NornJ:';\r\n\tnj.tmplRule = {};\r\n\tnj.autoRenderTag = true;\r\n\t\r\n\tmodule.exports = nj;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar tools = __webpack_require__(3),\r\n\t  transformElement = __webpack_require__(5),\r\n\t  transformParam = __webpack_require__(6),\r\n\t  transformData = __webpack_require__(7),\r\n\t  escape = __webpack_require__(8),\r\n\t  checkElem = __webpack_require__(9),\r\n\t  setComponentEngine = __webpack_require__(11),\r\n\t  registerComponent = __webpack_require__(12),\r\n\t  filter = __webpack_require__(13),\r\n\t  expression = __webpack_require__(14),\r\n\t  setTmplRule = __webpack_require__(15);\r\n\t\r\n\t//Set default param rule\r\n\tsetTmplRule();\r\n\t\r\n\tmodule.exports = tools.assign(\r\n\t  {\r\n\t    escape: escape,\r\n\t    setTmplRule: setTmplRule\r\n\t  },\r\n\t  checkElem,\r\n\t  setComponentEngine,\r\n\t  registerComponent,\r\n\t  filter,\r\n\t  expression,\r\n\t  tools,\r\n\t  transformElement,\r\n\t  transformParam,\r\n\t  transformData\r\n\t);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  assign = __webpack_require__(4),\r\n\t  arrayProto = Array.prototype,\r\n\t  arrayEvery = arrayProto.every,\r\n\t  arrayForEach = arrayProto.forEach,\r\n\t  arrayPush = arrayProto.push,\r\n\t  errorTitle = nj.errorTitle;\r\n\t\r\n\t//Push one by one to array\r\n\tfunction listPush(arr1, arr2, checkIsArr, checkNotNull) {\r\n\t  if (checkIsArr && !isArray(arr2)) {\r\n\t    //Put the value at the end of the first array only when the second parameter is not null.\r\n\t    if (!checkNotNull || arr2 != null) {\r\n\t      arr1[arr1.length] = arr2;\r\n\t    }\r\n\t    return arr1;\r\n\t  }\r\n\t\r\n\t  arrayPush.apply(arr1, arr2);\r\n\t  return arr1;\r\n\t}\r\n\t\r\n\t//判断是否为数组\r\n\tfunction isArray(obj) {\r\n\t  return Array.isArray(obj);\r\n\t}\r\n\t\r\n\t//判断是否为对象\r\n\tfunction isObject(obj) {\r\n\t  var type = typeof obj;\r\n\t  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\r\n\t}\r\n\t\r\n\t//判断是否为字符串\r\n\tfunction isString(obj) {\r\n\t  return Object.prototype.toString.call(obj) === '[object String]';\r\n\t}\r\n\t\r\n\t//获取属性值\r\n\tfunction _getProperty(key) {\r\n\t  return function (obj) {\r\n\t    return obj == null ? void 0 : obj[key];\r\n\t  };\r\n\t}\r\n\t\r\n\t//是否为类数组\r\n\tvar _getLength = _getProperty('length');\r\n\tfunction isArrayLike(obj) {\r\n\t  var length = _getLength(obj);\r\n\t  return typeof length == 'number' && length >= 0;\r\n\t}\r\n\t\r\n\t//遍历数组或对象\r\n\tfunction each(obj, func, context, isArr, useEvery) {\r\n\t  if (!obj) {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var arrayEach;\r\n\t  if (useEvery) {\r\n\t    arrayEach = arrayEvery;\r\n\t  }\r\n\t  else {\r\n\t    arrayEach = arrayForEach;\r\n\t  }\r\n\t  if (isArr == null) {\r\n\t    isArr = isArrayLike(obj);\r\n\t  }\r\n\t\r\n\t  //设置回调函数上下文\r\n\t  context = context ? context : obj;\r\n\t\r\n\t  if (isArr) {\r\n\t    arrayEach.call(obj, function (o, i) {\r\n\t      var ret = func.call(context, o, i);\r\n\t\r\n\t      if (useEvery) {\r\n\t        if (ret === false) {\r\n\t          return ret;\r\n\t        }\r\n\t        return true;\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t  else {\r\n\t    var keys = Object.keys(obj),\r\n\t      l = keys.length;\r\n\t    arrayEach.call(keys, function (k, i) {\r\n\t      var ret = func.call(context, obj[k], k, i, l);\r\n\t\r\n\t      if (useEvery) {\r\n\t        if (ret === false) {\r\n\t          return ret;\r\n\t        }\r\n\t        return true;\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t}\r\n\t\r\n\t//判断是否在数组内\r\n\tfunction inArray(obj, value) {\r\n\t  return obj.indexOf(value);\r\n\t}\r\n\t\r\n\t//去除字符串空格\r\n\tfunction trim(str) {\r\n\t  if (!!!str) {\r\n\t    return '';\r\n\t  }\r\n\t\r\n\t  return str.trim();\r\n\t}\r\n\t\r\n\t//Noop function\r\n\tfunction noop() { }\r\n\t\r\n\t//抛出异常\r\n\tfunction throwIf(val, msg, type) {\r\n\t  if (!val) {\r\n\t    switch (type) {\r\n\t      case 'expr':\r\n\t        throw Error(errorTitle + 'Expression \"' + msg + '\" is undefined, please check it has been registered.');\r\n\t      default:\r\n\t        throw Error(errorTitle + (msg || val));\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//Print warn\r\n\tfunction warn(msg, type) {\r\n\t  var ret = errorTitle;\r\n\t  switch (type) {\r\n\t    case 'filter':\r\n\t      ret += 'A filter called \"' + msg + '\" is undefined.';\r\n\t    default:\r\n\t      ret += msg;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//create a unique key\r\n\tfunction uniqueKey(str, hash) {\r\n\t  var len = str.length;\r\n\t  if (len == 0) {\r\n\t    return str;\r\n\t  }\r\n\t  if (hash == null) {\r\n\t    hash = 0;\r\n\t  }\r\n\t\r\n\t  var i, chr;\r\n\t  for (i = 0, len = str.length; i < len; i++) {\r\n\t    chr = str.charCodeAt(i);\r\n\t    hash = ((hash << 5) - hash) + chr;\r\n\t    hash |= 0;\r\n\t  }\r\n\t\r\n\t  return hash;\r\n\t}\r\n\t\r\n\t//create light weight object\r\n\tfunction lightObj() {\r\n\t  return Object.create(null);\r\n\t}\r\n\t\r\n\t//Clear quotation marks\r\n\tfunction clearQuot(value) {\r\n\t  var charF = value[0],\r\n\t    regex;\r\n\t\r\n\t  if (charF === '\\'') {\r\n\t    regex = /[']+/g;\r\n\t  }\r\n\t  else if (charF === '\"') {\r\n\t    regex = /[\"]+/g;\r\n\t  }\r\n\t  if (regex) {\r\n\t    value = value.replace(regex, '');\r\n\t  }\r\n\t\r\n\t  return value;\r\n\t}\r\n\t\r\n\t//Transform to camel-case\r\n\tfunction toCamelCase(str) {\r\n\t  if (str.indexOf('-') > -1) {\r\n\t    str = str.replace(/-\\w/g, function (letter) {\r\n\t      return letter.substr(1).toUpperCase();\r\n\t    });\r\n\t  }\r\n\t\r\n\t  return str;\r\n\t}\r\n\t\r\n\tvar tools = {\r\n\t  isArray: isArray,\r\n\t  isArrayLike: isArrayLike,\r\n\t  isObject: isObject,\r\n\t  isString: isString,\r\n\t  each: each,\r\n\t  inArray: inArray,\r\n\t  trim: trim,\r\n\t  throwIf: throwIf,\r\n\t  assign: assign,\r\n\t  uniqueKey: uniqueKey,\r\n\t  lightObj: lightObj,\r\n\t  listPush: listPush,\r\n\t  clearQuot: clearQuot,\r\n\t  toCamelCase: toCamelCase,\r\n\t  warn: warn,\r\n\t  noop: noop\r\n\t};\r\n\t\r\n\tmodule.exports = tools;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t/* eslint-disable no-unused-vars */\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tfunction shouldUseNative() {\n\t\ttry {\n\t\t\tif (!Object.assign) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Detect buggy property enumeration order in older V8 versions.\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\t\ttest1[5] = 'de';\n\t\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test2 = {};\n\t\t\tfor (var i = 0; i < 10; i++) {\n\t\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t\t}\n\t\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\t\treturn test2[n];\n\t\t\t});\n\t\t\tif (order2.join('') !== '0123456789') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test3 = {};\n\t\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\t\ttest3[letter] = letter;\n\t\t\t});\n\t\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (Object.getOwnPropertySymbols) {\n\t\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranParam = __webpack_require__(6),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//提取xml open tag\r\n\tfunction getXmlOpenTag(obj) {\r\n\t  return tmplRule.xmlOpenTag.exec(obj);\r\n\t}\r\n\t\r\n\t//验证xml self close tag\r\n\tvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\r\n\tfunction isXmlSelfCloseTag(obj) {\r\n\t  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\r\n\t}\r\n\t\r\n\t//Verify self close tag name\r\n\tvar OMITTED_CLOSE_TAGS = {\r\n\t  'area': true,\r\n\t  'base': true,\r\n\t  'br': true,\r\n\t  'col': true,\r\n\t  'embed': true,\r\n\t  'hr': true,\r\n\t  'img': true,\r\n\t  'input': true,\r\n\t  'keygen': true,\r\n\t  'link': true,\r\n\t  'meta': true,\r\n\t  'param': true,\r\n\t  'source': true,\r\n\t  'track': true,\r\n\t  'wbr': true\r\n\t};\r\n\tfunction verifySelfCloseTag(tagName) {\r\n\t  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\r\n\t}\r\n\t\r\n\t//Extract parameters inside the xml open tag\r\n\tfunction getOpenTagParams(obj, noXml) {\r\n\t  var pattern = /[\\s]+([^\\s={}>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?/g,\r\n\t    matchArr, ret;\r\n\t\r\n\t  while ((matchArr = pattern.exec(obj))) {\r\n\t    var key = matchArr[1];\r\n\t    if (key === '/' || key === '/>') {  //If match to the last \"/\" or \"/>\", then continue the loop.\r\n\t      continue;\r\n\t    }\r\n\t\r\n\t    if (!ret) {\r\n\t      ret = [];\r\n\t    }\r\n\t\r\n\t    var value = matchArr[3],\r\n\t      charF, len, regex;\r\n\t    if (value != null) {\r\n\t      value = tools.clearQuot(value);  //Remove quotation marks\r\n\t    }\r\n\t    else {\r\n\t      value = key;  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n\t    }\r\n\t    len = value.length;\r\n\t\r\n\t    //Removed at the end of \"/>\" or \">\".\r\n\t    if (!noXml) {\r\n\t      if (value.lastIndexOf('/>') === len - 2) {\r\n\t        value = value.replace(/\\/>/, '');\r\n\t      }\r\n\t      else if (value.lastIndexOf('>') === len - 1) {\r\n\t        value = value.replace(/>/, '');\r\n\t      }\r\n\t    }\r\n\t\r\n\t    ret.push({ key: key, value: value });\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//判断xml close tag\r\n\tfunction isXmlCloseTag(obj, tagName) {\r\n\t  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\r\n\t}\r\n\t\r\n\t//提取open tag\r\n\tfunction getOpenTag(obj) {\r\n\t  return tmplRule.openTag.exec(obj);\r\n\t}\r\n\t\r\n\t//验证self close tag\r\n\tvar REGEX_SELF_CLOSE_TAG = /\\/$/i;\r\n\tfunction isSelfCloseTag(obj) {\r\n\t  return REGEX_SELF_CLOSE_TAG.test(obj);\r\n\t}\r\n\t\r\n\t//判断close tag\r\n\tfunction isCloseTag(obj, tagName) {\r\n\t  return tools.isString(obj) && obj.toLowerCase() === '/' + tagName.toLowerCase();\r\n\t}\r\n\t\r\n\t//get inside brace param\r\n\tfunction getInsideBraceParam(obj) {\r\n\t  return tmplRule.insideBraceParam.exec(obj);\r\n\t}\r\n\t\r\n\t//判断流程控制块并返回refer值\r\n\tfunction isControl(obj) {\r\n\t  var ret, ret1 = tmplRule.expr.exec(obj);\r\n\t  if (ret1) {\r\n\t    ret = [ret1[1]];\r\n\t\r\n\t    var ret2 = getInsideBraceParam(obj);  //提取refer值\r\n\t    if (ret2) {\r\n\t      ret.push(ret2[0]);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//判断流程控制块close tag\r\n\tfunction isControlCloseTag(obj, tagName) {\r\n\t  return tools.isString(obj) && obj === '/' + tmplRule.exprRule + tagName;\r\n\t}\r\n\t\r\n\t//判断是否模板元素\r\n\tfunction isTmpl(obj) {\r\n\t  return obj === 'tmpl';\r\n\t}\r\n\t\r\n\t//加入到模板集合中\r\n\tfunction addTmpl(node, parent, name) {\r\n\t  var paramsP = parent.params;\r\n\t  if (!paramsP) {\r\n\t    paramsP = parent.params = tools.lightObj();\r\n\t  }\r\n\t\r\n\t  var tmpls = paramsP.tmpls;\r\n\t  if (!tmpls) {\r\n\t    var objT = { length: 0 };\r\n\t    if(name != null) {\r\n\t      objT[name] = node;\r\n\t    }\r\n\t    else {\r\n\t      objT['0'] = node;\r\n\t      objT.length = 1;\r\n\t    }\r\n\t\r\n\t    paramsP.tmpls = tranParam.compiledParam(objT);\r\n\t  }\r\n\t  else {  //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\r\n\t    var objT = tmpls.strs[0],\r\n\t      len = objT.length;\r\n\t\r\n\t    if(name != null) {\r\n\t      objT[name] = node;\r\n\t    }\r\n\t    else {\r\n\t      objT[len] = node;\r\n\t      objT.length = ++len;\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//Test whether as parameters expression\r\n\tfunction isParamsExpr(obj) {\r\n\t  return obj === 'params' || obj === 'props';\r\n\t}\r\n\t\r\n\t//Add to the \"paramsExpr\" property of the parent node\r\n\tfunction addParamsExpr(node, parent) {\r\n\t  if (!parent.paramsExpr) {\r\n\t    parent.paramsExpr = node;\r\n\t  }\r\n\t  else {\r\n\t    tools.listPush(parent.paramsExpr.content, node.content);\r\n\t  }\r\n\t}\r\n\t\r\n\t//获取标签组件名\r\n\tfunction getTagComponentName(el) {\r\n\t  var tagName = el.tagName.toLowerCase();\r\n\t  tools.each(nj.tagNamespaces, function (tagNamespace) {\r\n\t    if (tagName.indexOf(tagNamespace + ':') === 0) {\r\n\t      tagName = tagName.split(':')[1];\r\n\t      return false;\r\n\t    }\r\n\t    else if (tagName.indexOf(tagNamespace + '-') === 0) {\r\n\t      tagName = tagName.split('-')[1];\r\n\t      return false;\r\n\t    }\r\n\t  }, false, false, true);\r\n\t\r\n\t  return tagName;\r\n\t}\r\n\t\r\n\t//获取标签组件所有属性\r\n\tfunction getTagComponentAttrs(el) {\r\n\t  var attrs = el.attributes,\r\n\t    ret;\r\n\t\r\n\t  tools.each(attrs, function (obj) {\r\n\t    var attrName = obj.nodeName;\r\n\t    if (attrName !== nj.tagId && obj.specified) {  //此处如不判断specified属性,则低版本IE中会列出所有可能的属性\r\n\t      var val = obj.nodeValue;\r\n\t      if (!ret) {\r\n\t        ret = tools.lightObj();\r\n\t      }\r\n\t\r\n\t      //Deal with the attribute only has key.\r\n\t      if (val === '') {\r\n\t        val = attrName;\r\n\t      }\r\n\t\r\n\t      if (attrName === 'style') {  //style属性使用cssText\r\n\t        val = el.style.cssText;\r\n\t      }\r\n\t      else if (attrName.indexOf('data-') !== 0  //Transform to camel-case\r\n\t        && attrName.indexOf(nj.namespace + '-') !== 0) {\r\n\t        //Can be marked with an exclamation mark to distinguish the attribute name beginning with \"data-\".\r\n\t        if (attrName.indexOf('!') === 0) {\r\n\t          attrName = attrName.substr(1);\r\n\t        }\r\n\t\r\n\t        attrName = tools.toCamelCase(attrName);\r\n\t      }\r\n\t\r\n\t      ret[attrName] = val;\r\n\t    }\r\n\t  });\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//判断标签表达式块\r\n\tfunction isTagControl(obj) {\r\n\t  return tmplRule.expr.test(obj);\r\n\t}\r\n\t\r\n\t//获取全部标签组件\r\n\tfunction getTagComponents(selector) {\r\n\t  if (!selector) {\r\n\t    selector = '.' + nj.tagClassName;\r\n\t  }\r\n\t\r\n\t  return document.querySelectorAll(selector);\r\n\t}\r\n\t\r\n\t//Remove all dom child node\r\n\tfunction removeChildNode(node) {\r\n\t  var children = node.childNodes,\r\n\t    len = children.length,\r\n\t    i = 0;\r\n\t\r\n\t  for (; i < len; i++) {\r\n\t    node.removeChild(node.firstChild);\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  getXmlOpenTag: getXmlOpenTag,\r\n\t  isXmlSelfCloseTag: isXmlSelfCloseTag,\r\n\t  verifySelfCloseTag: verifySelfCloseTag,\r\n\t  getOpenTagParams: getOpenTagParams,\r\n\t  isXmlCloseTag: isXmlCloseTag,\r\n\t  getOpenTag: getOpenTag,\r\n\t  isSelfCloseTag: isSelfCloseTag,\r\n\t  isCloseTag: isCloseTag,\r\n\t  getInsideBraceParam: getInsideBraceParam,\r\n\t  isControl: isControl,\r\n\t  isControlCloseTag: isControlCloseTag,\r\n\t  isTmpl: isTmpl,\r\n\t  addTmpl: addTmpl,\r\n\t  isParamsExpr: isParamsExpr,\r\n\t  addParamsExpr: addParamsExpr,\r\n\t  getTagComponentName: getTagComponentName,\r\n\t  getTagComponentAttrs: getTagComponentAttrs,\r\n\t  isTagControl: isTagControl,\r\n\t  getTagComponents: getTagComponents,\r\n\t  removeChildNode: removeChildNode\r\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//Get compiled parameters from a object\r\n\tfunction compiledParams(obj) {\r\n\t  var ret = tools.lightObj();\r\n\t  tools.each(obj, function (v, k) {\r\n\t    ret[k] = compiledParam(v);\r\n\t  }, false, false);\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get compiled property\r\n\tfunction compiledProp(prop, isString) {\r\n\t  var ret = tools.lightObj();\r\n\t\r\n\t  //Extract the dot data path to the 'prop' filter.\r\n\t  if (!isString && prop.indexOf('.') > -1) {\r\n\t    prop = prop.replace(/\\.([^\\s.:\\/]+)/g, ':prop($1)');\r\n\t  }\r\n\t\r\n\t  //If there are colons in the property,then use filter\r\n\t  if (prop.indexOf(':') >= 0) {\r\n\t    var filters = [],\r\n\t      filtersTmp;\r\n\t    filtersTmp = prop.split(':');\r\n\t    prop = filtersTmp[0].trim();  //Extract property\r\n\t\r\n\t    filtersTmp = filtersTmp.slice(1);\r\n\t    tools.each(filtersTmp, function (filter) {\r\n\t      var retF = _getFilterParam(filter.trim()),\r\n\t        filterObj = tools.lightObj(),\r\n\t        filterName = retF[1].toLowerCase();  //Get filter name\r\n\t\r\n\t      if (filterName) {\r\n\t        var paramsF = retF[3];  //Get filter param\r\n\t\r\n\t        //Multiple params are separated by commas.\r\n\t        if (paramsF) {\r\n\t          var params = [];\r\n\t          tools.each(paramsF.split(','), function (p) {\r\n\t            params[params.length] = p.trim();\r\n\t          }, false, true);\r\n\t\r\n\t          filterObj.params = params;\r\n\t        }\r\n\t\r\n\t        filterObj.name = filterName;\r\n\t        filters.push(filterObj);\r\n\t      }\r\n\t    }, false, true);\r\n\t\r\n\t    ret.filters = filters;\r\n\t  }\r\n\t\r\n\t  //Extract the parent data path\r\n\t  if (!isString && prop.indexOf('../') > -1) {\r\n\t    var n = 0;\r\n\t    prop = prop.replace(/\\.\\.\\//g, function () {\r\n\t      n++;\r\n\t      return '';\r\n\t    });\r\n\t\r\n\t    ret.parentNum = n;\r\n\t  }\r\n\t\r\n\t  ret.name = prop;\r\n\t  if (isString) {  //Sign the parameter is a pure string.\r\n\t    ret.isStr = true;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get filter param\r\n\tvar REGEX_FILTER_PARAM = /([\\w$]+)(\\(([^()]+)\\))*/;\r\n\tfunction _getFilterParam(obj) {\r\n\t  return REGEX_FILTER_PARAM.exec(obj);\r\n\t}\r\n\t\r\n\t//Extract replace parameters\r\n\tvar _quots = ['\\'', '\"'];\r\n\tfunction _getReplaceParam(obj, strs) {\r\n\t  var pattern = tmplRule.replaceParam(),\r\n\t    patternP = /[^\\s:]+([\\s]?:[\\s]?[^\\s\\(\\)]+(\\([^\\(\\)]+\\))?(\\.[^\\s.]+)?){0,}/g,\r\n\t    matchArr, matchArrP, ret, prop, i = 0;\r\n\t\r\n\t  while ((matchArr = pattern.exec(obj))) {\r\n\t    if (!ret) {\r\n\t      ret = [];\r\n\t    }\r\n\t\r\n\t    var j = 0;\r\n\t    prop = matchArr[3];\r\n\t\r\n\t    //To extract parameters by interval space.\r\n\t    while ((matchArrP = patternP.exec(prop))) {\r\n\t      var propP = matchArrP[0],\r\n\t        item = [matchArr[0], matchArr[1], propP, false, true];\r\n\t\r\n\t      //Clear parameter at both ends of the space.\r\n\t      propP = propP.trim();\r\n\t\r\n\t      //If parameter has quotation marks, this's a pure string parameter.\r\n\t      if (_quots.indexOf(propP[0]) > -1) {\r\n\t        propP = tools.clearQuot(propP);\r\n\t        item[3] = true;\r\n\t      }\r\n\t\r\n\t      item[2] = propP;\r\n\t      ret.push(item);\r\n\t\r\n\t      //If there are several parameters in a curly braces, fill the space for the \"strs\" array.\r\n\t      if (j > 0) {\r\n\t        item[4] = false;  //Sign not contain all of placehorder\r\n\t        strs.splice(++i, 0, '');\r\n\t      }\r\n\t      j++;\r\n\t    }\r\n\t    i++;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get compiled parameter\r\n\tfunction compiledParam(value) {\r\n\t  var ret = tools.lightObj(),\r\n\t    strs = tools.isString(value) ? value.split(tmplRule.replaceSplit) : [value],\r\n\t    props = null,\r\n\t    isAll = false;  //此处指替换符是否占满整个属性值;若无替换符时为false\r\n\t\r\n\t  //If have placehorder\r\n\t  if (strs.length > 1) {\r\n\t    var params = _getReplaceParam(value, strs);\r\n\t    props = [];\r\n\t\r\n\t    tools.each(params, function (param) {\r\n\t      var retP = tools.lightObj();\r\n\t      isAll = param[4] ? param[0] === value : false;  //If there are several parameters in a curly braces, \"isAll\" must be false.\r\n\t      retP.prop = compiledProp(param[2], param[3]);\r\n\t\r\n\t      //If parameter's open rules are several,then it need escape.\r\n\t      retP.escape = param[1].split(tmplRule.beginRule).length < 3;\r\n\t      props.push(retP);\r\n\t    }, false, true);\r\n\t  }\r\n\t\r\n\t  ret.props = props;\r\n\t  ret.strs = strs;\r\n\t  ret.isAll = isAll;\r\n\t\r\n\t  //标记为模板函数替换变量\r\n\t  if(isAll) {\r\n\t    var prop = props[0].prop;\r\n\t    if(prop.name.indexOf('!#') === 0) {\r\n\t      prop.name = prop.name.substr(2);\r\n\t      ret.isTmplPlace = true;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  compiledParam: compiledParam,\r\n\t  compiledParams: compiledParams,\r\n\t  compiledProp: compiledProp\r\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  errorTitle = nj.errorTitle;\r\n\t\r\n\t//提取style内参数\r\n\tfunction styleProps(obj) {\r\n\t  //If the parameter is a style object,then direct return.\r\n\t  if (tools.isObject(obj)) {\r\n\t    return obj;\r\n\t  }\r\n\t\r\n\t  //参数为字符串\r\n\t  var pattern = /([^\\s:]+)[\\s]?:[\\s]?([^\\s;]+)[;]?/g,\r\n\t    matchArr, ret;\r\n\t\r\n\t  while ((matchArr = pattern.exec(obj))) {\r\n\t    var key = matchArr[1],\r\n\t      value = matchArr[2];\r\n\t\r\n\t    if (!ret) {\r\n\t      ret = {};\r\n\t    }\r\n\t\r\n\t    //Convert to lowercase when style name is all capital.\r\n\t    if (/^[A-Z-]+$/.test(key)) {\r\n\t      key = key.toLowerCase();\r\n\t    }\r\n\t\r\n\t    //将连字符转为驼峰命名\r\n\t    key = tools.toCamelCase(key);\r\n\t\r\n\t    ret[key] = value;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get value from multiple datas\r\n\tfunction getDatasValue(datas, prop) {\r\n\t  var ret, obj;\r\n\t  for (var i = 0, l = datas.length; i < l; i++) {\r\n\t    obj = datas[i];\r\n\t    if (obj) {\r\n\t      ret = obj[prop];\r\n\t      if (ret != null) {\r\n\t        return ret;\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//获取each块中的item参数\r\n\tfunction getItemParam(item, data, isArr) {\r\n\t  var ret = item;\r\n\t  if (isArr == null) {\r\n\t    isArr = tools.isArray(data);\r\n\t  }\r\n\t  if (isArr) {\r\n\t    ret = tools.listPush([item], data.slice(1));\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//修正属性名\r\n\tfunction fixPropName(name) {\r\n\t  switch (name) {\r\n\t    case 'class':\r\n\t      name = 'className';\r\n\t      break;\r\n\t    case 'for':\r\n\t      name = 'htmlFor';\r\n\t      break;\r\n\t  }\r\n\t\r\n\t  return name;\r\n\t}\r\n\t\r\n\t//合并字符串属性\r\n\tfunction assignStringProp(paramsE, keys) {\r\n\t  var ret = '';\r\n\t  for (var k in paramsE) {\r\n\t    if (!keys || !keys[k]) {\r\n\t      ret += ' ' + k + '=\"' + paramsE[k] + '\"';\r\n\t    }\r\n\t  }\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//创建块表达式子节点函数\r\n\tfunction exprRet(p1, p2, p3, fn, p5) {\r\n\t  return function (param) {\r\n\t    return fn(p1, p2, p3, param, p5);\r\n\t  };\r\n\t}\r\n\t\r\n\t//构建可运行的模板函数\r\n\tfunction tmplWrap(configs, main) {\r\n\t  return function (data) {\r\n\t    var args = arguments,\r\n\t      len = args.length,\r\n\t      data;\r\n\t\r\n\t    if (len <= 0) {\r\n\t      data = {};\r\n\t    }\r\n\t    else if (len === 1) {\r\n\t      data = args[0];\r\n\t    }\r\n\t    else {\r\n\t      data = [];\r\n\t      for (var i = 0; i < len; i++) {\r\n\t        data[data.length] = args[i];\r\n\t      }\r\n\t    }\r\n\t\r\n\t    var ret = main(configs, { data: data, parent: this ? this.parent : null }, { multiData: nj.isArray(data) });\r\n\t    if (!configs.useString && tools.isArray(ret)) {  //组件最外层必须是单一节点对象\r\n\t      ret = ret[0];\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  };\r\n\t}\r\n\t\r\n\t//创建模板函数\r\n\tfunction template(fns) {\r\n\t  var configs = {\r\n\t    useString: fns.useString,\r\n\t    exprs: nj.exprs,\r\n\t    filters: nj.filters,\r\n\t    getDatasValue: nj.getDatasValue,\r\n\t    noop: nj.noop,\r\n\t    lightObj: nj.lightObj,\r\n\t    throwIf: nj.throwIf,\r\n\t    warn: nj.warn,\r\n\t    getItemParam: nj.getItemParam,\r\n\t    styleProps: nj.styleProps,\r\n\t    exprRet: nj.exprRet\r\n\t  };\r\n\t\r\n\t  if (!configs.useString) {\r\n\t    configs.compPort = nj.componentPort;\r\n\t    configs.compLib = nj.componentLibObj;\r\n\t    configs.compClass = nj.componentClasses;\r\n\t    //configs.assign = nj.assign;\r\n\t  }\r\n\t  else {\r\n\t    configs.assignStringProp = nj.assignStringProp;\r\n\t    configs.escape = nj.escape;\r\n\t  }\r\n\t\r\n\t  tools.each(fns, function (v, k) {\r\n\t    if (k.indexOf('main') === 0) {  //将每个主函数构建为可运行的模板函数\r\n\t      configs[k] = tmplWrap(configs, v);\r\n\t    }\r\n\t    else if (k.indexOf('fn') === 0) {  //块表达式函数\r\n\t      configs[k] = v;\r\n\t    }\r\n\t  }, false, false);\r\n\t\r\n\t  return configs;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  getItemParam: getItemParam,\r\n\t  getDatasValue: getDatasValue,\r\n\t  fixPropName: fixPropName,\r\n\t  styleProps: styleProps,\r\n\t  assignStringProp: assignStringProp,\r\n\t  exprRet: exprRet,\r\n\t  tmplWrap: tmplWrap,\r\n\t  template: template\r\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tvar ESCAPE_LOOKUP = {\r\n\t  '&': '&amp;',\r\n\t  '>': '&gt;',\r\n\t  '<': '&lt;',\r\n\t  '\"': '&quot;',\r\n\t  '\\'': '&#x27;'\r\n\t};\r\n\t\r\n\tfunction escape(text) {\r\n\t  if (text == null) {\r\n\t    return '';\r\n\t  }\r\n\t  else if(!text.replace) {\r\n\t    return text;\r\n\t  }\r\n\t\r\n\t  return text.replace(/[&><\"']/g, function (match) {\r\n\t    return ESCAPE_LOOKUP[match];\r\n\t  });\r\n\t}\r\n\t\r\n\tmodule.exports = escape;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranParam = __webpack_require__(6),\r\n\t  tranElem = __webpack_require__(5),\r\n\t  checkTagElem = __webpack_require__(10),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//检测元素节点\r\n\tfunction checkElem(obj, parent) {\r\n\t  var node = {},\r\n\t    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\t\r\n\t  if (!tools.isArray(obj)) {  //判断是否为文本节点\r\n\t    if (tools.isObject(obj) && '_njShim' in obj && !tools.isArray(obj._njShim)) {  //Get the shim value\r\n\t      obj = obj._njShim;\r\n\t    }\r\n\t\r\n\t    //if (tools.isString(obj)) {\r\n\t    node.type = 'nj_plaintext';\r\n\t    node.content = [tranParam.compiledParam(obj)];\r\n\t    parent[parentContent].push(node);\r\n\t    //}\r\n\t\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var first = obj[0];\r\n\t  if (tools.isString(first)) {  //第一个子节点为字符串\r\n\t    var first = first,\r\n\t      len = obj.length,\r\n\t      last = obj[len - 1],\r\n\t      isElemNode = false,\r\n\t      control,\r\n\t      refer;\r\n\t\r\n\t    //判断是否为xml标签\r\n\t    var xmlOpenTag = tranElem.getXmlOpenTag(first),\r\n\t      openTagName,\r\n\t      hasCloseTag = false,\r\n\t      isTmpl, isParamsExpr;\r\n\t\r\n\t    if (xmlOpenTag) {  //tagname为xml标签时,则认为是元素节点\r\n\t      openTagName = xmlOpenTag[1];\r\n\t\r\n\t      if (!tranElem.isXmlSelfCloseTag(first)) {  //非自闭合标签才验证是否存在关闭标签\r\n\t        hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\r\n\t      }\r\n\t      else {  //自闭合标签\r\n\t        node.selfCloseTag = true;\r\n\t      }\r\n\t      isElemNode = true;\r\n\t    }\r\n\t    else {\r\n\t      control = tranElem.isControl(first);\r\n\t      if (!control) {  //tagname不为xml标签时,必须有结束标签才认为是元素节点\r\n\t        var openTag = tranElem.getOpenTag(first);\r\n\t        if (openTag) {\r\n\t          openTagName = openTag[0];\r\n\t\r\n\t          if (!tranElem.isSelfCloseTag(first)) {  //非自闭合标签\r\n\t            hasCloseTag = tranElem.isCloseTag(last, openTagName);\r\n\t            if (hasCloseTag) {\r\n\t              isElemNode = true;\r\n\t            }\r\n\t          }\r\n\t          else {  //如果是自闭合标签则直接认为是元素节点\r\n\t            node.selfCloseTag = true;\r\n\t            isElemNode = true;\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t      else {  //为特殊节点,也可视为一个元素节点\r\n\t        var ctrl = control[0].toLowerCase();\r\n\t        refer = control[1];\r\n\t        isTmpl = tranElem.isTmpl(ctrl);\r\n\t        isParamsExpr = tranElem.isParamsExpr(ctrl);\r\n\t\r\n\t        node.type = 'nj_expr';\r\n\t        node.expr = ctrl;\r\n\t        if (refer != null && !isTmpl) {\r\n\t          node.refer = tranParam.compiledParam(refer);\r\n\t        }\r\n\t\r\n\t        if (tranElem.isControlCloseTag(last, ctrl)) {  //判断是否有流程控制块闭合标签\r\n\t          hasCloseTag = true;\r\n\t        }\r\n\t        isElemNode = true;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    if (isElemNode) {  //判断是否为元素节点\r\n\t      var elseIndex = -1,\r\n\t        pushContent = true;\r\n\t\r\n\t      if (!control) {\r\n\t        node.type = openTagName;\r\n\t\r\n\t        //If open tag has a brace,add the typeRefer param.\r\n\t        var typeRefer = tranElem.getInsideBraceParam(openTagName);\r\n\t        if (typeRefer) {\r\n\t          node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n\t        }\r\n\t\r\n\t        //获取openTag内参数\r\n\t        var tagParams = tranElem.getOpenTagParams(first, !xmlOpenTag);\r\n\t        if (tagParams) {\r\n\t          if (!node.params) {\r\n\t            node.params = tools.lightObj();\r\n\t          }\r\n\t\r\n\t          tools.each(tagParams, function (param) {\r\n\t            node.params[param.key] = tranParam.compiledParam(param.value);\r\n\t          }, false, true);\r\n\t        }\r\n\t\r\n\t        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n\t        if (!node.selfCloseTag) {\r\n\t          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\r\n\t        }\r\n\t      }\r\n\t      else {  //为表达式块时判断是否有$else\r\n\t        if (isTmpl) {  //模板元素\r\n\t          pushContent = false;\r\n\t          var retR = tranElem.getInsideBraceParam(refer);\r\n\t\r\n\t          //将模板添加到父节点的params中\r\n\t          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n\t        }\r\n\t        else if (isParamsExpr) {\r\n\t          pushContent = false;\r\n\t        }\r\n\t        else {\r\n\t          elseIndex = tools.inArray(obj, tmplRule.exprRule + 'else');\r\n\t        }\r\n\t      }\r\n\t\r\n\t      //放入父节点content内\r\n\t      if (pushContent) {\r\n\t        parent[parentContent].push(node);\r\n\t      }\r\n\t\r\n\t      //取出子节点集合\r\n\t      var end = len - (hasCloseTag ? 1 : 0),\r\n\t        content = obj.slice(1, (elseIndex < 0 ? end : elseIndex));\r\n\t      if (content && content.length) {\r\n\t        checkContentElem(content, node);\r\n\t      }\r\n\t\r\n\t      //如果有$else,则将$else后面的部分存入content_else集合中\r\n\t      if (elseIndex >= 0) {\r\n\t        var contentElse = obj.slice(elseIndex + 1, end);\r\n\t        node.hasElse = true;\r\n\t\r\n\t        if (contentElse && contentElse.length) {\r\n\t          checkContentElem(contentElse, node);\r\n\t        }\r\n\t      }\r\n\t\r\n\t      //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n\t      if (isParamsExpr) {\r\n\t        tranElem.addParamsExpr(node, parent);\r\n\t      }\r\n\t    }\r\n\t    else {  //如果不是元素节点,则为节点集合\r\n\t      checkContentElem(obj, parent);\r\n\t    }\r\n\t  }\r\n\t  else if (tools.isArray(first)) {  //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\r\n\t    checkContentElem(obj, parent);\r\n\t  }\r\n\t}\r\n\t\r\n\t//检测子元素节点\r\n\tfunction checkContentElem(obj, parent) {\r\n\t  if (!parent.content) {\r\n\t    parent.content = [];\r\n\t  }\r\n\t  if (parent.hasElse && !parent.contentElse) {\r\n\t    parent.contentElse = [];\r\n\t  }\r\n\t\r\n\t  tools.each(obj, function (item) {\r\n\t    checkElem(item, parent);\r\n\t  }, false, true);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  checkElem: checkElem,\r\n\t  checkTagElem: checkTagElem\r\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranParam = __webpack_require__(6),\r\n\t  tranElem = __webpack_require__(5),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//检测标签元素节点\r\n\tfunction checkTagElem(obj, parent) {\r\n\t  var node = {},\r\n\t    nodeType = obj.nodeType,\r\n\t    nodeValue = tools.trim(obj.nodeValue),\r\n\t    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\t\r\n\t  //处理文本节点\r\n\t  if (nodeType === 3) {\r\n\t    if (nodeValue === '') {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    node.type = 'nj_plaintext';\r\n\t    node.content = [tranParam.compiledParam(nodeValue)];\r\n\t    parent[parentContent].push(node);\r\n\t\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  //处理元素节点\r\n\t  if (nodeType === 1) {\r\n\t    var tagName = tranElem.getTagComponentName(obj),\r\n\t      params = tranElem.getTagComponentAttrs(obj),\r\n\t      isControl = tranElem.isTagControl(tagName),\r\n\t      pushContent = true,\r\n\t      isParamsExpr;\r\n\t\r\n\t    if (isControl) {  //特殊节点\r\n\t      if (tagName !== tmplRule.exprRule + 'else') {\r\n\t        tagName = tagName.substr(1);\r\n\t        node.type = 'nj_expr';\r\n\t        node.expr = tagName;\r\n\t        isParamsExpr = tranElem.isParamsExpr(tagName);\r\n\t\r\n\t        if (tranElem.isTmpl(tagName)) {  //模板元素\r\n\t          pushContent = false;\r\n\t          var retR;\r\n\t          if (params && params.refer) {\r\n\t            retR = tranElem.getInsideBraceParam(params.refer);\r\n\t          }\r\n\t\r\n\t          //将模板添加到父节点的params中\r\n\t          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n\t        }\r\n\t        else if (isParamsExpr) {\r\n\t          pushContent = false;\r\n\t        }\r\n\t        else {  //Expression block\r\n\t          if (params && params.refer) {\r\n\t            var retR = tranElem.getInsideBraceParam(params.refer);\r\n\t            node.refer = tranParam.compiledParam(retR ? retR[0] : params.refer);\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t      else {  //else节点\r\n\t        pushContent = false;\r\n\t\r\n\t        //将else标签内的子节点放入当前父节点的contentElse中\r\n\t        node = parent;\r\n\t        node.hasElse = true;\r\n\t      }\r\n\t    }\r\n\t    else {  //元素节点\r\n\t      node.type = tagName;\r\n\t\r\n\t      //If open tag has a brace,add the typeRefer param.\r\n\t      var typeRefer = tranElem.getInsideBraceParam(tagName);\r\n\t      if (typeRefer) {\r\n\t        node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n\t      }\r\n\t\r\n\t      if (params) {\r\n\t        node.params = tranParam.compiledParams(params);\r\n\t      }\r\n\t\r\n\t      //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n\t      node.selfCloseTag = tranElem.verifySelfCloseTag(tagName);\r\n\t    }\r\n\t\r\n\t    //放入父节点content内\r\n\t    if (pushContent) {\r\n\t      parent[parentContent].push(node);\r\n\t    }\r\n\t\r\n\t    //处理子元素\r\n\t    var childNodes = obj.childNodes;\r\n\t    if (childNodes && childNodes.length) {\r\n\t      checkTagContentElem(childNodes, node);\r\n\t    }\r\n\t\r\n\t    //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n\t    if (isParamsExpr) {\r\n\t      tranElem.addParamsExpr(node, parent);\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//检测标签子元素节点\r\n\tfunction checkTagContentElem(obj, parent) {\r\n\t  if (!parent.content) {\r\n\t    parent.content = [];\r\n\t  }\r\n\t  if (parent.hasElse && !parent.contentElse) {\r\n\t    parent.contentElse = [];\r\n\t  }\r\n\t\r\n\t  tools.each(obj, function (item) {\r\n\t    checkTagElem(item, parent);\r\n\t  }, false, true);\r\n\t}\r\n\t\r\n\t//Set init data for tag component\r\n\tnj.setInitTagData = function (data) {\r\n\t  nj.initTagData = data;\r\n\t};\r\n\t\r\n\tmodule.exports = checkTagElem;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\t//Set component engine\r\n\tfunction setComponentEngine(name, obj, dom, port, render) {\r\n\t  //Component engine's name\r\n\t  nj.componentLib = name;\r\n\t\r\n\t  //Component engine's object\r\n\t  nj.componentLibObj = obj;\r\n\t\r\n\t  //Component engine's dom object\r\n\t  dom = dom || obj;\r\n\t  nj.componentLibDom = dom;\r\n\t\r\n\t  //Component engine's create element and render function\r\n\t  if (name === 'react') {\r\n\t    port = 'createElement';\r\n\t    render = 'render';\r\n\t  }\r\n\t  nj.componentPort = tools.isString(port) ? obj[port] : port;\r\n\t  nj.componentRender = tools.isString(render) ? dom[render] : render;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  setComponentEngine: setComponentEngine\r\n\t};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\t//注册组件\r\n\tfunction registerComponent(name, component) {\r\n\t  var params = name;\r\n\t  if (!tools.isObject(name)) {\r\n\t    params = {};\r\n\t    params[name] = component;\r\n\t  }\r\n\t\r\n\t  tools.each(params, function (v, k) {\r\n\t    nj.componentClasses[k.toLowerCase()] = v;\r\n\t  }, false, false);\r\n\t\r\n\t  return component;\r\n\t}\r\n\t\r\n\t//注册组件标签命名空间\r\n\tfunction setNamespace(name) {\r\n\t  nj.namespace = name;\r\n\t\r\n\t  //修改标签组件id及类名\r\n\t  nj.tagId = name + '-id';\r\n\t  nj.tagStyle = name + '-style';\r\n\t  nj.tagClassName = name + '-component';\r\n\t}\r\n\t\r\n\t//创建标签命名空间\r\n\tfunction registerTagNamespace(name) {\r\n\t  if (!name) {\r\n\t    name = 'nj';\r\n\t  }\r\n\t  nj.tagNamespaces[name] = name;\r\n\t\r\n\t  if (typeof document === 'undefined') {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var doc = document;\r\n\t  if (doc && doc.namespaces) {\r\n\t    doc.namespaces.add(name, 'urn:schemas-microsoft-com:vml', '#default#VML');\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  registerComponent: registerComponent,\r\n\t  setNamespace: setNamespace,\r\n\t  registerTagNamespace: registerTagNamespace\r\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar tools = __webpack_require__(3);\r\n\t\r\n\t//Global filter list\r\n\tvar filters = {\r\n\t  //Get param properties\r\n\t  prop: function (obj, props) {\r\n\t    var ret = obj;\r\n\t    ret && tools.each(props.split('.'), function (p) {\r\n\t      ret = ret[p];\r\n\t    }, false, true);\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Get list count\r\n\t  count: function (obj) {\r\n\t    return obj ? obj.length : 0;\r\n\t  },\r\n\t\r\n\t  //Get list item\r\n\t  item: function (obj, no) {\r\n\t    return obj ? obj[no] : null;\r\n\t  },\r\n\t\r\n\t  //Judge equal\r\n\t  equal: function (obj, val) {\r\n\t    return obj == val;\r\n\t  },\r\n\t\r\n\t  //Less than\r\n\t  lt: function (val1, val2, noEqual) {\r\n\t    var ret;\r\n\t    val1 = parseFloat(val1);\r\n\t    val2 = parseFloat(val2);\r\n\t\r\n\t    if (noEqual) {\r\n\t      ret = val1 < val2;\r\n\t    }\r\n\t    else {\r\n\t      ret = val1 <= val2;\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Greater than\r\n\t  gt: function (val1, val2, noEqual) {\r\n\t    var ret;\r\n\t    val1 = parseFloat(val1);\r\n\t    val2 = parseFloat(val2);\r\n\t\r\n\t    if (noEqual) {\r\n\t      ret = val1 > val2;\r\n\t    }\r\n\t    else {\r\n\t      ret = val1 >= val2;\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Addition\r\n\t  add: function (val1, val2, isFloat) {\r\n\t    return val1 + (isFloat ? parseFloat(val2) : parseInt(val2, 10));\r\n\t  },\r\n\t\r\n\t  //Convert to int \r\n\t  int: function (val) {\r\n\t    return parseInt(val, 10);\r\n\t  },\r\n\t\r\n\t  //Convert to float \r\n\t  float: function (val) {\r\n\t    return parseFloat(val);\r\n\t  },\r\n\t\r\n\t  //Convert to boolean \r\n\t  bool: function (val) {\r\n\t    if (val === 'false') {\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    return Boolean(val);\r\n\t  }\r\n\t};\r\n\t\r\n\tfunction _commonConfig(params) {\r\n\t  var ret = {\r\n\t    data: false,\r\n\t    parent: false,\r\n\t    index: false,\r\n\t    useString: true\r\n\t  };\r\n\t\r\n\t  if (params) {\r\n\t    ret = tools.assign(ret, params);\r\n\t  }\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Filter default config\r\n\tvar filterConfig = {\r\n\t  prop: _commonConfig(),\r\n\t  count: _commonConfig(),\r\n\t  item: _commonConfig(),\r\n\t  equal: _commonConfig(),\r\n\t  lt: _commonConfig(),\r\n\t  gt: _commonConfig(),\r\n\t  add: _commonConfig(),\r\n\t  int: _commonConfig(),\r\n\t  float: _commonConfig(),\r\n\t  bool: _commonConfig()\r\n\t};\r\n\t\r\n\t//Register filter and also can batch add\r\n\tfunction registerFilter(name, filter, options) {\r\n\t  var params = name;\r\n\t  if (!tools.isObject(name)) {\r\n\t    params = {};\r\n\t    params[name] = {\r\n\t      filter: filter,\r\n\t      options: options\r\n\t    };\r\n\t  }\r\n\t\r\n\t  tools.each(params, function (v, k) {\r\n\t    var name = k.toLowerCase(),\r\n\t      options;\r\n\t\r\n\t    if (v && v.filter) {\r\n\t      filters[name] = v.filter;\r\n\t      options = v.options;\r\n\t    }\r\n\t    else {\r\n\t      filters[name] = v;\r\n\t    }\r\n\t\r\n\t    filterConfig[name] = _commonConfig(options);\r\n\t  }, false, false);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  filters: filters,\r\n\t  filterConfig: filterConfig,\r\n\t  registerFilter: registerFilter\r\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar tools = __webpack_require__(3);\r\n\t\r\n\t//Global expression list\r\n\tvar exprs = {\r\n\t  'if': function (refer, useUnless) {\r\n\t    if (refer === 'false') {\r\n\t      refer = false;\r\n\t    }\r\n\t\r\n\t    var referR, ret;\r\n\t    if (!useUnless) {\r\n\t      referR = !!refer;\r\n\t    }\r\n\t    else {\r\n\t      referR = !!!refer;\r\n\t    }\r\n\t    if (referR) {\r\n\t      ret = this.result();\r\n\t    }\r\n\t    else {\r\n\t      ret = this.inverse();\r\n\t    }\r\n\t\r\n\t    if (this.useString && ret == null) {\r\n\t      return '';\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  unless: function (refer) {\r\n\t    return exprs['if'].call(this, refer, true);\r\n\t  },\r\n\t\r\n\t  each: function (refer) {\r\n\t    var thiz = this,\r\n\t      useString = thiz.useString,\r\n\t      ret;\r\n\t\r\n\t    if (refer) {\r\n\t      if (useString) {\r\n\t        ret = '';\r\n\t      }\r\n\t      else {\r\n\t        ret = [];\r\n\t      }\r\n\t\r\n\t      tools.each(refer, function (item, index) {\r\n\t        var retI = thiz.result({\r\n\t          item: item,\r\n\t          index: index\r\n\t        });\r\n\t\r\n\t        if (useString) {\r\n\t          ret += retI;\r\n\t        }\r\n\t        else {\r\n\t          ret.push(retI);\r\n\t          //tools.listPush(ret, retI, true);\r\n\t        }\r\n\t      }, false, tools.isArray(refer));\r\n\t\r\n\t      //Return null when not use string and result is empty.\r\n\t      if (!useString && !ret.length) {\r\n\t        ret = null;\r\n\t      }\r\n\t    }\r\n\t    else {\r\n\t      ret = thiz.inverse();\r\n\t      if (useString && ret == null) {\r\n\t        ret = '';\r\n\t      }\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Parameter\r\n\t  param: function () {\r\n\t    var ret = this.result(),  //Get parameter value\r\n\t      name = '',\r\n\t      value;\r\n\t\r\n\t    //Make property name by multiple parameters\r\n\t    tools.each(arguments, function (item, i) {\r\n\t      name += item;\r\n\t    }, false, true);\r\n\t\r\n\t    //If the value length greater than 1, it need to be connected to a whole string.\r\n\t    if (ret != null) {\r\n\t      if (ret.length > 1) {\r\n\t        value = '';\r\n\t        tools.each(ret, function (item) {\r\n\t          value += item;\r\n\t        }, false, true);\r\n\t      }\r\n\t      else {\r\n\t        value = ret[0];\r\n\t\r\n\t        //The \"_njShim\" property is used to distinguish whether the incoming is an normal array.\r\n\t        if (value && value._njShim) {\r\n\t          value = value._njShim;\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    else {  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n\t      value = name;\r\n\t    }\r\n\t\r\n\t    this.paramsExpr[name] = value;\r\n\t  },\r\n\t\r\n\t  //Spread parameters\r\n\t  spreadparam: function (refer) {\r\n\t    if (!refer) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    var thiz = this;\r\n\t    tools.each(refer, function (v, k) {\r\n\t      thiz.paramsExpr[k] = v;\r\n\t    }, false, false);\r\n\t  },\r\n\t\r\n\t  equal: function (value1, value2) {\r\n\t    var ret;\r\n\t    if (value1 == value2) {\r\n\t      ret = this.result();\r\n\t    }\r\n\t    else {\r\n\t      ret = this.inverse();\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  'for': function (start, end) {\r\n\t    var ret, useString = this.useString;\r\n\t    if (useString) {\r\n\t      ret = '';\r\n\t    }\r\n\t    else {\r\n\t      ret = [];\r\n\t    }\r\n\t\r\n\t    if (end == null) {\r\n\t      end = start;\r\n\t      start = 0;\r\n\t    }\r\n\t    start = parseInt(start, 10);\r\n\t    end = parseInt(end, 10);\r\n\t\r\n\t    for (; start <= end; start++) {\r\n\t      var retI = this.result({\r\n\t        item: this.data[0],\r\n\t        index: start\r\n\t      });\r\n\t\r\n\t      if (useString) {\r\n\t        ret += retI;\r\n\t      }\r\n\t      else {\r\n\t        tools.listPush(ret, retI, true);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  blank: function () {\r\n\t    return this.result();\r\n\t  }\r\n\t};\r\n\t\r\n\tfunction _commonConfig(params) {\r\n\t  var ret = {\r\n\t    data: false,\r\n\t    parent: false,\r\n\t    index: false,\r\n\t    useString: true,\r\n\t    paramsExpr: false,\r\n\t    result: true,\r\n\t    inverse: true,\r\n\t    newContext: false\r\n\t  };\r\n\t\r\n\t  if (params) {\r\n\t    ret = tools.assign(ret, params);\r\n\t  }\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Expression default config\r\n\tvar exprConfig = {\r\n\t  'if': _commonConfig(),\r\n\t  unless: _commonConfig(),\r\n\t  each: _commonConfig({ newContext: true }),\r\n\t  param: _commonConfig({ inverse: false, paramsExpr: true }),\r\n\t  spreadparam: _commonConfig({ useString: false, result: false, inverse: false, paramsExpr: true }),\r\n\t  equal: _commonConfig({ useString: false }),\r\n\t  'for': _commonConfig({ newContext: true }),\r\n\t  blank: _commonConfig({ useString: false, inverse: false })\r\n\t};\r\n\t\r\n\t//Expression alias\r\n\texprs.prop = exprs.p = exprs.param;\r\n\texprConfig.prop = exprConfig.p = exprConfig.param;\r\n\texprs.spread = exprs.spreadparam;\r\n\texprConfig.spread = exprConfig.spreadparam;\r\n\t\r\n\t//Register expression and also can batch add\r\n\tfunction registerExpr(name, expr, options) {\r\n\t  var params = name;\r\n\t  if (!tools.isObject(name)) {\r\n\t    params = {};\r\n\t    params[name] = {\r\n\t      expr: expr,\r\n\t      options: options\r\n\t    };\r\n\t  }\r\n\t\r\n\t  tools.each(params, function (v, k) {\r\n\t    var name = k.toLowerCase(),\r\n\t      options;\r\n\t\r\n\t    if (v && v.expr) {\r\n\t      exprs[name] = v.expr;\r\n\t      options = v.options;\r\n\t    }\r\n\t    else {\r\n\t      exprs[name] = v;\r\n\t    }\r\n\t\r\n\t    exprConfig[name] = _commonConfig(options);\r\n\t  }, false, false);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  exprs: exprs,\r\n\t  exprConfig: exprConfig,\r\n\t  registerExpr: registerExpr\r\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\tfunction _createRegExp(reg, mode) {\r\n\t  return new RegExp(reg, mode);\r\n\t}\r\n\t\r\n\t//Clear the repeated characters\r\n\tfunction _clearRepeat(str) {\r\n\t  var ret = '',\r\n\t    i = 0,\r\n\t    l = str.length,\r\n\t    char;\r\n\t\r\n\t  for (; i < l; i++) {\r\n\t    char = str[i];\r\n\t    if (ret.indexOf(char) < 0) {\r\n\t      ret += char;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = function (beginRule, endRule, exprRule) {\r\n\t  if (!beginRule) {\r\n\t    beginRule = '{';\r\n\t  }\r\n\t  if (!endRule) {\r\n\t    endRule = '}';\r\n\t  }\r\n\t  if (!exprRule) {\r\n\t    exprRule = '#';\r\n\t  }\r\n\t\r\n\t  var allRules = _clearRepeat(beginRule + endRule),\r\n\t    firstChar = beginRule[0],\r\n\t    otherChars = allRules.substr(1),\r\n\t    exprRules = _clearRepeat(exprRule),\r\n\t    escapeExprRule = exprRule.replace(/\\$/g, '\\\\$');\r\n\t\r\n\t  //Reset the regexs to global list\r\n\t  tools.assign(nj.tmplRule, {\r\n\t    beginRule: beginRule,\r\n\t    endRule: endRule,\r\n\t    exprRule: exprRule,\r\n\t    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*)[^>]*>$', 'i'),\r\n\t    openTag: _createRegExp('^[a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*', 'i'),\r\n\t    insideBraceParam: _createRegExp(beginRule + '([^' + allRules + ']+)' + endRule, 'i'),\r\n\t    replaceBraceParam: function() {\r\n\t      return _createRegExp('[\\\\s]+(' + beginRule + '){1,2}([^' + allRules + ']+)(' + endRule + '){1,2}', 'g')\r\n\t    },\r\n\t    replaceSplit: _createRegExp('(?:' + beginRule + '){1,2}[^' + allRules + ']+(?:' + endRule + '){1,2}'),\r\n\t    replaceParam: function() {\r\n\t      return _createRegExp('((' + beginRule + '){1,2})([^' + allRules + ']+)(' + endRule + '){1,2}', 'g');\r\n\t    },\r\n\t    checkElem: function() {\r\n\t      return _createRegExp('([^>]*)(<([a-z' + firstChar + '\\/' + exprRules + '!][-a-z0-9_:.' + allRules + exprRules + ']*)[^>]*>)([^<]*)', 'ig');\r\n\t    },\r\n\t    expr: _createRegExp('^' + escapeExprRule + '([^\\\\s]+)', 'i')\r\n\t  });\r\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  buildRuntime = __webpack_require__(17),\r\n\t  compileStringTmpl = __webpack_require__(19);\r\n\t\r\n\t//编译模板并返回转换函数\r\n\tfunction compile(obj, tmplName, isComponent, isTag) {\r\n\t  if (!obj) {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  //编译AST\r\n\t  var root;\r\n\t  if (tmplName) {\r\n\t    root = nj.asts[tmplName];\r\n\t  }\r\n\t  if (!root) {\r\n\t    //If obj is Object,we think obj is a precompiled template\r\n\t    if (utils.isObject(obj) && obj.type === 'nj_root') {\r\n\t      root = obj;\r\n\t    }\r\n\t    else {\r\n\t      root = _createAstRoot();\r\n\t\r\n\t      //Auto transform string template to array\r\n\t      if (utils.isString(obj)) {\r\n\t        obj = compileStringTmpl(obj);\r\n\t      }\r\n\t\r\n\t      //分析传入参数并转换为节点树对象\r\n\t      if (isTag) {\r\n\t        utils.checkTagElem(obj, root);\r\n\t      }\r\n\t      else {\r\n\t        utils.checkElem(obj, root);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    //保存模板AST编译结果到全局集合中\r\n\t    if (tmplName) {\r\n\t      nj.asts[tmplName] = root;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  //编译模板函数\r\n\t  var tmplFns;\r\n\t  if (tmplName) {\r\n\t    tmplFns = nj.templates[tmplName];\r\n\t  }\r\n\t  if (!tmplFns) {\r\n\t    tmplFns = utils.template(buildRuntime(root.content, !isComponent));\r\n\t\r\n\t    //保存模板函数编译结果到全局集合中\r\n\t    if (tmplName) {\r\n\t      nj.templates[tmplName] = tmplFns;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return tmplFns.main;\r\n\t}\r\n\t\r\n\t//Create template root object\r\n\tfunction _createAstRoot() {\r\n\t  var root = utils.lightObj();\r\n\t  root.type = 'nj_root';\r\n\t  root.content = [];\r\n\t\r\n\t  return root;\r\n\t}\r\n\t\r\n\t//编译字面量并返回组件转换函数\r\n\tfunction compileComponent(obj, tmplName) {\r\n\t  return compile(obj, tmplName, true);\r\n\t}\r\n\t\r\n\t//编译标签并返回组件转换函数\r\n\tfunction compileTagComponent(obj, tmplName) {\r\n\t  return compile(obj, tmplName, true, true);\r\n\t}\r\n\t\r\n\t//渲染标签组件\r\n\tfunction renderTagComponent(data, selector) {\r\n\t  var tags = utils.getTagComponents(selector),\r\n\t    ret = [];\r\n\t\r\n\t  utils.each(tags, function (tag) {\r\n\t    var tmpl = compileTagComponent(tag, tag.getAttribute(nj.tagId)),\r\n\t      parentNode = tag.parentNode;\r\n\t\r\n\t    if (nj.componentLib === 'inferno') {\r\n\t      utils.removeChildNode(parentNode);\r\n\t    }\r\n\t    ret.push(nj.componentRender(tmpl(data), parentNode));\r\n\t  }, false, true);\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Precompile template\r\n\tfunction precompile(obj) {\r\n\t  var root = _createAstRoot();\r\n\t  utils.checkElem(obj, root);\r\n\t\r\n\t  return root;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  compile: compile,\r\n\t  compileComponent: compileComponent,\r\n\t  compileTagComponent: compileTagComponent,\r\n\t  renderTagComponent: renderTagComponent,\r\n\t  precompile: precompile\r\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  errorTitle = nj.errorTitle,\r\n\t  exprConfig = utils.exprConfig,\r\n\t  filterConfig = utils.filterConfig,\r\n\t  replaceSpecialSymbol = __webpack_require__(18);\r\n\t\r\n\tfunction _buildFn(content, fns, no, newContext) {\r\n\t  var fnStr = '',\r\n\t    useString = fns.useString,\r\n\t    isTmplExpr = utils.isString(no),  //如果no为字符串, 则本次将构建tmpl块模板函数\r\n\t    main = isTmplExpr || no === 0,\r\n\t    /* retType\r\n\t     1: 只有单个子节点\r\n\t     2: 有多个子节点\r\n\t     object: 非构建函数时\r\n\t    */\r\n\t    retType = content.length === 1 ? '1' : '2',\r\n\t    counter = {\r\n\t      _type: 0,\r\n\t      _typeRefer: 0,\r\n\t      _params: 0,\r\n\t      _paramsE: 0,\r\n\t      _compParam: 0,\r\n\t      _dataRefer: 0,\r\n\t      _expr: 0,\r\n\t      _this: 0,\r\n\t      _value: 0,\r\n\t      _filter: 0,\r\n\t      _thisF: 0,\r\n\t      newContext: newContext\r\n\t    };\r\n\t\r\n\t  if (!useString) {\r\n\t    counter._compParam = 0;\r\n\t  }\r\n\t  else {\r\n\t    counter._children = 0;\r\n\t  }\r\n\t\r\n\t  if (main) {\r\n\t    fnStr += 'var parent = p2.parent;\\n';\r\n\t    fnStr += 'var data = p2.data;\\n';\r\n\t    fnStr += 'if(!parent) {\\n';\r\n\t    fnStr += '  parent = p1.lightObj();\\n';\r\n\t    fnStr += '  if (data) {\\n';\r\n\t    fnStr += '    parent.data = p3.multiData ? data[0] : data;\\n';\r\n\t    fnStr += '  }\\n';\r\n\t    fnStr += '  p2.parent = parent;\\n';\r\n\t    fnStr += '};\\n';\r\n\t  }\r\n\t  else if (newContext) {\r\n\t    fnStr += 'var parent = p1.lightObj();\\n';\r\n\t    fnStr += 'parent.data = p4.item;\\n';\r\n\t    fnStr += 'parent.parent = p2.parent;\\n';\r\n\t    fnStr += 'parent.index = p4.index;\\n';\r\n\t    fnStr += 'var data = p1.getItemParam(p4.item, p2.data, p3.multiData);\\n';\r\n\t    fnStr += 'var _p2 = p1.lightObj();\\n';\r\n\t    fnStr += '_p2.parent = parent;\\n';\r\n\t    fnStr += '_p2.data = data;\\n';\r\n\t  }\r\n\t  else {\r\n\t    fnStr += 'var parent = p2.parent;\\n';\r\n\t    fnStr += 'var data = p2.data;\\n';\r\n\t  }\r\n\t\r\n\t  if (retType === '2') {\r\n\t    if (!useString) {\r\n\t      fnStr += 'var ret = [];\\n';\r\n\t    }\r\n\t    else {\r\n\t      fnStr += 'var ret = \\'\\';\\n';\r\n\t    }\r\n\t  }\r\n\t\r\n\t  fnStr += _buildContent(content, fns, counter, retType);\r\n\t\r\n\t  if (retType === '2') {\r\n\t    fnStr += 'return ret;';\r\n\t  }\r\n\t\r\n\t  /* 构建表达式块函数\r\n\t   p1: 全局模板成员,不可改变\r\n\t   p2: 当前模板的局部成员\r\n\t   p3: 当前模板的全局成员\r\n\t   p4: 表格式块内调用result及inverse方法传递的参数\r\n\t   p5: #param块变量\r\n\t  */\r\n\t  fns[main ? 'main' + (isTmplExpr ? no : '') : 'fn' + no] = new Function('p1', 'p2', 'p3', 'p4', 'p5', fnStr);\r\n\t  return no;\r\n\t}\r\n\t\r\n\tfunction _buildPropData(obj, counter, fns, noEscape) {\r\n\t  var dataValueStr,\r\n\t    useString = fns.useString,\r\n\t    escape = !noEscape ? obj.escape : false;\r\n\t\r\n\t  //先生成数据值\r\n\t  if (!obj.prop.isStr) {\r\n\t    var name = obj.prop.name,\r\n\t      parentNum = obj.prop.parentNum,\r\n\t      data = '',\r\n\t      special = false;\r\n\t\r\n\t    if (name === '#') {\r\n\t      data = 'parent.index';\r\n\t      special = true;\r\n\t    }\r\n\t    else if (name === '.') {\r\n\t      data = 'parent.data';\r\n\t      special = true;\r\n\t    }\r\n\t\r\n\t    if (parentNum) {\r\n\t      if (!data) {\r\n\t        data = 'parent.data';\r\n\t      }\r\n\t      for (var i = 0; i < parentNum; i++) {\r\n\t        data = 'parent.' + data;\r\n\t      }\r\n\t\r\n\t      if (!special) {\r\n\t        data += '[\\'' + name + '\\']';\r\n\t        special = true;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    if (!special) {\r\n\t      dataValueStr = '(!p3.multiData ? data[\\'' + name + '\\'] : p1.getDatasValue(data, \\'' + name + '\\'))';\r\n\t    }\r\n\t    else {\r\n\t      dataValueStr = data;\r\n\t    }\r\n\t  }\r\n\t  else {\r\n\t    dataValueStr = '\\'' + obj.prop.name + '\\'';\r\n\t  }\r\n\t\r\n\t  //有过滤器时需要生成\"_value\"值\r\n\t  var filters = obj.prop.filters;\r\n\t  if (filters) {\r\n\t    var valueStr = '_value' + counter._value++,\r\n\t      filterStr = 'var ' + valueStr + ' = ' + dataValueStr + ';\\n';\r\n\t\r\n\t    utils.each(filters, function (o) {\r\n\t      var _filterC = counter._filter++,\r\n\t        _thisFC = counter._thisF++,\r\n\t        configF = filterConfig[o.name];\r\n\t\r\n\t      filterStr += '\\nvar _filter' + _filterC + ' = p1.filters[\\'' + o.name + '\\'];\\n';\r\n\t      filterStr += 'if (!_filter' + _filterC + ') {\\n';\r\n\t      filterStr += '  p1.warn(\\'' + o.name + '\\', \\'filter\\');\\n';\r\n\t      filterStr += '}\\n';\r\n\t      filterStr += 'else {\\n';\r\n\t      filterStr += '  var _thisF' + _thisFC + ' = p1.lightObj();\\n';\r\n\t      if (configF.useString) {\r\n\t        filterStr += '  _thisF' + _thisFC + '.useString = p1.useString;\\n';\r\n\t      }\r\n\t      if (configF.data) {\r\n\t        filterStr += '  _thisF' + _thisFC + '.data = data;\\n';\r\n\t      }\r\n\t      if (configF.parent) {\r\n\t        filterStr += '  _thisF' + _thisFC + '.parent = parent.parent;\\n';\r\n\t      }\r\n\t      if (configF.index) {\r\n\t        filterStr += '  _thisF' + _thisFC + '.index = parent.index;\\n';\r\n\t      }\r\n\t      filterStr += '\\n  ' + valueStr + ' = _filter' + _filterC + '.apply(_thisF' + _thisFC + ', [' + valueStr\r\n\t        + (o.params ? o.params.reduce(function (p, c) {\r\n\t          return p + ', \\'' + c + '\\'';\r\n\t        }, '') : '')\r\n\t        + ']);\\n';\r\n\t      filterStr += '}\\n';\r\n\t    }, false, true);\r\n\t\r\n\t    return {\r\n\t      valueStr: _buildEscape(valueStr, useString, escape),\r\n\t      filterStr: filterStr\r\n\t    };\r\n\t  }\r\n\t  else {\r\n\t    return _buildEscape(dataValueStr, useString, escape);\r\n\t  }\r\n\t}\r\n\t\r\n\tfunction _buildEscape(valueStr, useString, escape) {\r\n\t  if(useString && escape) {\r\n\t    return 'p1.escape(' + valueStr + ')';\r\n\t  }\r\n\t  else {\r\n\t    return valueStr;\r\n\t  }\r\n\t}\r\n\t\r\n\tfunction _buildProps(obj, counter, fns) {\r\n\t  var str0 = obj.strs[0],\r\n\t    valueStr = '',\r\n\t    filterStr = '';\r\n\t\r\n\t  if (utils.isString(str0)) {  //常规属性\r\n\t    valueStr = !obj.isAll && str0 !== '' ? ('\\'' + str0 + '\\'') : '';\r\n\t    filterStr = '';\r\n\t\r\n\t    utils.each(obj.props, function (o, i) {\r\n\t      var propData = _buildPropData(o, counter, fns),\r\n\t        dataValueStr;\r\n\t      if (utils.isString(propData)) {\r\n\t        dataValueStr = propData;\r\n\t      }\r\n\t      else {\r\n\t        dataValueStr = propData.valueStr;\r\n\t        filterStr += propData.filterStr;\r\n\t      }\r\n\t\r\n\t      if (!obj.isAll) {\r\n\t        var strI = obj.strs[i + 1];\r\n\t        dataValueStr = (str0 === '' && i == 0 ? '' : ' + ')\r\n\t          + '(' + dataValueStr + ')'\r\n\t          + (strI !== '' ? ' + \\'' + strI + '\\'' : '');\r\n\t      }\r\n\t      else if (obj.isTmplPlace) {  //执行tmpl块模板函数\r\n\t        dataValueStr += '.call({ parent: parent }, data)';\r\n\t      }\r\n\t\r\n\t      valueStr += dataValueStr;\r\n\t      if (obj.isAll) {\r\n\t        return false;\r\n\t      }\r\n\t    }, false, true, true);\r\n\t  }\r\n\t  else if (utils.isObject(str0) && str0.length) {  //tmpl块表达式\r\n\t    valueStr += '{\\n';\r\n\t    utils.each(str0, function (v, k, i, l) {\r\n\t      if (k !== 'length') {\r\n\t        valueStr += '  \"' + k + '\": p1.main' + _buildFn(v.content, fns, 'T' + ++fns._noT);\r\n\t      }\r\n\t      else {\r\n\t        valueStr += '  length: ' + v;\r\n\t      }\r\n\t      if (i < l - 1) {\r\n\t        valueStr += ',';\r\n\t      }\r\n\t      valueStr += '\\n';\r\n\t    }, false, false);\r\n\t    valueStr += '}';\r\n\t  }\r\n\t  else {  //非字符串值\r\n\t    valueStr = JSON.stringify(str0);\r\n\t  }\r\n\t\r\n\t  if (filterStr === '') {\r\n\t    return valueStr;\r\n\t  }\r\n\t  else {  //包含过滤器\r\n\t    return {\r\n\t      valueStr: valueStr,\r\n\t      filterStr: filterStr\r\n\t    };\r\n\t  }\r\n\t}\r\n\t\r\n\tfunction _buildNode(node, fns, counter, retType) {\r\n\t  var fnStr = '',\r\n\t    useString = fns.useString;\r\n\t\r\n\t  if (node.type === 'nj_plaintext') {  //文本节点\r\n\t    var valueStr = _buildProps(node.content[0], counter, fns),\r\n\t      filterStr;\r\n\t    if (utils.isObject(valueStr)) {\r\n\t      filterStr = valueStr.filterStr;\r\n\t      valueStr = valueStr.valueStr;\r\n\t    }\r\n\t\r\n\t    var textStr = _buildRender(1, retType, { text: valueStr }, fns);\r\n\t    if (filterStr) {\r\n\t      textStr = filterStr + textStr;\r\n\t    }\r\n\t\r\n\t    if (useString) {\r\n\t      fnStr += textStr;\r\n\t    }\r\n\t    else {  //文本中的特殊字符需转义\r\n\t      fnStr += replaceSpecialSymbol(textStr);\r\n\t    }\r\n\t  }\r\n\t  else if (node.type === 'nj_expr') {  //块表达式节点\r\n\t    var _exprC = counter._expr++,\r\n\t      _dataReferC = counter._dataRefer++,\r\n\t      dataReferStr = '';\r\n\t    fnStr += '\\nvar _expr' + _exprC + ' = p1.exprs[\\'' + node.expr + '\\'];\\n';\r\n\t\r\n\t    if (node.refer) {\r\n\t      dataReferStr += 'var _dataRefer' + _dataReferC + ' = [\\n';\r\n\t      var props = node.refer.props,\r\n\t        len = props.length,\r\n\t        filterStr = '';\r\n\t\r\n\t      utils.each(props, function (o, i) {\r\n\t        var valueStr = _buildPropData(o, counter, fns, true);\r\n\t        if (utils.isObject(valueStr)) {\r\n\t          filterStr += valueStr.filterStr;\r\n\t          valueStr = valueStr.valueStr;\r\n\t        }\r\n\t\r\n\t        dataReferStr += '  ' + valueStr + (i < len - 1 ? ',' : '');\r\n\t      }, false, true);\r\n\t      dataReferStr += '\\n];\\n';\r\n\t\r\n\t      if (filterStr !== '') {\r\n\t        dataReferStr = filterStr + dataReferStr;\r\n\t      }\r\n\t\r\n\t      fnStr += dataReferStr;\r\n\t    }\r\n\t\r\n\t    //如果表达式不存在则打印警告信息\r\n\t    fnStr += 'p1.throwIf(_expr' + _exprC + ', \\'' + node.expr + '\\', \\'expr\\');\\n';\r\n\t\r\n\t    //执行表达式块\r\n\t    var _thisC = counter._this++,\r\n\t      configE = exprConfig[node.expr],\r\n\t      newContext = configE.newContext,\r\n\t      newContextP = counter.newContext;\r\n\t\r\n\t    fnStr += '\\nvar _this' + _thisC + ' = p1.lightObj();\\n';\r\n\t    if (configE.useString) {\r\n\t      fnStr += '_this' + _thisC + '.useString = p1.useString;\\n';\r\n\t    }\r\n\t    if (configE.data) {\r\n\t      fnStr += '_this' + _thisC + '.data = data;\\n';\r\n\t    }\r\n\t    if (configE.parent) {\r\n\t      fnStr += '_this' + _thisC + '.parent = parent.parent;\\n';\r\n\t    }\r\n\t    if (configE.index) {\r\n\t      fnStr += '_this' + _thisC + '.index = parent.index;\\n';\r\n\t    }\r\n\t\r\n\t    //params块\r\n\t    var paramsEStr = 'p5';\r\n\t    if (retType && retType._paramsE) {\r\n\t      paramsEStr = retType._paramsE;\r\n\t    }\r\n\t    if (configE.paramsExpr) {\r\n\t      fnStr += '_this' + _thisC + '.paramsExpr = ' + paramsEStr + ';\\n';\r\n\t    }\r\n\t\r\n\t    if (configE.result) {\r\n\t      fnStr += '_this' + _thisC + '.result = ' + (node.content ? 'p1.exprRet(p1, ' + (newContextP ? '_' : '') + 'p2, p3, p1.fn' + _buildFn(node.content, fns, ++fns._no, newContext) + ', ' + paramsEStr + ')' : 'p1.noop') + ';\\n';\r\n\t    }\r\n\t    if (configE.inverse) {\r\n\t      fnStr += '_this' + _thisC + '.inverse = ' + (node.contentElse ? 'p1.exprRet(p1, ' + (newContextP ? '_' : '') + 'p2, p3, p1.fn' + _buildFn(node.contentElse, fns, ++fns._no, newContext) + ', ' + paramsEStr + ')' : 'p1.noop') + ';\\n';\r\n\t    }\r\n\t\r\n\t    //渲染\r\n\t    fnStr += _buildRender(2, retType, {\r\n\t      _expr: _exprC,\r\n\t      _dataRefer: _dataReferC,\r\n\t      _this: _thisC\r\n\t    }, fns);\r\n\t  }\r\n\t  else {  //元素节点\r\n\t    //节点类型和typeRefer\r\n\t    var _typeC = counter._type++,\r\n\t      _type;\r\n\t    if (node.typeRefer) {\r\n\t      _type = node.typeRefer.props[0].prop.name;\r\n\t    }\r\n\t    else {\r\n\t      _type = node.type.toLowerCase();\r\n\t    }\r\n\t\r\n\t    var typeStr;\r\n\t    if (!useString) {\r\n\t      typeStr = 'p1.compClass[\\'' + _type + '\\'] ? p1.compClass[\\'' + _type + '\\'] : \\'' + _type + '\\'';\r\n\t    }\r\n\t    else {\r\n\t      typeStr = '\\'' + _type + '\\'';\r\n\t    }\r\n\t\r\n\t    if (node.typeRefer) {\r\n\t      var _typeReferC = counter._typeRefer++,\r\n\t        valueStrT = _buildProps(node.typeRefer, counter, fns);\r\n\t      if (utils.isObject(valueStrT)) {\r\n\t        fnStr += valueStrT.filterStr;\r\n\t        valueStrT = valueStrT.valueStr;\r\n\t      }\r\n\t\r\n\t      fnStr += '\\nvar _typeRefer' + _typeReferC + ' = ' + valueStrT + ';\\n';\r\n\t      fnStr += 'var _type' + _typeC + ' = _typeRefer' + _typeReferC + ' ? _typeRefer' + _typeReferC + ' : (' + typeStr + ');\\n';\r\n\t    }\r\n\t    else {\r\n\t      fnStr += '\\nvar _type' + _typeC + ' = ' + typeStr + ';\\n';\r\n\t    }\r\n\t\r\n\t    //节点参数\r\n\t    var params = node.params,\r\n\t      paramsExpr = node.paramsExpr,\r\n\t      paramsStr = '';\r\n\t    if (params || paramsExpr) {\r\n\t      var _paramsC = counter._params++;\r\n\t      paramsStr = 'var _params' + _paramsC + ' = ';\r\n\t\r\n\t      //params块\r\n\t      if (paramsExpr) {\r\n\t        var _paramsEC = counter._paramsE++;\r\n\t        paramsStr += (useString ? '\\'\\'' : 'null') + ';\\n';\r\n\t        paramsStr += 'var _paramsE' + _paramsEC + ' = {};\\n';\r\n\t\r\n\t        //params块的子节点\r\n\t        paramsStr += _buildContent(paramsExpr.content, fns, counter, { _paramsE: '_paramsE' + _paramsEC });\r\n\t\r\n\t        //合并params块的值\r\n\t        if (!useString) {\r\n\t          paramsStr += '\\n_params' + _paramsC + ' = _paramsE' + _paramsEC + ';\\n';\r\n\t          //paramsStr += '\\np1.assign(_params' + _paramsC + ', _paramsE' + _paramsEC + ');\\n';\r\n\t        }\r\n\t        else {\r\n\t          var keys = '';\r\n\t          utils.each(params, function (v, k, i, l) {\r\n\t            if (i == 0) {\r\n\t              keys += '{ ';\r\n\t            }\r\n\t            keys += k + ': 1';\r\n\t\r\n\t            if (i < l - 1) {\r\n\t              keys += ', '\r\n\t            }\r\n\t            else {\r\n\t              keys += ' }';\r\n\t            }\r\n\t          }, false, false);\r\n\t          paramsStr += '_params' + _paramsC + ' += p1.assignStringProp(_paramsE' + _paramsEC + ', ' + (keys === '' ? 'null' : keys) + ');\\n';\r\n\t        }\r\n\t      }\r\n\t\r\n\t      if (params) {\r\n\t        var paramKeys = Object.keys(params),\r\n\t          len = paramKeys.length,\r\n\t          filterStr = '';\r\n\t\r\n\t        if (!useString && !paramsExpr) {\r\n\t          paramsStr += '{\\n';\r\n\t        }\r\n\t\r\n\t        utils.each(paramKeys, function (k, i) {\r\n\t          var valueStr = _buildProps(params[k], counter, fns);\r\n\t          if (utils.isObject(valueStr)) {\r\n\t            filterStr += valueStr.filterStr;\r\n\t            valueStr = valueStr.valueStr;\r\n\t          }\r\n\t\r\n\t          if (!useString && k === 'style') {  //将style字符串转换为对象\r\n\t            valueStr = 'p1.styleProps(' + valueStr + ')';\r\n\t          }\r\n\t\r\n\t          var key;\r\n\t          if (useString) {\r\n\t            key = k;\r\n\t          }\r\n\t          else {\r\n\t            key = utils.fixPropName(k);\r\n\t          }\r\n\t          if (!paramsExpr) {\r\n\t            if (!useString) {\r\n\t              paramsStr += '  ' + key + ': ' + valueStr + (i < len - 1 ? ',\\n' : '');\r\n\t            }\r\n\t            else {\r\n\t              paramsStr += (i > 0 ? '  + ' : '') + '\\' ' + key + '=\"\\' + ' + valueStr + ' + \\'\"\\'' + (i == len - 1 ? ';' : '') + '\\n';\r\n\t            }\r\n\t          }\r\n\t          else {\r\n\t            if (!useString) {\r\n\t              paramsStr += '_params' + _paramsC + '.' + key + ' = ' + valueStr + ';\\n';\r\n\t            }\r\n\t            else {\r\n\t              paramsStr += '_params' + _paramsC + ' += \\' ' + key + '=\"\\' + ' + valueStr + ' + \\'\"\\';\\n';\r\n\t            }\r\n\t          }\r\n\t        }, false, false);\r\n\t\r\n\t        if (!useString && !paramsExpr) {\r\n\t          paramsStr += '\\n};\\n';\r\n\t        }\r\n\t\r\n\t        if (filterStr !== '') {\r\n\t          paramsStr = filterStr + paramsStr;\r\n\t        }\r\n\t\r\n\t        fnStr += paramsStr;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    var _compParamC, _childrenC;\r\n\t    if (!useString) {  //组件引擎参数\r\n\t      _compParamC = counter._compParam++;\r\n\t      fnStr += 'var _compParam' + _compParamC + ' = [_type' + _typeC + ', ' + (paramsStr !== '' ? '_params' + _paramsC : 'null') + '];\\n';\r\n\t    }\r\n\t    else {  //子节点字符串\r\n\t      _childrenC = counter._children++;\r\n\t      fnStr += 'var _children' + _childrenC + ' = \\'\\';\\n';\r\n\t    }\r\n\t\r\n\t    //子节点\r\n\t    fnStr += _buildContent(node.content, fns, counter, !useString\r\n\t      ? { _compParam: '_compParam' + _compParamC }\r\n\t      : { _children: '_children' + _childrenC });\r\n\t\r\n\t    //渲染\r\n\t    fnStr += _buildRender(3, retType, !useString\r\n\t      ? { _compParam: _compParamC }\r\n\t      : { _type: _typeC, _params: paramsStr !== '' ? _paramsC : null, _children: _childrenC, _selfClose: node.selfCloseTag }, fns);\r\n\t  }\r\n\t\r\n\t  return fnStr;\r\n\t}\r\n\t\r\n\tfunction _buildContent(content, fns, counter, retType) {\r\n\t  var fnStr = '';\r\n\t  if (!content) {\r\n\t    return fnStr;\r\n\t  }\r\n\t\r\n\t  utils.each(content, function (node) {\r\n\t    fnStr += _buildNode(node, fns, counter, retType);\r\n\t  }, false, true);\r\n\t\r\n\t  return fnStr;\r\n\t}\r\n\t\r\n\tfunction _buildRender(nodeType, retType, params, fns) {\r\n\t  var retStr,\r\n\t    useString = fns.useString;\r\n\t\r\n\t  switch (nodeType) {\r\n\t    case 1:  //文本节点\r\n\t      retStr = params.text;\r\n\t      break;\r\n\t    case 2:  //块表达式\r\n\t      retStr = '_expr' + params._expr + '.apply(_this' + params._this + ', _dataRefer' + params._dataRefer + ')';\r\n\t      break;\r\n\t    case 3:  //元素节点\r\n\t      if (!useString) {\r\n\t        retStr = 'p1.compPort.apply(p1.compLib, _compParam' + params._compParam + ')';\r\n\t      }\r\n\t      else {\r\n\t        retStr = '\\'<\\' + _type' + params._type + ' + ' + (params._params != null ? '_params' + params._params + ' + ' : '');\r\n\t        if (!params._selfClose) {\r\n\t          retStr += '\\'>\\'';\r\n\t          retStr += ' + _children' + params._children + ' + ';\r\n\t          retStr += '\\'</\\' + _type' + params._type + ' + \\'>\\'';\r\n\t        }\r\n\t        else {\r\n\t          retStr += '\\'/>\\'';\r\n\t        }\r\n\t      }\r\n\t      break;\r\n\t  }\r\n\t\r\n\t  //保存方式\r\n\t  if (retType === '1') {\r\n\t    return '\\nreturn ' + retStr + ';';\r\n\t  }\r\n\t  else if (retType === '2') {\r\n\t    if (!useString) {\r\n\t      return '\\nret.push(' + retStr + ');\\n';\r\n\t    }\r\n\t    else {\r\n\t      return '\\nret += ' + retStr + ';\\n';\r\n\t    }\r\n\t  }\r\n\t  else if (retType._paramsE) {\r\n\t    return '\\n' + retStr + ';\\n';\r\n\t  }\r\n\t  else {\r\n\t    if (!useString) {\r\n\t      return '\\n' + retType._compParam + '.push(' + retStr + ');\\n';\r\n\t    }\r\n\t    else {\r\n\t      return '\\n' + retType._children + ' += ' + retStr + ';\\n';\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = function (ast, useString) {\r\n\t  var fns = {\r\n\t    useString: useString,\r\n\t    _no: 0,  //块表达式函数计数\r\n\t    _noT: 0  //tmpl块模板函数计数\r\n\t  };\r\n\t\r\n\t  _buildFn(ast, fns, fns._no);\r\n\t  return fns;\r\n\t};\r\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tvar SPACIAL_SYMBOLS = {\r\n\t  nbsp: '\\u00A0',\r\n\t  ensp: '\\u2002',\r\n\t  emsp: '\\u2003',\r\n\t  thinsp: '\\u2009',\r\n\t  zwnj: '\\u200C',\r\n\t  zwj: '\\u200D',\r\n\t  lt: '<',\r\n\t  gt: '>'\r\n\t};\r\n\t\r\n\tvar REGEX_SYMBOLS = new RegExp('&(' + Object.keys(SPACIAL_SYMBOLS).join('|') + ');', 'g');\r\n\tfunction replace(str) {\r\n\t  return str.replace(REGEX_SYMBOLS, function (all, match) {\r\n\t    return SPACIAL_SYMBOLS[match];\r\n\t  });\r\n\t}\r\n\t\r\n\tmodule.exports = replace;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranElem = __webpack_require__(5),\r\n\t  REGEX_SPLIT = /\\$\\{\\d+\\}/,\r\n\t  tmplRule = nj.tmplRule,\r\n\t  shim = __webpack_require__(20);\r\n\t\r\n\t//Cache the string template by unique key\r\n\tnj.strTmpls = {};\r\n\t\r\n\t//Compile string template\r\n\tfunction compileStringTmpl(tmpl) {\r\n\t  var tmplKey, ret;\r\n\t  if (this) {  //The \"tmplKey\" parameter can be passed by the \"this\" object.\r\n\t    tmplKey = this.tmplKey;\r\n\t  }\r\n\t\r\n\t  if (tmplKey) {  //If the cache already has template data, direct return the template.\r\n\t    ret = nj.strTmpls[tmplKey];\r\n\t    if (ret) {\r\n\t      return ret;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  var isStr = tools.isString(tmpl),\r\n\t    xmls = tmpl,\r\n\t    args = arguments,\r\n\t    splitNo = 0,\r\n\t    params = [],\r\n\t    fullXml = '';\r\n\t\r\n\t  if (isStr) {\r\n\t    xmls = tmpl.split(REGEX_SPLIT);\r\n\t  }\r\n\t\r\n\t  //Connection xml string\r\n\t  var l = xmls.length;\r\n\t  tools.each(xmls, function (xml, i) {\r\n\t    var split = '';\r\n\t    if (i < l - 1) {\r\n\t      var arg = args[i + 1],\r\n\t        last = xml.length - 1,\r\n\t        useShim = xml[last] === '@';\r\n\t\r\n\t      if (!tools.isString(arg) || useShim) {\r\n\t        split = '_nj-split' + splitNo + '_';\r\n\t\r\n\t        //Use the shim function to convert the parameter when the front of it with a \"@\" mark.\r\n\t        if (useShim) {\r\n\t          xml = xml.substr(0, last);\r\n\t          arg = shim(arg);\r\n\t        }\r\n\t\r\n\t        params.push(arg);\r\n\t        splitNo++;\r\n\t      }\r\n\t      else {\r\n\t        split = arg;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    fullXml += xml + split;\r\n\t  }, false, true);\r\n\t\r\n\t  fullXml = _clearNotesAndBlank(fullXml);\r\n\t\r\n\t  if (tmplKey == null) {\r\n\t    //Get unique key\r\n\t    tmplKey = tools.uniqueKey(fullXml + _paramsStr(params));\r\n\t\r\n\t    ret = nj.strTmpls[tmplKey];\r\n\t    if (ret) {\r\n\t      return ret;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  //Resolve string to element\r\n\t  ret = _checkStringElem(fullXml, params);\r\n\t\r\n\t  //Set the properties for the template object\r\n\t  _setTmplProps(ret, tmplKey);\r\n\t\r\n\t  //Save to the cache\r\n\t  nj.strTmpls[tmplKey] = ret;\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Resolve string to element\r\n\tfunction _checkStringElem(xml, params) {\r\n\t  var root = [],\r\n\t    current = {\r\n\t      elem: root,\r\n\t      elemName: 'root',\r\n\t      parent: null\r\n\t    },\r\n\t    parent = null,\r\n\t    pattern = tmplRule.checkElem(),\r\n\t    matchArr;\r\n\t\r\n\t  while ((matchArr = pattern.exec(xml))) {\r\n\t    var textBefore = matchArr[1],\r\n\t      elem = matchArr[2],\r\n\t      elemName = matchArr[3],\r\n\t      textAfter = matchArr[4];\r\n\t\r\n\t    //Text before tag\r\n\t    if (textBefore) {\r\n\t      if (/\\s/.test(textBefore[textBefore.length - 1])) {\r\n\t        textBefore = _formatText(textBefore);\r\n\t      }\r\n\t      _setText(textBefore, current.elem, params);\r\n\t    }\r\n\t\r\n\t    //Element tag\r\n\t    if (elem) {\r\n\t      if (elemName[0] === '/') {  //Close tag\r\n\t        if (elemName === '/' + current.elemName) {\r\n\t          current = current.parent;\r\n\t        }\r\n\t      }\r\n\t      else if (elem[elem.length - 2] === '/') {  //Self close tag\r\n\t        _setSelfCloseElem(elem, elemName, current.elem, params);\r\n\t      }\r\n\t      else {  //Open tag\r\n\t        parent = current;\r\n\t        current = {\r\n\t          elem: [],\r\n\t          elemName: elemName,\r\n\t          parent: parent\r\n\t        };\r\n\t\r\n\t        parent.elem.push(current.elem);\r\n\t        _setElem(elem, elemName, current.elem, params);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    //Text after tag\r\n\t    if (textAfter) {\r\n\t      if (/\\s/.test(textAfter[0])) {\r\n\t        textAfter = _formatText(textAfter);\r\n\t      }\r\n\t      _setText(textAfter, current.elem, params);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return root;\r\n\t}\r\n\t\r\n\tfunction _clearNotesAndBlank(str) {\r\n\t  return str.replace(/<!--[\\s\\S]*?-->/g, '').replace(/>\\s+([^\\s<]*)\\s+</g, '>$1<').trim();\r\n\t}\r\n\t\r\n\tfunction _formatText(str) {\r\n\t  return str.replace(/\\n/g, '').trim();\r\n\t}\r\n\t\r\n\t//Merge parameters to string\r\n\tfunction _paramsStr(params) {\r\n\t  var str = '';\r\n\t  tools.each(params, function (p) {\r\n\t    if (tools.isArray(p)) {\r\n\t      str += '|' + _cascadeArr(p, true);\r\n\t    }\r\n\t    else {\r\n\t      str += '|' + JSON.stringify(p);\r\n\t    }\r\n\t  }, false, true);\r\n\t\r\n\t  return str;\r\n\t}\r\n\t\r\n\tfunction _cascadeArr(p, isArr) {\r\n\t  var str;\r\n\t  if (isArr || tools.isArray(p)) {\r\n\t    if (p.njKey != null) {\r\n\t      str = '+' + p.njKey;\r\n\t    }\r\n\t    else {\r\n\t      str = '';\r\n\t      for (var i = 0, l = p.length; i < l; i++) {\r\n\t        str += _cascadeArr(p[i]);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t  else {\r\n\t    str = '+' + p;\r\n\t  }\r\n\t\r\n\t  return str;\r\n\t}\r\n\t\r\n\t//Set element node\r\n\tfunction _setElem(elem, elemName, elemArr, params, bySelfClose) {\r\n\t  var ret, paramsExpr;\r\n\t  if (elemName[0] === tmplRule.exprRule) {\r\n\t    ret = elem.substring(1, elem.length - 1);\r\n\t  }\r\n\t  else {\r\n\t    var retS = _getSplitParams(elem, params);\r\n\t    ret = retS.elem;\r\n\t    paramsExpr = retS.params;\r\n\t  }\r\n\t\r\n\t  if (bySelfClose) {\r\n\t    var retC = [ret];\r\n\t    if (paramsExpr) {\r\n\t      retC.push(paramsExpr);\r\n\t    }\r\n\t\r\n\t    elemArr.push(retC);\r\n\t  }\r\n\t  else {\r\n\t    elemArr.push(ret);\r\n\t    if (paramsExpr) {\r\n\t      elemArr.push(paramsExpr);\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//Extract split parameters\r\n\tfunction _getSplitParams(elem, params) {\r\n\t  var exprRule = tmplRule.exprRule,\r\n\t    beginRule = tmplRule.beginRule,\r\n\t    endRule = tmplRule.endRule,\r\n\t    paramsExpr;\r\n\t\r\n\t  //Replace the parameter like \"prop=_nj-split0_\".\r\n\t  elem = elem.replace(/([^\\s={}>]+)=['\"]?_nj-split(\\d+)_['\"]?/g, function (all, key, no) {\r\n\t    if (!paramsExpr) {\r\n\t      paramsExpr = [exprRule + 'params'];\r\n\t    }\r\n\t\r\n\t    paramsExpr.push([exprRule + \"param \" + beginRule + \"'\" + key + \"'\" + endRule, params[no]]);\r\n\t    return '';\r\n\t  });\r\n\t\r\n\t  //Replace the parameter like \"{...props}\" and \"{prop}\".\r\n\t  elem = elem.replace(tmplRule.replaceBraceParam(), function (all, begin, prop) {\r\n\t    prop = prop.trim();\r\n\t    var propN = prop.replace(/\\.\\.\\//g, '');\r\n\t\r\n\t    if (propN.indexOf('...') === 0) {\r\n\t      if (!paramsExpr) {\r\n\t        paramsExpr = [exprRule + 'params'];\r\n\t      }\r\n\t\r\n\t      paramsExpr.push([exprRule + 'spreadParam ' + beginRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\r\n\t      return ' ';\r\n\t    }\r\n\t    else {\r\n\t      return ' ' + propN + '=' + all.trim();\r\n\t    }\r\n\t  });\r\n\t\r\n\t  return {\r\n\t    elem: elem,\r\n\t    params: paramsExpr\r\n\t  };\r\n\t}\r\n\t\r\n\t//Set self close element node\r\n\tfunction _setSelfCloseElem(elem, elemName, elemArr, params) {\r\n\t  if (elemName === tmplRule.exprRule + 'else') {\r\n\t    elemArr.push(elem.substr(1, 5));\r\n\t  }\r\n\t  else {\r\n\t    _setElem(elem, elemName, elemArr, params, true);\r\n\t  }\r\n\t}\r\n\t\r\n\t//Set text node\r\n\tfunction _setText(text, elemArr, params) {\r\n\t  var pattern = /_nj-split(\\d+)_/g, matchArr,\r\n\t    splitNos = [];\r\n\t\r\n\t  while ((matchArr = pattern.exec(text))) {\r\n\t    splitNos.push(matchArr[1]);\r\n\t  }\r\n\t\r\n\t  if (splitNos.length) {\r\n\t    tools.each(text.split(/_nj-split(?:\\d+)_/), function (t) {\r\n\t      if (t !== '') {\r\n\t        elemArr.push(t);\r\n\t      }\r\n\t\r\n\t      var no = splitNos.shift();\r\n\t      if (no != null) {\r\n\t        elemArr.push(params[no]);\r\n\t      }\r\n\t    }, false, true);\r\n\t  }\r\n\t  else {\r\n\t    elemArr.push(text);\r\n\t  }\r\n\t}\r\n\t\r\n\t//Set template props\r\n\tfunction _setTmplProps(tmpl, key) {\r\n\t  tmpl.njKey = key;\r\n\t\r\n\t  tmpl.render = function () {\r\n\t    return nj.compile(this, this.njKey).apply(null, arguments);\r\n\t  };\r\n\t\r\n\t  tmpl.renderComp = function () {\r\n\t    return nj.compileComponent(this, this.njKey).apply(null, arguments);\r\n\t  };\r\n\t}\r\n\t\r\n\tmodule.exports = compileStringTmpl;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\t//Converts any value to the parameter of NornJ template can be parsed.\r\n\tmodule.exports = function (obj) {\r\n\t  return {\r\n\t    _njShim: obj\r\n\t  };\r\n\t};\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar checkStringElem = __webpack_require__(19);\r\n\t\r\n\tmodule.exports = function (key) {\r\n\t  return function() {\r\n\t    return checkStringElem.apply({ tmplKey: key }, arguments);\r\n\t  };\r\n\t};\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tmodule.exports = function (callback) {\r\n\t  var doc = document;\r\n\t  if (doc.addEventListener) {\r\n\t    doc.addEventListener(\"DOMContentLoaded\", callback, false);\r\n\t  }\r\n\t  else {\r\n\t    self.attachEvent(\"onload\", callback);\r\n\t  }\r\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** nornj.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 11ebba6c7767a8b03ac7\n **/","'use strict';\r\n\r\nvar nj = require('./core'),\r\n  utils = require('./utils/utils'),\r\n  compiler = require('./compiler/compile'),\r\n  compileStringTmpl = require('./checkElem/checkStringElem'),\r\n  tmplByKey = require('./utils/tmplByKey'),\r\n  docReady = require('./utils/docReady');\r\n\r\nnj.compileStringTmpl = compileStringTmpl;\r\nnj.tmplByKey = tmplByKey;\r\nnj.docReady = docReady;\r\nutils.assign(nj, compiler, utils);\r\n\r\n//Create vml tag namespace(primarily for IE8)\r\nutils.registerTagNamespace();\r\n\r\n//Default use React as component engine\r\nif (typeof React !== 'undefined') {\r\n  setComponentEngine('react', React, typeof ReactDOM !== 'undefined' ? ReactDOM : null);\r\n}\r\n\r\nvar global;\r\nif (typeof self !== 'undefined') {\r\n  global = self;\r\n\r\n  //Init tag template\r\n  docReady(function () {\r\n    if (nj.componentLib && nj.autoRenderTag) {\r\n      nj.renderTagComponent(nj.initTagData);\r\n    }\r\n  });\r\n}\r\nelse {\r\n  global = this;\r\n}\r\n\r\nmodule.exports = global.NornJ = global.nj = nj;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/base.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\r\n\r\nfunction nj() {\r\n  return nj.compileStringTmpl.apply(null, arguments);\r\n}\r\n\r\nnj.componentLib = null;\r\nnj.componentLibObj = null;\r\nnj.componentLibDom = null;\r\nnj.componentPort = null;\r\nnj.componentRender = null;\r\nnj.componentClasses = {};\r\nnj.namespace = 'nj';\r\nnj.tagNamespaces = { nj: 'nj' };\r\nnj.tagId = 'nj-id';\r\nnj.tagStyle = 'nj-style';\r\nnj.tagClassName = 'nj-component';\r\nnj.asts = {};\r\nnj.templates = {};\r\nnj.errorTitle = 'NornJ:';\r\nnj.tmplRule = {};\r\nnj.autoRenderTag = true;\r\n\r\nmodule.exports = nj;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/core.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar tools = require('./tools'),\r\n  transformElement = require('../transforms/transformElement'),\r\n  transformParam = require('../transforms/transformParam'),\r\n  transformData = require('../transforms/transformData'),\r\n  escape = require('./escape'),\r\n  checkElem = require('../checkElem/checkElem'),\r\n  setComponentEngine = require('./setComponentEngine'),\r\n  registerComponent = require('./registerComponent'),\r\n  filter = require('./filter'),\r\n  expression = require('./expression'),\r\n  setTmplRule = require('./setTmplRule');\r\n\r\n//Set default param rule\r\nsetTmplRule();\r\n\r\nmodule.exports = tools.assign(\r\n  {\r\n    escape: escape,\r\n    setTmplRule: setTmplRule\r\n  },\r\n  checkElem,\r\n  setComponentEngine,\r\n  registerComponent,\r\n  filter,\r\n  expression,\r\n  tools,\r\n  transformElement,\r\n  transformParam,\r\n  transformData\r\n);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/utils.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  assign = require('object-assign'),\r\n  arrayProto = Array.prototype,\r\n  arrayEvery = arrayProto.every,\r\n  arrayForEach = arrayProto.forEach,\r\n  arrayPush = arrayProto.push,\r\n  errorTitle = nj.errorTitle;\r\n\r\n//Push one by one to array\r\nfunction listPush(arr1, arr2, checkIsArr, checkNotNull) {\r\n  if (checkIsArr && !isArray(arr2)) {\r\n    //Put the value at the end of the first array only when the second parameter is not null.\r\n    if (!checkNotNull || arr2 != null) {\r\n      arr1[arr1.length] = arr2;\r\n    }\r\n    return arr1;\r\n  }\r\n\r\n  arrayPush.apply(arr1, arr2);\r\n  return arr1;\r\n}\r\n\r\n//判断是否为数组\r\nfunction isArray(obj) {\r\n  return Array.isArray(obj);\r\n}\r\n\r\n//判断是否为对象\r\nfunction isObject(obj) {\r\n  var type = typeof obj;\r\n  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\r\n}\r\n\r\n//判断是否为字符串\r\nfunction isString(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object String]';\r\n}\r\n\r\n//获取属性值\r\nfunction _getProperty(key) {\r\n  return function (obj) {\r\n    return obj == null ? void 0 : obj[key];\r\n  };\r\n}\r\n\r\n//是否为类数组\r\nvar _getLength = _getProperty('length');\r\nfunction isArrayLike(obj) {\r\n  var length = _getLength(obj);\r\n  return typeof length == 'number' && length >= 0;\r\n}\r\n\r\n//遍历数组或对象\r\nfunction each(obj, func, context, isArr, useEvery) {\r\n  if (!obj) {\r\n    return;\r\n  }\r\n\r\n  var arrayEach;\r\n  if (useEvery) {\r\n    arrayEach = arrayEvery;\r\n  }\r\n  else {\r\n    arrayEach = arrayForEach;\r\n  }\r\n  if (isArr == null) {\r\n    isArr = isArrayLike(obj);\r\n  }\r\n\r\n  //设置回调函数上下文\r\n  context = context ? context : obj;\r\n\r\n  if (isArr) {\r\n    arrayEach.call(obj, function (o, i) {\r\n      var ret = func.call(context, o, i);\r\n\r\n      if (useEvery) {\r\n        if (ret === false) {\r\n          return ret;\r\n        }\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n  else {\r\n    var keys = Object.keys(obj),\r\n      l = keys.length;\r\n    arrayEach.call(keys, function (k, i) {\r\n      var ret = func.call(context, obj[k], k, i, l);\r\n\r\n      if (useEvery) {\r\n        if (ret === false) {\r\n          return ret;\r\n        }\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n//判断是否在数组内\r\nfunction inArray(obj, value) {\r\n  return obj.indexOf(value);\r\n}\r\n\r\n//去除字符串空格\r\nfunction trim(str) {\r\n  if (!!!str) {\r\n    return '';\r\n  }\r\n\r\n  return str.trim();\r\n}\r\n\r\n//Noop function\r\nfunction noop() { }\r\n\r\n//抛出异常\r\nfunction throwIf(val, msg, type) {\r\n  if (!val) {\r\n    switch (type) {\r\n      case 'expr':\r\n        throw Error(errorTitle + 'Expression \"' + msg + '\" is undefined, please check it has been registered.');\r\n      default:\r\n        throw Error(errorTitle + (msg || val));\r\n    }\r\n  }\r\n}\r\n\r\n//Print warn\r\nfunction warn(msg, type) {\r\n  var ret = errorTitle;\r\n  switch (type) {\r\n    case 'filter':\r\n      ret += 'A filter called \"' + msg + '\" is undefined.';\r\n    default:\r\n      ret += msg;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//create a unique key\r\nfunction uniqueKey(str, hash) {\r\n  var len = str.length;\r\n  if (len == 0) {\r\n    return str;\r\n  }\r\n  if (hash == null) {\r\n    hash = 0;\r\n  }\r\n\r\n  var i, chr;\r\n  for (i = 0, len = str.length; i < len; i++) {\r\n    chr = str.charCodeAt(i);\r\n    hash = ((hash << 5) - hash) + chr;\r\n    hash |= 0;\r\n  }\r\n\r\n  return hash;\r\n}\r\n\r\n//create light weight object\r\nfunction lightObj() {\r\n  return Object.create(null);\r\n}\r\n\r\n//Clear quotation marks\r\nfunction clearQuot(value) {\r\n  var charF = value[0],\r\n    regex;\r\n\r\n  if (charF === '\\'') {\r\n    regex = /[']+/g;\r\n  }\r\n  else if (charF === '\"') {\r\n    regex = /[\"]+/g;\r\n  }\r\n  if (regex) {\r\n    value = value.replace(regex, '');\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\n//Transform to camel-case\r\nfunction toCamelCase(str) {\r\n  if (str.indexOf('-') > -1) {\r\n    str = str.replace(/-\\w/g, function (letter) {\r\n      return letter.substr(1).toUpperCase();\r\n    });\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nvar tools = {\r\n  isArray: isArray,\r\n  isArrayLike: isArrayLike,\r\n  isObject: isObject,\r\n  isString: isString,\r\n  each: each,\r\n  inArray: inArray,\r\n  trim: trim,\r\n  throwIf: throwIf,\r\n  assign: assign,\r\n  uniqueKey: uniqueKey,\r\n  lightObj: lightObj,\r\n  listPush: listPush,\r\n  clearQuot: clearQuot,\r\n  toCamelCase: toCamelCase,\r\n  warn: warn,\r\n  noop: noop\r\n};\r\n\r\nmodule.exports = tools;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/tools.js\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('./transformParam'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//提取xml open tag\r\nfunction getXmlOpenTag(obj) {\r\n  return tmplRule.xmlOpenTag.exec(obj);\r\n}\r\n\r\n//验证xml self close tag\r\nvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\r\nfunction isXmlSelfCloseTag(obj) {\r\n  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\r\n}\r\n\r\n//Verify self close tag name\r\nvar OMITTED_CLOSE_TAGS = {\r\n  'area': true,\r\n  'base': true,\r\n  'br': true,\r\n  'col': true,\r\n  'embed': true,\r\n  'hr': true,\r\n  'img': true,\r\n  'input': true,\r\n  'keygen': true,\r\n  'link': true,\r\n  'meta': true,\r\n  'param': true,\r\n  'source': true,\r\n  'track': true,\r\n  'wbr': true\r\n};\r\nfunction verifySelfCloseTag(tagName) {\r\n  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\r\n}\r\n\r\n//Extract parameters inside the xml open tag\r\nfunction getOpenTagParams(obj, noXml) {\r\n  var pattern = /[\\s]+([^\\s={}>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?/g,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    var key = matchArr[1];\r\n    if (key === '/' || key === '/>') {  //If match to the last \"/\" or \"/>\", then continue the loop.\r\n      continue;\r\n    }\r\n\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    var value = matchArr[3],\r\n      charF, len, regex;\r\n    if (value != null) {\r\n      value = tools.clearQuot(value);  //Remove quotation marks\r\n    }\r\n    else {\r\n      value = key;  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n    }\r\n    len = value.length;\r\n\r\n    //Removed at the end of \"/>\" or \">\".\r\n    if (!noXml) {\r\n      if (value.lastIndexOf('/>') === len - 2) {\r\n        value = value.replace(/\\/>/, '');\r\n      }\r\n      else if (value.lastIndexOf('>') === len - 1) {\r\n        value = value.replace(/>/, '');\r\n      }\r\n    }\r\n\r\n    ret.push({ key: key, value: value });\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断xml close tag\r\nfunction isXmlCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\r\n}\r\n\r\n//提取open tag\r\nfunction getOpenTag(obj) {\r\n  return tmplRule.openTag.exec(obj);\r\n}\r\n\r\n//验证self close tag\r\nvar REGEX_SELF_CLOSE_TAG = /\\/$/i;\r\nfunction isSelfCloseTag(obj) {\r\n  return REGEX_SELF_CLOSE_TAG.test(obj);\r\n}\r\n\r\n//判断close tag\r\nfunction isCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj.toLowerCase() === '/' + tagName.toLowerCase();\r\n}\r\n\r\n//get inside brace param\r\nfunction getInsideBraceParam(obj) {\r\n  return tmplRule.insideBraceParam.exec(obj);\r\n}\r\n\r\n//判断流程控制块并返回refer值\r\nfunction isControl(obj) {\r\n  var ret, ret1 = tmplRule.expr.exec(obj);\r\n  if (ret1) {\r\n    ret = [ret1[1]];\r\n\r\n    var ret2 = getInsideBraceParam(obj);  //提取refer值\r\n    if (ret2) {\r\n      ret.push(ret2[0]);\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断流程控制块close tag\r\nfunction isControlCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj === '/' + tmplRule.exprRule + tagName;\r\n}\r\n\r\n//判断是否模板元素\r\nfunction isTmpl(obj) {\r\n  return obj === 'tmpl';\r\n}\r\n\r\n//加入到模板集合中\r\nfunction addTmpl(node, parent, name) {\r\n  var paramsP = parent.params;\r\n  if (!paramsP) {\r\n    paramsP = parent.params = tools.lightObj();\r\n  }\r\n\r\n  var tmpls = paramsP.tmpls;\r\n  if (!tmpls) {\r\n    var objT = { length: 0 };\r\n    if(name != null) {\r\n      objT[name] = node;\r\n    }\r\n    else {\r\n      objT['0'] = node;\r\n      objT.length = 1;\r\n    }\r\n\r\n    paramsP.tmpls = tranParam.compiledParam(objT);\r\n  }\r\n  else {  //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\r\n    var objT = tmpls.strs[0],\r\n      len = objT.length;\r\n\r\n    if(name != null) {\r\n      objT[name] = node;\r\n    }\r\n    else {\r\n      objT[len] = node;\r\n      objT.length = ++len;\r\n    }\r\n  }\r\n}\r\n\r\n//Test whether as parameters expression\r\nfunction isParamsExpr(obj) {\r\n  return obj === 'params' || obj === 'props';\r\n}\r\n\r\n//Add to the \"paramsExpr\" property of the parent node\r\nfunction addParamsExpr(node, parent) {\r\n  if (!parent.paramsExpr) {\r\n    parent.paramsExpr = node;\r\n  }\r\n  else {\r\n    tools.listPush(parent.paramsExpr.content, node.content);\r\n  }\r\n}\r\n\r\n//获取标签组件名\r\nfunction getTagComponentName(el) {\r\n  var tagName = el.tagName.toLowerCase();\r\n  tools.each(nj.tagNamespaces, function (tagNamespace) {\r\n    if (tagName.indexOf(tagNamespace + ':') === 0) {\r\n      tagName = tagName.split(':')[1];\r\n      return false;\r\n    }\r\n    else if (tagName.indexOf(tagNamespace + '-') === 0) {\r\n      tagName = tagName.split('-')[1];\r\n      return false;\r\n    }\r\n  }, false, false, true);\r\n\r\n  return tagName;\r\n}\r\n\r\n//获取标签组件所有属性\r\nfunction getTagComponentAttrs(el) {\r\n  var attrs = el.attributes,\r\n    ret;\r\n\r\n  tools.each(attrs, function (obj) {\r\n    var attrName = obj.nodeName;\r\n    if (attrName !== nj.tagId && obj.specified) {  //此处如不判断specified属性,则低版本IE中会列出所有可能的属性\r\n      var val = obj.nodeValue;\r\n      if (!ret) {\r\n        ret = tools.lightObj();\r\n      }\r\n\r\n      //Deal with the attribute only has key.\r\n      if (val === '') {\r\n        val = attrName;\r\n      }\r\n\r\n      if (attrName === 'style') {  //style属性使用cssText\r\n        val = el.style.cssText;\r\n      }\r\n      else if (attrName.indexOf('data-') !== 0  //Transform to camel-case\r\n        && attrName.indexOf(nj.namespace + '-') !== 0) {\r\n        //Can be marked with an exclamation mark to distinguish the attribute name beginning with \"data-\".\r\n        if (attrName.indexOf('!') === 0) {\r\n          attrName = attrName.substr(1);\r\n        }\r\n\r\n        attrName = tools.toCamelCase(attrName);\r\n      }\r\n\r\n      ret[attrName] = val;\r\n    }\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\n//判断标签表达式块\r\nfunction isTagControl(obj) {\r\n  return tmplRule.expr.test(obj);\r\n}\r\n\r\n//获取全部标签组件\r\nfunction getTagComponents(selector) {\r\n  if (!selector) {\r\n    selector = '.' + nj.tagClassName;\r\n  }\r\n\r\n  return document.querySelectorAll(selector);\r\n}\r\n\r\n//Remove all dom child node\r\nfunction removeChildNode(node) {\r\n  var children = node.childNodes,\r\n    len = children.length,\r\n    i = 0;\r\n\r\n  for (; i < len; i++) {\r\n    node.removeChild(node.firstChild);\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  getXmlOpenTag: getXmlOpenTag,\r\n  isXmlSelfCloseTag: isXmlSelfCloseTag,\r\n  verifySelfCloseTag: verifySelfCloseTag,\r\n  getOpenTagParams: getOpenTagParams,\r\n  isXmlCloseTag: isXmlCloseTag,\r\n  getOpenTag: getOpenTag,\r\n  isSelfCloseTag: isSelfCloseTag,\r\n  isCloseTag: isCloseTag,\r\n  getInsideBraceParam: getInsideBraceParam,\r\n  isControl: isControl,\r\n  isControlCloseTag: isControlCloseTag,\r\n  isTmpl: isTmpl,\r\n  addTmpl: addTmpl,\r\n  isParamsExpr: isParamsExpr,\r\n  addParamsExpr: addParamsExpr,\r\n  getTagComponentName: getTagComponentName,\r\n  getTagComponentAttrs: getTagComponentAttrs,\r\n  isTagControl: isTagControl,\r\n  getTagComponents: getTagComponents,\r\n  removeChildNode: removeChildNode\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/transforms/transformElement.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//Get compiled parameters from a object\r\nfunction compiledParams(obj) {\r\n  var ret = tools.lightObj();\r\n  tools.each(obj, function (v, k) {\r\n    ret[k] = compiledParam(v);\r\n  }, false, false);\r\n\r\n  return ret;\r\n}\r\n\r\n//Get compiled property\r\nfunction compiledProp(prop, isString) {\r\n  var ret = tools.lightObj();\r\n\r\n  //Extract the dot data path to the 'prop' filter.\r\n  if (!isString && prop.indexOf('.') > -1) {\r\n    prop = prop.replace(/\\.([^\\s.:\\/]+)/g, ':prop($1)');\r\n  }\r\n\r\n  //If there are colons in the property,then use filter\r\n  if (prop.indexOf(':') >= 0) {\r\n    var filters = [],\r\n      filtersTmp;\r\n    filtersTmp = prop.split(':');\r\n    prop = filtersTmp[0].trim();  //Extract property\r\n\r\n    filtersTmp = filtersTmp.slice(1);\r\n    tools.each(filtersTmp, function (filter) {\r\n      var retF = _getFilterParam(filter.trim()),\r\n        filterObj = tools.lightObj(),\r\n        filterName = retF[1].toLowerCase();  //Get filter name\r\n\r\n      if (filterName) {\r\n        var paramsF = retF[3];  //Get filter param\r\n\r\n        //Multiple params are separated by commas.\r\n        if (paramsF) {\r\n          var params = [];\r\n          tools.each(paramsF.split(','), function (p) {\r\n            params[params.length] = p.trim();\r\n          }, false, true);\r\n\r\n          filterObj.params = params;\r\n        }\r\n\r\n        filterObj.name = filterName;\r\n        filters.push(filterObj);\r\n      }\r\n    }, false, true);\r\n\r\n    ret.filters = filters;\r\n  }\r\n\r\n  //Extract the parent data path\r\n  if (!isString && prop.indexOf('../') > -1) {\r\n    var n = 0;\r\n    prop = prop.replace(/\\.\\.\\//g, function () {\r\n      n++;\r\n      return '';\r\n    });\r\n\r\n    ret.parentNum = n;\r\n  }\r\n\r\n  ret.name = prop;\r\n  if (isString) {  //Sign the parameter is a pure string.\r\n    ret.isStr = true;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get filter param\r\nvar REGEX_FILTER_PARAM = /([\\w$]+)(\\(([^()]+)\\))*/;\r\nfunction _getFilterParam(obj) {\r\n  return REGEX_FILTER_PARAM.exec(obj);\r\n}\r\n\r\n//Extract replace parameters\r\nvar _quots = ['\\'', '\"'];\r\nfunction _getReplaceParam(obj, strs) {\r\n  var pattern = tmplRule.replaceParam(),\r\n    patternP = /[^\\s:]+([\\s]?:[\\s]?[^\\s\\(\\)]+(\\([^\\(\\)]+\\))?(\\.[^\\s.]+)?){0,}/g,\r\n    matchArr, matchArrP, ret, prop, i = 0;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    var j = 0;\r\n    prop = matchArr[3];\r\n\r\n    //To extract parameters by interval space.\r\n    while ((matchArrP = patternP.exec(prop))) {\r\n      var propP = matchArrP[0],\r\n        item = [matchArr[0], matchArr[1], propP, false, true];\r\n\r\n      //Clear parameter at both ends of the space.\r\n      propP = propP.trim();\r\n\r\n      //If parameter has quotation marks, this's a pure string parameter.\r\n      if (_quots.indexOf(propP[0]) > -1) {\r\n        propP = tools.clearQuot(propP);\r\n        item[3] = true;\r\n      }\r\n\r\n      item[2] = propP;\r\n      ret.push(item);\r\n\r\n      //If there are several parameters in a curly braces, fill the space for the \"strs\" array.\r\n      if (j > 0) {\r\n        item[4] = false;  //Sign not contain all of placehorder\r\n        strs.splice(++i, 0, '');\r\n      }\r\n      j++;\r\n    }\r\n    i++;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get compiled parameter\r\nfunction compiledParam(value) {\r\n  var ret = tools.lightObj(),\r\n    strs = tools.isString(value) ? value.split(tmplRule.replaceSplit) : [value],\r\n    props = null,\r\n    isAll = false;  //此处指替换符是否占满整个属性值;若无替换符时为false\r\n\r\n  //If have placehorder\r\n  if (strs.length > 1) {\r\n    var params = _getReplaceParam(value, strs);\r\n    props = [];\r\n\r\n    tools.each(params, function (param) {\r\n      var retP = tools.lightObj();\r\n      isAll = param[4] ? param[0] === value : false;  //If there are several parameters in a curly braces, \"isAll\" must be false.\r\n      retP.prop = compiledProp(param[2], param[3]);\r\n\r\n      //If parameter's open rules are several,then it need escape.\r\n      retP.escape = param[1].split(tmplRule.beginRule).length < 3;\r\n      props.push(retP);\r\n    }, false, true);\r\n  }\r\n\r\n  ret.props = props;\r\n  ret.strs = strs;\r\n  ret.isAll = isAll;\r\n\r\n  //标记为模板函数替换变量\r\n  if(isAll) {\r\n    var prop = props[0].prop;\r\n    if(prop.name.indexOf('!#') === 0) {\r\n      prop.name = prop.name.substr(2);\r\n      ret.isTmplPlace = true;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = {\r\n  compiledParam: compiledParam,\r\n  compiledParams: compiledParams,\r\n  compiledProp: compiledProp\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/transforms/transformParam.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  errorTitle = nj.errorTitle;\r\n\r\n//提取style内参数\r\nfunction styleProps(obj) {\r\n  //If the parameter is a style object,then direct return.\r\n  if (tools.isObject(obj)) {\r\n    return obj;\r\n  }\r\n\r\n  //参数为字符串\r\n  var pattern = /([^\\s:]+)[\\s]?:[\\s]?([^\\s;]+)[;]?/g,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    var key = matchArr[1],\r\n      value = matchArr[2];\r\n\r\n    if (!ret) {\r\n      ret = {};\r\n    }\r\n\r\n    //Convert to lowercase when style name is all capital.\r\n    if (/^[A-Z-]+$/.test(key)) {\r\n      key = key.toLowerCase();\r\n    }\r\n\r\n    //将连字符转为驼峰命名\r\n    key = tools.toCamelCase(key);\r\n\r\n    ret[key] = value;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get value from multiple datas\r\nfunction getDatasValue(datas, prop) {\r\n  var ret, obj;\r\n  for (var i = 0, l = datas.length; i < l; i++) {\r\n    obj = datas[i];\r\n    if (obj) {\r\n      ret = obj[prop];\r\n      if (ret != null) {\r\n        return ret;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//获取each块中的item参数\r\nfunction getItemParam(item, data, isArr) {\r\n  var ret = item;\r\n  if (isArr == null) {\r\n    isArr = tools.isArray(data);\r\n  }\r\n  if (isArr) {\r\n    ret = tools.listPush([item], data.slice(1));\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//修正属性名\r\nfunction fixPropName(name) {\r\n  switch (name) {\r\n    case 'class':\r\n      name = 'className';\r\n      break;\r\n    case 'for':\r\n      name = 'htmlFor';\r\n      break;\r\n  }\r\n\r\n  return name;\r\n}\r\n\r\n//合并字符串属性\r\nfunction assignStringProp(paramsE, keys) {\r\n  var ret = '';\r\n  for (var k in paramsE) {\r\n    if (!keys || !keys[k]) {\r\n      ret += ' ' + k + '=\"' + paramsE[k] + '\"';\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\n//创建块表达式子节点函数\r\nfunction exprRet(p1, p2, p3, fn, p5) {\r\n  return function (param) {\r\n    return fn(p1, p2, p3, param, p5);\r\n  };\r\n}\r\n\r\n//构建可运行的模板函数\r\nfunction tmplWrap(configs, main) {\r\n  return function (data) {\r\n    var args = arguments,\r\n      len = args.length,\r\n      data;\r\n\r\n    if (len <= 0) {\r\n      data = {};\r\n    }\r\n    else if (len === 1) {\r\n      data = args[0];\r\n    }\r\n    else {\r\n      data = [];\r\n      for (var i = 0; i < len; i++) {\r\n        data[data.length] = args[i];\r\n      }\r\n    }\r\n\r\n    var ret = main(configs, { data: data, parent: this ? this.parent : null }, { multiData: nj.isArray(data) });\r\n    if (!configs.useString && tools.isArray(ret)) {  //组件最外层必须是单一节点对象\r\n      ret = ret[0];\r\n    }\r\n\r\n    return ret;\r\n  };\r\n}\r\n\r\n//创建模板函数\r\nfunction template(fns) {\r\n  var configs = {\r\n    useString: fns.useString,\r\n    exprs: nj.exprs,\r\n    filters: nj.filters,\r\n    getDatasValue: nj.getDatasValue,\r\n    noop: nj.noop,\r\n    lightObj: nj.lightObj,\r\n    throwIf: nj.throwIf,\r\n    warn: nj.warn,\r\n    getItemParam: nj.getItemParam,\r\n    styleProps: nj.styleProps,\r\n    exprRet: nj.exprRet\r\n  };\r\n\r\n  if (!configs.useString) {\r\n    configs.compPort = nj.componentPort;\r\n    configs.compLib = nj.componentLibObj;\r\n    configs.compClass = nj.componentClasses;\r\n    //configs.assign = nj.assign;\r\n  }\r\n  else {\r\n    configs.assignStringProp = nj.assignStringProp;\r\n    configs.escape = nj.escape;\r\n  }\r\n\r\n  tools.each(fns, function (v, k) {\r\n    if (k.indexOf('main') === 0) {  //将每个主函数构建为可运行的模板函数\r\n      configs[k] = tmplWrap(configs, v);\r\n    }\r\n    else if (k.indexOf('fn') === 0) {  //块表达式函数\r\n      configs[k] = v;\r\n    }\r\n  }, false, false);\r\n\r\n  return configs;\r\n}\r\n\r\nmodule.exports = {\r\n  getItemParam: getItemParam,\r\n  getDatasValue: getDatasValue,\r\n  fixPropName: fixPropName,\r\n  styleProps: styleProps,\r\n  assignStringProp: assignStringProp,\r\n  exprRet: exprRet,\r\n  tmplWrap: tmplWrap,\r\n  template: template\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/transforms/transformData.js\n ** module id = 7\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar ESCAPE_LOOKUP = {\r\n  '&': '&amp;',\r\n  '>': '&gt;',\r\n  '<': '&lt;',\r\n  '\"': '&quot;',\r\n  '\\'': '&#x27;'\r\n};\r\n\r\nfunction escape(text) {\r\n  if (text == null) {\r\n    return '';\r\n  }\r\n  else if(!text.replace) {\r\n    return text;\r\n  }\r\n\r\n  return text.replace(/[&><\"']/g, function (match) {\r\n    return ESCAPE_LOOKUP[match];\r\n  });\r\n}\r\n\r\nmodule.exports = escape;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/escape.js\n ** module id = 8\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('../transforms/transformParam'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  checkTagElem = require('./checkTagElem'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//检测元素节点\r\nfunction checkElem(obj, parent) {\r\n  var node = {},\r\n    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\r\n  if (!tools.isArray(obj)) {  //判断是否为文本节点\r\n    if (tools.isObject(obj) && '_njShim' in obj && !tools.isArray(obj._njShim)) {  //Get the shim value\r\n      obj = obj._njShim;\r\n    }\r\n\r\n    //if (tools.isString(obj)) {\r\n    node.type = 'nj_plaintext';\r\n    node.content = [tranParam.compiledParam(obj)];\r\n    parent[parentContent].push(node);\r\n    //}\r\n\r\n    return;\r\n  }\r\n\r\n  var first = obj[0];\r\n  if (tools.isString(first)) {  //第一个子节点为字符串\r\n    var first = first,\r\n      len = obj.length,\r\n      last = obj[len - 1],\r\n      isElemNode = false,\r\n      control,\r\n      refer;\r\n\r\n    //判断是否为xml标签\r\n    var xmlOpenTag = tranElem.getXmlOpenTag(first),\r\n      openTagName,\r\n      hasCloseTag = false,\r\n      isTmpl, isParamsExpr;\r\n\r\n    if (xmlOpenTag) {  //tagname为xml标签时,则认为是元素节点\r\n      openTagName = xmlOpenTag[1];\r\n\r\n      if (!tranElem.isXmlSelfCloseTag(first)) {  //非自闭合标签才验证是否存在关闭标签\r\n        hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\r\n      }\r\n      else {  //自闭合标签\r\n        node.selfCloseTag = true;\r\n      }\r\n      isElemNode = true;\r\n    }\r\n    else {\r\n      control = tranElem.isControl(first);\r\n      if (!control) {  //tagname不为xml标签时,必须有结束标签才认为是元素节点\r\n        var openTag = tranElem.getOpenTag(first);\r\n        if (openTag) {\r\n          openTagName = openTag[0];\r\n\r\n          if (!tranElem.isSelfCloseTag(first)) {  //非自闭合标签\r\n            hasCloseTag = tranElem.isCloseTag(last, openTagName);\r\n            if (hasCloseTag) {\r\n              isElemNode = true;\r\n            }\r\n          }\r\n          else {  //如果是自闭合标签则直接认为是元素节点\r\n            node.selfCloseTag = true;\r\n            isElemNode = true;\r\n          }\r\n        }\r\n      }\r\n      else {  //为特殊节点,也可视为一个元素节点\r\n        var ctrl = control[0].toLowerCase();\r\n        refer = control[1];\r\n        isTmpl = tranElem.isTmpl(ctrl);\r\n        isParamsExpr = tranElem.isParamsExpr(ctrl);\r\n\r\n        node.type = 'nj_expr';\r\n        node.expr = ctrl;\r\n        if (refer != null && !isTmpl) {\r\n          node.refer = tranParam.compiledParam(refer);\r\n        }\r\n\r\n        if (tranElem.isControlCloseTag(last, ctrl)) {  //判断是否有流程控制块闭合标签\r\n          hasCloseTag = true;\r\n        }\r\n        isElemNode = true;\r\n      }\r\n    }\r\n\r\n    if (isElemNode) {  //判断是否为元素节点\r\n      var elseIndex = -1,\r\n        pushContent = true;\r\n\r\n      if (!control) {\r\n        node.type = openTagName;\r\n\r\n        //If open tag has a brace,add the typeRefer param.\r\n        var typeRefer = tranElem.getInsideBraceParam(openTagName);\r\n        if (typeRefer) {\r\n          node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n        }\r\n\r\n        //获取openTag内参数\r\n        var tagParams = tranElem.getOpenTagParams(first, !xmlOpenTag);\r\n        if (tagParams) {\r\n          if (!node.params) {\r\n            node.params = tools.lightObj();\r\n          }\r\n\r\n          tools.each(tagParams, function (param) {\r\n            node.params[param.key] = tranParam.compiledParam(param.value);\r\n          }, false, true);\r\n        }\r\n\r\n        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n        if (!node.selfCloseTag) {\r\n          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\r\n        }\r\n      }\r\n      else {  //为表达式块时判断是否有$else\r\n        if (isTmpl) {  //模板元素\r\n          pushContent = false;\r\n          var retR = tranElem.getInsideBraceParam(refer);\r\n\r\n          //将模板添加到父节点的params中\r\n          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n        }\r\n        else if (isParamsExpr) {\r\n          pushContent = false;\r\n        }\r\n        else {\r\n          elseIndex = tools.inArray(obj, tmplRule.exprRule + 'else');\r\n        }\r\n      }\r\n\r\n      //放入父节点content内\r\n      if (pushContent) {\r\n        parent[parentContent].push(node);\r\n      }\r\n\r\n      //取出子节点集合\r\n      var end = len - (hasCloseTag ? 1 : 0),\r\n        content = obj.slice(1, (elseIndex < 0 ? end : elseIndex));\r\n      if (content && content.length) {\r\n        checkContentElem(content, node);\r\n      }\r\n\r\n      //如果有$else,则将$else后面的部分存入content_else集合中\r\n      if (elseIndex >= 0) {\r\n        var contentElse = obj.slice(elseIndex + 1, end);\r\n        node.hasElse = true;\r\n\r\n        if (contentElse && contentElse.length) {\r\n          checkContentElem(contentElse, node);\r\n        }\r\n      }\r\n\r\n      //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n      if (isParamsExpr) {\r\n        tranElem.addParamsExpr(node, parent);\r\n      }\r\n    }\r\n    else {  //如果不是元素节点,则为节点集合\r\n      checkContentElem(obj, parent);\r\n    }\r\n  }\r\n  else if (tools.isArray(first)) {  //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\r\n    checkContentElem(obj, parent);\r\n  }\r\n}\r\n\r\n//检测子元素节点\r\nfunction checkContentElem(obj, parent) {\r\n  if (!parent.content) {\r\n    parent.content = [];\r\n  }\r\n  if (parent.hasElse && !parent.contentElse) {\r\n    parent.contentElse = [];\r\n  }\r\n\r\n  tools.each(obj, function (item) {\r\n    checkElem(item, parent);\r\n  }, false, true);\r\n}\r\n\r\nmodule.exports = {\r\n  checkElem: checkElem,\r\n  checkTagElem: checkTagElem\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/checkElem/checkElem.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('../transforms/transformParam'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//检测标签元素节点\r\nfunction checkTagElem(obj, parent) {\r\n  var node = {},\r\n    nodeType = obj.nodeType,\r\n    nodeValue = tools.trim(obj.nodeValue),\r\n    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\r\n  //处理文本节点\r\n  if (nodeType === 3) {\r\n    if (nodeValue === '') {\r\n      return;\r\n    }\r\n\r\n    node.type = 'nj_plaintext';\r\n    node.content = [tranParam.compiledParam(nodeValue)];\r\n    parent[parentContent].push(node);\r\n\r\n    return;\r\n  }\r\n\r\n  //处理元素节点\r\n  if (nodeType === 1) {\r\n    var tagName = tranElem.getTagComponentName(obj),\r\n      params = tranElem.getTagComponentAttrs(obj),\r\n      isControl = tranElem.isTagControl(tagName),\r\n      pushContent = true,\r\n      isParamsExpr;\r\n\r\n    if (isControl) {  //特殊节点\r\n      if (tagName !== tmplRule.exprRule + 'else') {\r\n        tagName = tagName.substr(1);\r\n        node.type = 'nj_expr';\r\n        node.expr = tagName;\r\n        isParamsExpr = tranElem.isParamsExpr(tagName);\r\n\r\n        if (tranElem.isTmpl(tagName)) {  //模板元素\r\n          pushContent = false;\r\n          var retR;\r\n          if (params && params.refer) {\r\n            retR = tranElem.getInsideBraceParam(params.refer);\r\n          }\r\n\r\n          //将模板添加到父节点的params中\r\n          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n        }\r\n        else if (isParamsExpr) {\r\n          pushContent = false;\r\n        }\r\n        else {  //Expression block\r\n          if (params && params.refer) {\r\n            var retR = tranElem.getInsideBraceParam(params.refer);\r\n            node.refer = tranParam.compiledParam(retR ? retR[0] : params.refer);\r\n          }\r\n        }\r\n      }\r\n      else {  //else节点\r\n        pushContent = false;\r\n\r\n        //将else标签内的子节点放入当前父节点的contentElse中\r\n        node = parent;\r\n        node.hasElse = true;\r\n      }\r\n    }\r\n    else {  //元素节点\r\n      node.type = tagName;\r\n\r\n      //If open tag has a brace,add the typeRefer param.\r\n      var typeRefer = tranElem.getInsideBraceParam(tagName);\r\n      if (typeRefer) {\r\n        node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n      }\r\n\r\n      if (params) {\r\n        node.params = tranParam.compiledParams(params);\r\n      }\r\n\r\n      //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n      node.selfCloseTag = tranElem.verifySelfCloseTag(tagName);\r\n    }\r\n\r\n    //放入父节点content内\r\n    if (pushContent) {\r\n      parent[parentContent].push(node);\r\n    }\r\n\r\n    //处理子元素\r\n    var childNodes = obj.childNodes;\r\n    if (childNodes && childNodes.length) {\r\n      checkTagContentElem(childNodes, node);\r\n    }\r\n\r\n    //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n    if (isParamsExpr) {\r\n      tranElem.addParamsExpr(node, parent);\r\n    }\r\n  }\r\n}\r\n\r\n//检测标签子元素节点\r\nfunction checkTagContentElem(obj, parent) {\r\n  if (!parent.content) {\r\n    parent.content = [];\r\n  }\r\n  if (parent.hasElse && !parent.contentElse) {\r\n    parent.contentElse = [];\r\n  }\r\n\r\n  tools.each(obj, function (item) {\r\n    checkTagElem(item, parent);\r\n  }, false, true);\r\n}\r\n\r\n//Set init data for tag component\r\nnj.setInitTagData = function (data) {\r\n  nj.initTagData = data;\r\n};\r\n\r\nmodule.exports = checkTagElem;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/checkElem/checkTagElem.js\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//Set component engine\r\nfunction setComponentEngine(name, obj, dom, port, render) {\r\n  //Component engine's name\r\n  nj.componentLib = name;\r\n\r\n  //Component engine's object\r\n  nj.componentLibObj = obj;\r\n\r\n  //Component engine's dom object\r\n  dom = dom || obj;\r\n  nj.componentLibDom = dom;\r\n\r\n  //Component engine's create element and render function\r\n  if (name === 'react') {\r\n    port = 'createElement';\r\n    render = 'render';\r\n  }\r\n  nj.componentPort = tools.isString(port) ? obj[port] : port;\r\n  nj.componentRender = tools.isString(render) ? dom[render] : render;\r\n}\r\n\r\nmodule.exports = {\r\n  setComponentEngine: setComponentEngine\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/setComponentEngine.js\n ** module id = 11\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//注册组件\r\nfunction registerComponent(name, component) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = component;\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    nj.componentClasses[k.toLowerCase()] = v;\r\n  }, false, false);\r\n\r\n  return component;\r\n}\r\n\r\n//注册组件标签命名空间\r\nfunction setNamespace(name) {\r\n  nj.namespace = name;\r\n\r\n  //修改标签组件id及类名\r\n  nj.tagId = name + '-id';\r\n  nj.tagStyle = name + '-style';\r\n  nj.tagClassName = name + '-component';\r\n}\r\n\r\n//创建标签命名空间\r\nfunction registerTagNamespace(name) {\r\n  if (!name) {\r\n    name = 'nj';\r\n  }\r\n  nj.tagNamespaces[name] = name;\r\n\r\n  if (typeof document === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  var doc = document;\r\n  if (doc && doc.namespaces) {\r\n    doc.namespaces.add(name, 'urn:schemas-microsoft-com:vml', '#default#VML');\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  registerComponent: registerComponent,\r\n  setNamespace: setNamespace,\r\n  registerTagNamespace: registerTagNamespace\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/registerComponent.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar tools = require('./tools');\r\n\r\n//Global filter list\r\nvar filters = {\r\n  //Get param properties\r\n  prop: function (obj, props) {\r\n    var ret = obj;\r\n    ret && tools.each(props.split('.'), function (p) {\r\n      ret = ret[p];\r\n    }, false, true);\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Get list count\r\n  count: function (obj) {\r\n    return obj ? obj.length : 0;\r\n  },\r\n\r\n  //Get list item\r\n  item: function (obj, no) {\r\n    return obj ? obj[no] : null;\r\n  },\r\n\r\n  //Judge equal\r\n  equal: function (obj, val) {\r\n    return obj == val;\r\n  },\r\n\r\n  //Less than\r\n  lt: function (val1, val2, noEqual) {\r\n    var ret;\r\n    val1 = parseFloat(val1);\r\n    val2 = parseFloat(val2);\r\n\r\n    if (noEqual) {\r\n      ret = val1 < val2;\r\n    }\r\n    else {\r\n      ret = val1 <= val2;\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Greater than\r\n  gt: function (val1, val2, noEqual) {\r\n    var ret;\r\n    val1 = parseFloat(val1);\r\n    val2 = parseFloat(val2);\r\n\r\n    if (noEqual) {\r\n      ret = val1 > val2;\r\n    }\r\n    else {\r\n      ret = val1 >= val2;\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Addition\r\n  add: function (val1, val2, isFloat) {\r\n    return val1 + (isFloat ? parseFloat(val2) : parseInt(val2, 10));\r\n  },\r\n\r\n  //Convert to int \r\n  int: function (val) {\r\n    return parseInt(val, 10);\r\n  },\r\n\r\n  //Convert to float \r\n  float: function (val) {\r\n    return parseFloat(val);\r\n  },\r\n\r\n  //Convert to boolean \r\n  bool: function (val) {\r\n    if (val === 'false') {\r\n      return false;\r\n    }\r\n\r\n    return Boolean(val);\r\n  }\r\n};\r\n\r\nfunction _commonConfig(params) {\r\n  var ret = {\r\n    data: false,\r\n    parent: false,\r\n    index: false,\r\n    useString: true\r\n  };\r\n\r\n  if (params) {\r\n    ret = tools.assign(ret, params);\r\n  }\r\n  return ret;\r\n}\r\n\r\n//Filter default config\r\nvar filterConfig = {\r\n  prop: _commonConfig(),\r\n  count: _commonConfig(),\r\n  item: _commonConfig(),\r\n  equal: _commonConfig(),\r\n  lt: _commonConfig(),\r\n  gt: _commonConfig(),\r\n  add: _commonConfig(),\r\n  int: _commonConfig(),\r\n  float: _commonConfig(),\r\n  bool: _commonConfig()\r\n};\r\n\r\n//Register filter and also can batch add\r\nfunction registerFilter(name, filter, options) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = {\r\n      filter: filter,\r\n      options: options\r\n    };\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    var name = k.toLowerCase(),\r\n      options;\r\n\r\n    if (v && v.filter) {\r\n      filters[name] = v.filter;\r\n      options = v.options;\r\n    }\r\n    else {\r\n      filters[name] = v;\r\n    }\r\n\r\n    filterConfig[name] = _commonConfig(options);\r\n  }, false, false);\r\n}\r\n\r\nmodule.exports = {\r\n  filters: filters,\r\n  filterConfig: filterConfig,\r\n  registerFilter: registerFilter\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/filter.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar tools = require('./tools');\r\n\r\n//Global expression list\r\nvar exprs = {\r\n  'if': function (refer, useUnless) {\r\n    if (refer === 'false') {\r\n      refer = false;\r\n    }\r\n\r\n    var referR, ret;\r\n    if (!useUnless) {\r\n      referR = !!refer;\r\n    }\r\n    else {\r\n      referR = !!!refer;\r\n    }\r\n    if (referR) {\r\n      ret = this.result();\r\n    }\r\n    else {\r\n      ret = this.inverse();\r\n    }\r\n\r\n    if (this.useString && ret == null) {\r\n      return '';\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  unless: function (refer) {\r\n    return exprs['if'].call(this, refer, true);\r\n  },\r\n\r\n  each: function (refer) {\r\n    var thiz = this,\r\n      useString = thiz.useString,\r\n      ret;\r\n\r\n    if (refer) {\r\n      if (useString) {\r\n        ret = '';\r\n      }\r\n      else {\r\n        ret = [];\r\n      }\r\n\r\n      tools.each(refer, function (item, index) {\r\n        var retI = thiz.result({\r\n          item: item,\r\n          index: index\r\n        });\r\n\r\n        if (useString) {\r\n          ret += retI;\r\n        }\r\n        else {\r\n          ret.push(retI);\r\n          //tools.listPush(ret, retI, true);\r\n        }\r\n      }, false, tools.isArray(refer));\r\n\r\n      //Return null when not use string and result is empty.\r\n      if (!useString && !ret.length) {\r\n        ret = null;\r\n      }\r\n    }\r\n    else {\r\n      ret = thiz.inverse();\r\n      if (useString && ret == null) {\r\n        ret = '';\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Parameter\r\n  param: function () {\r\n    var ret = this.result(),  //Get parameter value\r\n      name = '',\r\n      value;\r\n\r\n    //Make property name by multiple parameters\r\n    tools.each(arguments, function (item, i) {\r\n      name += item;\r\n    }, false, true);\r\n\r\n    //If the value length greater than 1, it need to be connected to a whole string.\r\n    if (ret != null) {\r\n      if (ret.length > 1) {\r\n        value = '';\r\n        tools.each(ret, function (item) {\r\n          value += item;\r\n        }, false, true);\r\n      }\r\n      else {\r\n        value = ret[0];\r\n\r\n        //The \"_njShim\" property is used to distinguish whether the incoming is an normal array.\r\n        if (value && value._njShim) {\r\n          value = value._njShim;\r\n        }\r\n      }\r\n    }\r\n    else {  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n      value = name;\r\n    }\r\n\r\n    this.paramsExpr[name] = value;\r\n  },\r\n\r\n  //Spread parameters\r\n  spreadparam: function (refer) {\r\n    if (!refer) {\r\n      return;\r\n    }\r\n\r\n    var thiz = this;\r\n    tools.each(refer, function (v, k) {\r\n      thiz.paramsExpr[k] = v;\r\n    }, false, false);\r\n  },\r\n\r\n  equal: function (value1, value2) {\r\n    var ret;\r\n    if (value1 == value2) {\r\n      ret = this.result();\r\n    }\r\n    else {\r\n      ret = this.inverse();\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  'for': function (start, end) {\r\n    var ret, useString = this.useString;\r\n    if (useString) {\r\n      ret = '';\r\n    }\r\n    else {\r\n      ret = [];\r\n    }\r\n\r\n    if (end == null) {\r\n      end = start;\r\n      start = 0;\r\n    }\r\n    start = parseInt(start, 10);\r\n    end = parseInt(end, 10);\r\n\r\n    for (; start <= end; start++) {\r\n      var retI = this.result({\r\n        item: this.data[0],\r\n        index: start\r\n      });\r\n\r\n      if (useString) {\r\n        ret += retI;\r\n      }\r\n      else {\r\n        tools.listPush(ret, retI, true);\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  blank: function () {\r\n    return this.result();\r\n  }\r\n};\r\n\r\nfunction _commonConfig(params) {\r\n  var ret = {\r\n    data: false,\r\n    parent: false,\r\n    index: false,\r\n    useString: true,\r\n    paramsExpr: false,\r\n    result: true,\r\n    inverse: true,\r\n    newContext: false\r\n  };\r\n\r\n  if (params) {\r\n    ret = tools.assign(ret, params);\r\n  }\r\n  return ret;\r\n}\r\n\r\n//Expression default config\r\nvar exprConfig = {\r\n  'if': _commonConfig(),\r\n  unless: _commonConfig(),\r\n  each: _commonConfig({ newContext: true }),\r\n  param: _commonConfig({ inverse: false, paramsExpr: true }),\r\n  spreadparam: _commonConfig({ useString: false, result: false, inverse: false, paramsExpr: true }),\r\n  equal: _commonConfig({ useString: false }),\r\n  'for': _commonConfig({ newContext: true }),\r\n  blank: _commonConfig({ useString: false, inverse: false })\r\n};\r\n\r\n//Expression alias\r\nexprs.prop = exprs.p = exprs.param;\r\nexprConfig.prop = exprConfig.p = exprConfig.param;\r\nexprs.spread = exprs.spreadparam;\r\nexprConfig.spread = exprConfig.spreadparam;\r\n\r\n//Register expression and also can batch add\r\nfunction registerExpr(name, expr, options) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = {\r\n      expr: expr,\r\n      options: options\r\n    };\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    var name = k.toLowerCase(),\r\n      options;\r\n\r\n    if (v && v.expr) {\r\n      exprs[name] = v.expr;\r\n      options = v.options;\r\n    }\r\n    else {\r\n      exprs[name] = v;\r\n    }\r\n\r\n    exprConfig[name] = _commonConfig(options);\r\n  }, false, false);\r\n}\r\n\r\nmodule.exports = {\r\n  exprs: exprs,\r\n  exprConfig: exprConfig,\r\n  registerExpr: registerExpr\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/expression.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\nfunction _createRegExp(reg, mode) {\r\n  return new RegExp(reg, mode);\r\n}\r\n\r\n//Clear the repeated characters\r\nfunction _clearRepeat(str) {\r\n  var ret = '',\r\n    i = 0,\r\n    l = str.length,\r\n    char;\r\n\r\n  for (; i < l; i++) {\r\n    char = str[i];\r\n    if (ret.indexOf(char) < 0) {\r\n      ret += char;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = function (beginRule, endRule, exprRule) {\r\n  if (!beginRule) {\r\n    beginRule = '{';\r\n  }\r\n  if (!endRule) {\r\n    endRule = '}';\r\n  }\r\n  if (!exprRule) {\r\n    exprRule = '#';\r\n  }\r\n\r\n  var allRules = _clearRepeat(beginRule + endRule),\r\n    firstChar = beginRule[0],\r\n    otherChars = allRules.substr(1),\r\n    exprRules = _clearRepeat(exprRule),\r\n    escapeExprRule = exprRule.replace(/\\$/g, '\\\\$');\r\n\r\n  //Reset the regexs to global list\r\n  tools.assign(nj.tmplRule, {\r\n    beginRule: beginRule,\r\n    endRule: endRule,\r\n    exprRule: exprRule,\r\n    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*)[^>]*>$', 'i'),\r\n    openTag: _createRegExp('^[a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*', 'i'),\r\n    insideBraceParam: _createRegExp(beginRule + '([^' + allRules + ']+)' + endRule, 'i'),\r\n    replaceBraceParam: function() {\r\n      return _createRegExp('[\\\\s]+(' + beginRule + '){1,2}([^' + allRules + ']+)(' + endRule + '){1,2}', 'g')\r\n    },\r\n    replaceSplit: _createRegExp('(?:' + beginRule + '){1,2}[^' + allRules + ']+(?:' + endRule + '){1,2}'),\r\n    replaceParam: function() {\r\n      return _createRegExp('((' + beginRule + '){1,2})([^' + allRules + ']+)(' + endRule + '){1,2}', 'g');\r\n    },\r\n    checkElem: function() {\r\n      return _createRegExp('([^>]*)(<([a-z' + firstChar + '\\/' + exprRules + '!][-a-z0-9_:.' + allRules + exprRules + ']*)[^>]*>)([^<]*)', 'ig');\r\n    },\r\n    expr: _createRegExp('^' + escapeExprRule + '([^\\\\s]+)', 'i')\r\n  });\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/setTmplRule.js\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  buildRuntime = require('./buildRuntime'),\r\n  compileStringTmpl = require('../checkElem/checkStringElem');\r\n\r\n//编译模板并返回转换函数\r\nfunction compile(obj, tmplName, isComponent, isTag) {\r\n  if (!obj) {\r\n    return;\r\n  }\r\n\r\n  //编译AST\r\n  var root;\r\n  if (tmplName) {\r\n    root = nj.asts[tmplName];\r\n  }\r\n  if (!root) {\r\n    //If obj is Object,we think obj is a precompiled template\r\n    if (utils.isObject(obj) && obj.type === 'nj_root') {\r\n      root = obj;\r\n    }\r\n    else {\r\n      root = _createAstRoot();\r\n\r\n      //Auto transform string template to array\r\n      if (utils.isString(obj)) {\r\n        obj = compileStringTmpl(obj);\r\n      }\r\n\r\n      //分析传入参数并转换为节点树对象\r\n      if (isTag) {\r\n        utils.checkTagElem(obj, root);\r\n      }\r\n      else {\r\n        utils.checkElem(obj, root);\r\n      }\r\n    }\r\n\r\n    //保存模板AST编译结果到全局集合中\r\n    if (tmplName) {\r\n      nj.asts[tmplName] = root;\r\n    }\r\n  }\r\n\r\n  //编译模板函数\r\n  var tmplFns;\r\n  if (tmplName) {\r\n    tmplFns = nj.templates[tmplName];\r\n  }\r\n  if (!tmplFns) {\r\n    tmplFns = utils.template(buildRuntime(root.content, !isComponent));\r\n\r\n    //保存模板函数编译结果到全局集合中\r\n    if (tmplName) {\r\n      nj.templates[tmplName] = tmplFns;\r\n    }\r\n  }\r\n\r\n  return tmplFns.main;\r\n}\r\n\r\n//Create template root object\r\nfunction _createAstRoot() {\r\n  var root = utils.lightObj();\r\n  root.type = 'nj_root';\r\n  root.content = [];\r\n\r\n  return root;\r\n}\r\n\r\n//编译字面量并返回组件转换函数\r\nfunction compileComponent(obj, tmplName) {\r\n  return compile(obj, tmplName, true);\r\n}\r\n\r\n//编译标签并返回组件转换函数\r\nfunction compileTagComponent(obj, tmplName) {\r\n  return compile(obj, tmplName, true, true);\r\n}\r\n\r\n//渲染标签组件\r\nfunction renderTagComponent(data, selector) {\r\n  var tags = utils.getTagComponents(selector),\r\n    ret = [];\r\n\r\n  utils.each(tags, function (tag) {\r\n    var tmpl = compileTagComponent(tag, tag.getAttribute(nj.tagId)),\r\n      parentNode = tag.parentNode;\r\n\r\n    if (nj.componentLib === 'inferno') {\r\n      utils.removeChildNode(parentNode);\r\n    }\r\n    ret.push(nj.componentRender(tmpl(data), parentNode));\r\n  }, false, true);\r\n\r\n  return ret;\r\n}\r\n\r\n//Precompile template\r\nfunction precompile(obj) {\r\n  var root = _createAstRoot();\r\n  utils.checkElem(obj, root);\r\n\r\n  return root;\r\n}\r\n\r\nmodule.exports = {\r\n  compile: compile,\r\n  compileComponent: compileComponent,\r\n  compileTagComponent: compileTagComponent,\r\n  renderTagComponent: renderTagComponent,\r\n  precompile: precompile\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compiler/compile.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  errorTitle = nj.errorTitle,\r\n  exprConfig = utils.exprConfig,\r\n  filterConfig = utils.filterConfig,\r\n  replaceSpecialSymbol = require('../utils/replaceSpecialSymbol');\r\n\r\nfunction _buildFn(content, fns, no, newContext) {\r\n  var fnStr = '',\r\n    useString = fns.useString,\r\n    isTmplExpr = utils.isString(no),  //如果no为字符串, 则本次将构建tmpl块模板函数\r\n    main = isTmplExpr || no === 0,\r\n    /* retType\r\n     1: 只有单个子节点\r\n     2: 有多个子节点\r\n     object: 非构建函数时\r\n    */\r\n    retType = content.length === 1 ? '1' : '2',\r\n    counter = {\r\n      _type: 0,\r\n      _typeRefer: 0,\r\n      _params: 0,\r\n      _paramsE: 0,\r\n      _compParam: 0,\r\n      _dataRefer: 0,\r\n      _expr: 0,\r\n      _this: 0,\r\n      _value: 0,\r\n      _filter: 0,\r\n      _thisF: 0,\r\n      newContext: newContext\r\n    };\r\n\r\n  if (!useString) {\r\n    counter._compParam = 0;\r\n  }\r\n  else {\r\n    counter._children = 0;\r\n  }\r\n\r\n  if (main) {\r\n    fnStr += 'var parent = p2.parent;\\n';\r\n    fnStr += 'var data = p2.data;\\n';\r\n    fnStr += 'if(!parent) {\\n';\r\n    fnStr += '  parent = p1.lightObj();\\n';\r\n    fnStr += '  if (data) {\\n';\r\n    fnStr += '    parent.data = p3.multiData ? data[0] : data;\\n';\r\n    fnStr += '  }\\n';\r\n    fnStr += '  p2.parent = parent;\\n';\r\n    fnStr += '};\\n';\r\n  }\r\n  else if (newContext) {\r\n    fnStr += 'var parent = p1.lightObj();\\n';\r\n    fnStr += 'parent.data = p4.item;\\n';\r\n    fnStr += 'parent.parent = p2.parent;\\n';\r\n    fnStr += 'parent.index = p4.index;\\n';\r\n    fnStr += 'var data = p1.getItemParam(p4.item, p2.data, p3.multiData);\\n';\r\n    fnStr += 'var _p2 = p1.lightObj();\\n';\r\n    fnStr += '_p2.parent = parent;\\n';\r\n    fnStr += '_p2.data = data;\\n';\r\n  }\r\n  else {\r\n    fnStr += 'var parent = p2.parent;\\n';\r\n    fnStr += 'var data = p2.data;\\n';\r\n  }\r\n\r\n  if (retType === '2') {\r\n    if (!useString) {\r\n      fnStr += 'var ret = [];\\n';\r\n    }\r\n    else {\r\n      fnStr += 'var ret = \\'\\';\\n';\r\n    }\r\n  }\r\n\r\n  fnStr += _buildContent(content, fns, counter, retType);\r\n\r\n  if (retType === '2') {\r\n    fnStr += 'return ret;';\r\n  }\r\n\r\n  /* 构建表达式块函数\r\n   p1: 全局模板成员,不可改变\r\n   p2: 当前模板的局部成员\r\n   p3: 当前模板的全局成员\r\n   p4: 表格式块内调用result及inverse方法传递的参数\r\n   p5: #param块变量\r\n  */\r\n  fns[main ? 'main' + (isTmplExpr ? no : '') : 'fn' + no] = new Function('p1', 'p2', 'p3', 'p4', 'p5', fnStr);\r\n  return no;\r\n}\r\n\r\nfunction _buildPropData(obj, counter, fns, noEscape) {\r\n  var dataValueStr,\r\n    useString = fns.useString,\r\n    escape = !noEscape ? obj.escape : false;\r\n\r\n  //先生成数据值\r\n  if (!obj.prop.isStr) {\r\n    var name = obj.prop.name,\r\n      parentNum = obj.prop.parentNum,\r\n      data = '',\r\n      special = false;\r\n\r\n    if (name === '#') {\r\n      data = 'parent.index';\r\n      special = true;\r\n    }\r\n    else if (name === '.') {\r\n      data = 'parent.data';\r\n      special = true;\r\n    }\r\n\r\n    if (parentNum) {\r\n      if (!data) {\r\n        data = 'parent.data';\r\n      }\r\n      for (var i = 0; i < parentNum; i++) {\r\n        data = 'parent.' + data;\r\n      }\r\n\r\n      if (!special) {\r\n        data += '[\\'' + name + '\\']';\r\n        special = true;\r\n      }\r\n    }\r\n\r\n    if (!special) {\r\n      dataValueStr = '(!p3.multiData ? data[\\'' + name + '\\'] : p1.getDatasValue(data, \\'' + name + '\\'))';\r\n    }\r\n    else {\r\n      dataValueStr = data;\r\n    }\r\n  }\r\n  else {\r\n    dataValueStr = '\\'' + obj.prop.name + '\\'';\r\n  }\r\n\r\n  //有过滤器时需要生成\"_value\"值\r\n  var filters = obj.prop.filters;\r\n  if (filters) {\r\n    var valueStr = '_value' + counter._value++,\r\n      filterStr = 'var ' + valueStr + ' = ' + dataValueStr + ';\\n';\r\n\r\n    utils.each(filters, function (o) {\r\n      var _filterC = counter._filter++,\r\n        _thisFC = counter._thisF++,\r\n        configF = filterConfig[o.name];\r\n\r\n      filterStr += '\\nvar _filter' + _filterC + ' = p1.filters[\\'' + o.name + '\\'];\\n';\r\n      filterStr += 'if (!_filter' + _filterC + ') {\\n';\r\n      filterStr += '  p1.warn(\\'' + o.name + '\\', \\'filter\\');\\n';\r\n      filterStr += '}\\n';\r\n      filterStr += 'else {\\n';\r\n      filterStr += '  var _thisF' + _thisFC + ' = p1.lightObj();\\n';\r\n      if (configF.useString) {\r\n        filterStr += '  _thisF' + _thisFC + '.useString = p1.useString;\\n';\r\n      }\r\n      if (configF.data) {\r\n        filterStr += '  _thisF' + _thisFC + '.data = data;\\n';\r\n      }\r\n      if (configF.parent) {\r\n        filterStr += '  _thisF' + _thisFC + '.parent = parent.parent;\\n';\r\n      }\r\n      if (configF.index) {\r\n        filterStr += '  _thisF' + _thisFC + '.index = parent.index;\\n';\r\n      }\r\n      filterStr += '\\n  ' + valueStr + ' = _filter' + _filterC + '.apply(_thisF' + _thisFC + ', [' + valueStr\r\n        + (o.params ? o.params.reduce(function (p, c) {\r\n          return p + ', \\'' + c + '\\'';\r\n        }, '') : '')\r\n        + ']);\\n';\r\n      filterStr += '}\\n';\r\n    }, false, true);\r\n\r\n    return {\r\n      valueStr: _buildEscape(valueStr, useString, escape),\r\n      filterStr: filterStr\r\n    };\r\n  }\r\n  else {\r\n    return _buildEscape(dataValueStr, useString, escape);\r\n  }\r\n}\r\n\r\nfunction _buildEscape(valueStr, useString, escape) {\r\n  if(useString && escape) {\r\n    return 'p1.escape(' + valueStr + ')';\r\n  }\r\n  else {\r\n    return valueStr;\r\n  }\r\n}\r\n\r\nfunction _buildProps(obj, counter, fns) {\r\n  var str0 = obj.strs[0],\r\n    valueStr = '',\r\n    filterStr = '';\r\n\r\n  if (utils.isString(str0)) {  //常规属性\r\n    valueStr = !obj.isAll && str0 !== '' ? ('\\'' + str0 + '\\'') : '';\r\n    filterStr = '';\r\n\r\n    utils.each(obj.props, function (o, i) {\r\n      var propData = _buildPropData(o, counter, fns),\r\n        dataValueStr;\r\n      if (utils.isString(propData)) {\r\n        dataValueStr = propData;\r\n      }\r\n      else {\r\n        dataValueStr = propData.valueStr;\r\n        filterStr += propData.filterStr;\r\n      }\r\n\r\n      if (!obj.isAll) {\r\n        var strI = obj.strs[i + 1];\r\n        dataValueStr = (str0 === '' && i == 0 ? '' : ' + ')\r\n          + '(' + dataValueStr + ')'\r\n          + (strI !== '' ? ' + \\'' + strI + '\\'' : '');\r\n      }\r\n      else if (obj.isTmplPlace) {  //执行tmpl块模板函数\r\n        dataValueStr += '.call({ parent: parent }, data)';\r\n      }\r\n\r\n      valueStr += dataValueStr;\r\n      if (obj.isAll) {\r\n        return false;\r\n      }\r\n    }, false, true, true);\r\n  }\r\n  else if (utils.isObject(str0) && str0.length) {  //tmpl块表达式\r\n    valueStr += '{\\n';\r\n    utils.each(str0, function (v, k, i, l) {\r\n      if (k !== 'length') {\r\n        valueStr += '  \"' + k + '\": p1.main' + _buildFn(v.content, fns, 'T' + ++fns._noT);\r\n      }\r\n      else {\r\n        valueStr += '  length: ' + v;\r\n      }\r\n      if (i < l - 1) {\r\n        valueStr += ',';\r\n      }\r\n      valueStr += '\\n';\r\n    }, false, false);\r\n    valueStr += '}';\r\n  }\r\n  else {  //非字符串值\r\n    valueStr = JSON.stringify(str0);\r\n  }\r\n\r\n  if (filterStr === '') {\r\n    return valueStr;\r\n  }\r\n  else {  //包含过滤器\r\n    return {\r\n      valueStr: valueStr,\r\n      filterStr: filterStr\r\n    };\r\n  }\r\n}\r\n\r\nfunction _buildNode(node, fns, counter, retType) {\r\n  var fnStr = '',\r\n    useString = fns.useString;\r\n\r\n  if (node.type === 'nj_plaintext') {  //文本节点\r\n    var valueStr = _buildProps(node.content[0], counter, fns),\r\n      filterStr;\r\n    if (utils.isObject(valueStr)) {\r\n      filterStr = valueStr.filterStr;\r\n      valueStr = valueStr.valueStr;\r\n    }\r\n\r\n    var textStr = _buildRender(1, retType, { text: valueStr }, fns);\r\n    if (filterStr) {\r\n      textStr = filterStr + textStr;\r\n    }\r\n\r\n    if (useString) {\r\n      fnStr += textStr;\r\n    }\r\n    else {  //文本中的特殊字符需转义\r\n      fnStr += replaceSpecialSymbol(textStr);\r\n    }\r\n  }\r\n  else if (node.type === 'nj_expr') {  //块表达式节点\r\n    var _exprC = counter._expr++,\r\n      _dataReferC = counter._dataRefer++,\r\n      dataReferStr = '';\r\n    fnStr += '\\nvar _expr' + _exprC + ' = p1.exprs[\\'' + node.expr + '\\'];\\n';\r\n\r\n    if (node.refer) {\r\n      dataReferStr += 'var _dataRefer' + _dataReferC + ' = [\\n';\r\n      var props = node.refer.props,\r\n        len = props.length,\r\n        filterStr = '';\r\n\r\n      utils.each(props, function (o, i) {\r\n        var valueStr = _buildPropData(o, counter, fns, true);\r\n        if (utils.isObject(valueStr)) {\r\n          filterStr += valueStr.filterStr;\r\n          valueStr = valueStr.valueStr;\r\n        }\r\n\r\n        dataReferStr += '  ' + valueStr + (i < len - 1 ? ',' : '');\r\n      }, false, true);\r\n      dataReferStr += '\\n];\\n';\r\n\r\n      if (filterStr !== '') {\r\n        dataReferStr = filterStr + dataReferStr;\r\n      }\r\n\r\n      fnStr += dataReferStr;\r\n    }\r\n\r\n    //如果表达式不存在则打印警告信息\r\n    fnStr += 'p1.throwIf(_expr' + _exprC + ', \\'' + node.expr + '\\', \\'expr\\');\\n';\r\n\r\n    //执行表达式块\r\n    var _thisC = counter._this++,\r\n      configE = exprConfig[node.expr],\r\n      newContext = configE.newContext,\r\n      newContextP = counter.newContext;\r\n\r\n    fnStr += '\\nvar _this' + _thisC + ' = p1.lightObj();\\n';\r\n    if (configE.useString) {\r\n      fnStr += '_this' + _thisC + '.useString = p1.useString;\\n';\r\n    }\r\n    if (configE.data) {\r\n      fnStr += '_this' + _thisC + '.data = data;\\n';\r\n    }\r\n    if (configE.parent) {\r\n      fnStr += '_this' + _thisC + '.parent = parent.parent;\\n';\r\n    }\r\n    if (configE.index) {\r\n      fnStr += '_this' + _thisC + '.index = parent.index;\\n';\r\n    }\r\n\r\n    //params块\r\n    var paramsEStr = 'p5';\r\n    if (retType && retType._paramsE) {\r\n      paramsEStr = retType._paramsE;\r\n    }\r\n    if (configE.paramsExpr) {\r\n      fnStr += '_this' + _thisC + '.paramsExpr = ' + paramsEStr + ';\\n';\r\n    }\r\n\r\n    if (configE.result) {\r\n      fnStr += '_this' + _thisC + '.result = ' + (node.content ? 'p1.exprRet(p1, ' + (newContextP ? '_' : '') + 'p2, p3, p1.fn' + _buildFn(node.content, fns, ++fns._no, newContext) + ', ' + paramsEStr + ')' : 'p1.noop') + ';\\n';\r\n    }\r\n    if (configE.inverse) {\r\n      fnStr += '_this' + _thisC + '.inverse = ' + (node.contentElse ? 'p1.exprRet(p1, ' + (newContextP ? '_' : '') + 'p2, p3, p1.fn' + _buildFn(node.contentElse, fns, ++fns._no, newContext) + ', ' + paramsEStr + ')' : 'p1.noop') + ';\\n';\r\n    }\r\n\r\n    //渲染\r\n    fnStr += _buildRender(2, retType, {\r\n      _expr: _exprC,\r\n      _dataRefer: _dataReferC,\r\n      _this: _thisC\r\n    }, fns);\r\n  }\r\n  else {  //元素节点\r\n    //节点类型和typeRefer\r\n    var _typeC = counter._type++,\r\n      _type;\r\n    if (node.typeRefer) {\r\n      _type = node.typeRefer.props[0].prop.name;\r\n    }\r\n    else {\r\n      _type = node.type.toLowerCase();\r\n    }\r\n\r\n    var typeStr;\r\n    if (!useString) {\r\n      typeStr = 'p1.compClass[\\'' + _type + '\\'] ? p1.compClass[\\'' + _type + '\\'] : \\'' + _type + '\\'';\r\n    }\r\n    else {\r\n      typeStr = '\\'' + _type + '\\'';\r\n    }\r\n\r\n    if (node.typeRefer) {\r\n      var _typeReferC = counter._typeRefer++,\r\n        valueStrT = _buildProps(node.typeRefer, counter, fns);\r\n      if (utils.isObject(valueStrT)) {\r\n        fnStr += valueStrT.filterStr;\r\n        valueStrT = valueStrT.valueStr;\r\n      }\r\n\r\n      fnStr += '\\nvar _typeRefer' + _typeReferC + ' = ' + valueStrT + ';\\n';\r\n      fnStr += 'var _type' + _typeC + ' = _typeRefer' + _typeReferC + ' ? _typeRefer' + _typeReferC + ' : (' + typeStr + ');\\n';\r\n    }\r\n    else {\r\n      fnStr += '\\nvar _type' + _typeC + ' = ' + typeStr + ';\\n';\r\n    }\r\n\r\n    //节点参数\r\n    var params = node.params,\r\n      paramsExpr = node.paramsExpr,\r\n      paramsStr = '';\r\n    if (params || paramsExpr) {\r\n      var _paramsC = counter._params++;\r\n      paramsStr = 'var _params' + _paramsC + ' = ';\r\n\r\n      //params块\r\n      if (paramsExpr) {\r\n        var _paramsEC = counter._paramsE++;\r\n        paramsStr += (useString ? '\\'\\'' : 'null') + ';\\n';\r\n        paramsStr += 'var _paramsE' + _paramsEC + ' = {};\\n';\r\n\r\n        //params块的子节点\r\n        paramsStr += _buildContent(paramsExpr.content, fns, counter, { _paramsE: '_paramsE' + _paramsEC });\r\n\r\n        //合并params块的值\r\n        if (!useString) {\r\n          paramsStr += '\\n_params' + _paramsC + ' = _paramsE' + _paramsEC + ';\\n';\r\n          //paramsStr += '\\np1.assign(_params' + _paramsC + ', _paramsE' + _paramsEC + ');\\n';\r\n        }\r\n        else {\r\n          var keys = '';\r\n          utils.each(params, function (v, k, i, l) {\r\n            if (i == 0) {\r\n              keys += '{ ';\r\n            }\r\n            keys += k + ': 1';\r\n\r\n            if (i < l - 1) {\r\n              keys += ', '\r\n            }\r\n            else {\r\n              keys += ' }';\r\n            }\r\n          }, false, false);\r\n          paramsStr += '_params' + _paramsC + ' += p1.assignStringProp(_paramsE' + _paramsEC + ', ' + (keys === '' ? 'null' : keys) + ');\\n';\r\n        }\r\n      }\r\n\r\n      if (params) {\r\n        var paramKeys = Object.keys(params),\r\n          len = paramKeys.length,\r\n          filterStr = '';\r\n\r\n        if (!useString && !paramsExpr) {\r\n          paramsStr += '{\\n';\r\n        }\r\n\r\n        utils.each(paramKeys, function (k, i) {\r\n          var valueStr = _buildProps(params[k], counter, fns);\r\n          if (utils.isObject(valueStr)) {\r\n            filterStr += valueStr.filterStr;\r\n            valueStr = valueStr.valueStr;\r\n          }\r\n\r\n          if (!useString && k === 'style') {  //将style字符串转换为对象\r\n            valueStr = 'p1.styleProps(' + valueStr + ')';\r\n          }\r\n\r\n          var key;\r\n          if (useString) {\r\n            key = k;\r\n          }\r\n          else {\r\n            key = utils.fixPropName(k);\r\n          }\r\n          if (!paramsExpr) {\r\n            if (!useString) {\r\n              paramsStr += '  ' + key + ': ' + valueStr + (i < len - 1 ? ',\\n' : '');\r\n            }\r\n            else {\r\n              paramsStr += (i > 0 ? '  + ' : '') + '\\' ' + key + '=\"\\' + ' + valueStr + ' + \\'\"\\'' + (i == len - 1 ? ';' : '') + '\\n';\r\n            }\r\n          }\r\n          else {\r\n            if (!useString) {\r\n              paramsStr += '_params' + _paramsC + '.' + key + ' = ' + valueStr + ';\\n';\r\n            }\r\n            else {\r\n              paramsStr += '_params' + _paramsC + ' += \\' ' + key + '=\"\\' + ' + valueStr + ' + \\'\"\\';\\n';\r\n            }\r\n          }\r\n        }, false, false);\r\n\r\n        if (!useString && !paramsExpr) {\r\n          paramsStr += '\\n};\\n';\r\n        }\r\n\r\n        if (filterStr !== '') {\r\n          paramsStr = filterStr + paramsStr;\r\n        }\r\n\r\n        fnStr += paramsStr;\r\n      }\r\n    }\r\n\r\n    var _compParamC, _childrenC;\r\n    if (!useString) {  //组件引擎参数\r\n      _compParamC = counter._compParam++;\r\n      fnStr += 'var _compParam' + _compParamC + ' = [_type' + _typeC + ', ' + (paramsStr !== '' ? '_params' + _paramsC : 'null') + '];\\n';\r\n    }\r\n    else {  //子节点字符串\r\n      _childrenC = counter._children++;\r\n      fnStr += 'var _children' + _childrenC + ' = \\'\\';\\n';\r\n    }\r\n\r\n    //子节点\r\n    fnStr += _buildContent(node.content, fns, counter, !useString\r\n      ? { _compParam: '_compParam' + _compParamC }\r\n      : { _children: '_children' + _childrenC });\r\n\r\n    //渲染\r\n    fnStr += _buildRender(3, retType, !useString\r\n      ? { _compParam: _compParamC }\r\n      : { _type: _typeC, _params: paramsStr !== '' ? _paramsC : null, _children: _childrenC, _selfClose: node.selfCloseTag }, fns);\r\n  }\r\n\r\n  return fnStr;\r\n}\r\n\r\nfunction _buildContent(content, fns, counter, retType) {\r\n  var fnStr = '';\r\n  if (!content) {\r\n    return fnStr;\r\n  }\r\n\r\n  utils.each(content, function (node) {\r\n    fnStr += _buildNode(node, fns, counter, retType);\r\n  }, false, true);\r\n\r\n  return fnStr;\r\n}\r\n\r\nfunction _buildRender(nodeType, retType, params, fns) {\r\n  var retStr,\r\n    useString = fns.useString;\r\n\r\n  switch (nodeType) {\r\n    case 1:  //文本节点\r\n      retStr = params.text;\r\n      break;\r\n    case 2:  //块表达式\r\n      retStr = '_expr' + params._expr + '.apply(_this' + params._this + ', _dataRefer' + params._dataRefer + ')';\r\n      break;\r\n    case 3:  //元素节点\r\n      if (!useString) {\r\n        retStr = 'p1.compPort.apply(p1.compLib, _compParam' + params._compParam + ')';\r\n      }\r\n      else {\r\n        retStr = '\\'<\\' + _type' + params._type + ' + ' + (params._params != null ? '_params' + params._params + ' + ' : '');\r\n        if (!params._selfClose) {\r\n          retStr += '\\'>\\'';\r\n          retStr += ' + _children' + params._children + ' + ';\r\n          retStr += '\\'</\\' + _type' + params._type + ' + \\'>\\'';\r\n        }\r\n        else {\r\n          retStr += '\\'/>\\'';\r\n        }\r\n      }\r\n      break;\r\n  }\r\n\r\n  //保存方式\r\n  if (retType === '1') {\r\n    return '\\nreturn ' + retStr + ';';\r\n  }\r\n  else if (retType === '2') {\r\n    if (!useString) {\r\n      return '\\nret.push(' + retStr + ');\\n';\r\n    }\r\n    else {\r\n      return '\\nret += ' + retStr + ';\\n';\r\n    }\r\n  }\r\n  else if (retType._paramsE) {\r\n    return '\\n' + retStr + ';\\n';\r\n  }\r\n  else {\r\n    if (!useString) {\r\n      return '\\n' + retType._compParam + '.push(' + retStr + ');\\n';\r\n    }\r\n    else {\r\n      return '\\n' + retType._children + ' += ' + retStr + ';\\n';\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = function (ast, useString) {\r\n  var fns = {\r\n    useString: useString,\r\n    _no: 0,  //块表达式函数计数\r\n    _noT: 0  //tmpl块模板函数计数\r\n  };\r\n\r\n  _buildFn(ast, fns, fns._no);\r\n  return fns;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compiler/buildRuntime.js\n ** module id = 17\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar SPACIAL_SYMBOLS = {\r\n  nbsp: '\\u00A0',\r\n  ensp: '\\u2002',\r\n  emsp: '\\u2003',\r\n  thinsp: '\\u2009',\r\n  zwnj: '\\u200C',\r\n  zwj: '\\u200D',\r\n  lt: '<',\r\n  gt: '>'\r\n};\r\n\r\nvar REGEX_SYMBOLS = new RegExp('&(' + Object.keys(SPACIAL_SYMBOLS).join('|') + ');', 'g');\r\nfunction replace(str) {\r\n  return str.replace(REGEX_SYMBOLS, function (all, match) {\r\n    return SPACIAL_SYMBOLS[match];\r\n  });\r\n}\r\n\r\nmodule.exports = replace;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/replaceSpecialSymbol.js\n ** module id = 18\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  REGEX_SPLIT = /\\$\\{\\d+\\}/,\r\n  tmplRule = nj.tmplRule,\r\n  shim = require('../utils/shim');\r\n\r\n//Cache the string template by unique key\r\nnj.strTmpls = {};\r\n\r\n//Compile string template\r\nfunction compileStringTmpl(tmpl) {\r\n  var tmplKey, ret;\r\n  if (this) {  //The \"tmplKey\" parameter can be passed by the \"this\" object.\r\n    tmplKey = this.tmplKey;\r\n  }\r\n\r\n  if (tmplKey) {  //If the cache already has template data, direct return the template.\r\n    ret = nj.strTmpls[tmplKey];\r\n    if (ret) {\r\n      return ret;\r\n    }\r\n  }\r\n\r\n  var isStr = tools.isString(tmpl),\r\n    xmls = tmpl,\r\n    args = arguments,\r\n    splitNo = 0,\r\n    params = [],\r\n    fullXml = '';\r\n\r\n  if (isStr) {\r\n    xmls = tmpl.split(REGEX_SPLIT);\r\n  }\r\n\r\n  //Connection xml string\r\n  var l = xmls.length;\r\n  tools.each(xmls, function (xml, i) {\r\n    var split = '';\r\n    if (i < l - 1) {\r\n      var arg = args[i + 1],\r\n        last = xml.length - 1,\r\n        useShim = xml[last] === '@';\r\n\r\n      if (!tools.isString(arg) || useShim) {\r\n        split = '_nj-split' + splitNo + '_';\r\n\r\n        //Use the shim function to convert the parameter when the front of it with a \"@\" mark.\r\n        if (useShim) {\r\n          xml = xml.substr(0, last);\r\n          arg = shim(arg);\r\n        }\r\n\r\n        params.push(arg);\r\n        splitNo++;\r\n      }\r\n      else {\r\n        split = arg;\r\n      }\r\n    }\r\n\r\n    fullXml += xml + split;\r\n  }, false, true);\r\n\r\n  fullXml = _clearNotesAndBlank(fullXml);\r\n\r\n  if (tmplKey == null) {\r\n    //Get unique key\r\n    tmplKey = tools.uniqueKey(fullXml + _paramsStr(params));\r\n\r\n    ret = nj.strTmpls[tmplKey];\r\n    if (ret) {\r\n      return ret;\r\n    }\r\n  }\r\n\r\n  //Resolve string to element\r\n  ret = _checkStringElem(fullXml, params);\r\n\r\n  //Set the properties for the template object\r\n  _setTmplProps(ret, tmplKey);\r\n\r\n  //Save to the cache\r\n  nj.strTmpls[tmplKey] = ret;\r\n\r\n  return ret;\r\n}\r\n\r\n//Resolve string to element\r\nfunction _checkStringElem(xml, params) {\r\n  var root = [],\r\n    current = {\r\n      elem: root,\r\n      elemName: 'root',\r\n      parent: null\r\n    },\r\n    parent = null,\r\n    pattern = tmplRule.checkElem(),\r\n    matchArr;\r\n\r\n  while ((matchArr = pattern.exec(xml))) {\r\n    var textBefore = matchArr[1],\r\n      elem = matchArr[2],\r\n      elemName = matchArr[3],\r\n      textAfter = matchArr[4];\r\n\r\n    //Text before tag\r\n    if (textBefore) {\r\n      if (/\\s/.test(textBefore[textBefore.length - 1])) {\r\n        textBefore = _formatText(textBefore);\r\n      }\r\n      _setText(textBefore, current.elem, params);\r\n    }\r\n\r\n    //Element tag\r\n    if (elem) {\r\n      if (elemName[0] === '/') {  //Close tag\r\n        if (elemName === '/' + current.elemName) {\r\n          current = current.parent;\r\n        }\r\n      }\r\n      else if (elem[elem.length - 2] === '/') {  //Self close tag\r\n        _setSelfCloseElem(elem, elemName, current.elem, params);\r\n      }\r\n      else {  //Open tag\r\n        parent = current;\r\n        current = {\r\n          elem: [],\r\n          elemName: elemName,\r\n          parent: parent\r\n        };\r\n\r\n        parent.elem.push(current.elem);\r\n        _setElem(elem, elemName, current.elem, params);\r\n      }\r\n    }\r\n\r\n    //Text after tag\r\n    if (textAfter) {\r\n      if (/\\s/.test(textAfter[0])) {\r\n        textAfter = _formatText(textAfter);\r\n      }\r\n      _setText(textAfter, current.elem, params);\r\n    }\r\n  }\r\n\r\n  return root;\r\n}\r\n\r\nfunction _clearNotesAndBlank(str) {\r\n  return str.replace(/<!--[\\s\\S]*?-->/g, '').replace(/>\\s+([^\\s<]*)\\s+</g, '>$1<').trim();\r\n}\r\n\r\nfunction _formatText(str) {\r\n  return str.replace(/\\n/g, '').trim();\r\n}\r\n\r\n//Merge parameters to string\r\nfunction _paramsStr(params) {\r\n  var str = '';\r\n  tools.each(params, function (p) {\r\n    if (tools.isArray(p)) {\r\n      str += '|' + _cascadeArr(p, true);\r\n    }\r\n    else {\r\n      str += '|' + JSON.stringify(p);\r\n    }\r\n  }, false, true);\r\n\r\n  return str;\r\n}\r\n\r\nfunction _cascadeArr(p, isArr) {\r\n  var str;\r\n  if (isArr || tools.isArray(p)) {\r\n    if (p.njKey != null) {\r\n      str = '+' + p.njKey;\r\n    }\r\n    else {\r\n      str = '';\r\n      for (var i = 0, l = p.length; i < l; i++) {\r\n        str += _cascadeArr(p[i]);\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    str = '+' + p;\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n//Set element node\r\nfunction _setElem(elem, elemName, elemArr, params, bySelfClose) {\r\n  var ret, paramsExpr;\r\n  if (elemName[0] === tmplRule.exprRule) {\r\n    ret = elem.substring(1, elem.length - 1);\r\n  }\r\n  else {\r\n    var retS = _getSplitParams(elem, params);\r\n    ret = retS.elem;\r\n    paramsExpr = retS.params;\r\n  }\r\n\r\n  if (bySelfClose) {\r\n    var retC = [ret];\r\n    if (paramsExpr) {\r\n      retC.push(paramsExpr);\r\n    }\r\n\r\n    elemArr.push(retC);\r\n  }\r\n  else {\r\n    elemArr.push(ret);\r\n    if (paramsExpr) {\r\n      elemArr.push(paramsExpr);\r\n    }\r\n  }\r\n}\r\n\r\n//Extract split parameters\r\nfunction _getSplitParams(elem, params) {\r\n  var exprRule = tmplRule.exprRule,\r\n    beginRule = tmplRule.beginRule,\r\n    endRule = tmplRule.endRule,\r\n    paramsExpr;\r\n\r\n  //Replace the parameter like \"prop=_nj-split0_\".\r\n  elem = elem.replace(/([^\\s={}>]+)=['\"]?_nj-split(\\d+)_['\"]?/g, function (all, key, no) {\r\n    if (!paramsExpr) {\r\n      paramsExpr = [exprRule + 'params'];\r\n    }\r\n\r\n    paramsExpr.push([exprRule + \"param \" + beginRule + \"'\" + key + \"'\" + endRule, params[no]]);\r\n    return '';\r\n  });\r\n\r\n  //Replace the parameter like \"{...props}\" and \"{prop}\".\r\n  elem = elem.replace(tmplRule.replaceBraceParam(), function (all, begin, prop) {\r\n    prop = prop.trim();\r\n    var propN = prop.replace(/\\.\\.\\//g, '');\r\n\r\n    if (propN.indexOf('...') === 0) {\r\n      if (!paramsExpr) {\r\n        paramsExpr = [exprRule + 'params'];\r\n      }\r\n\r\n      paramsExpr.push([exprRule + 'spreadParam ' + beginRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\r\n      return ' ';\r\n    }\r\n    else {\r\n      return ' ' + propN + '=' + all.trim();\r\n    }\r\n  });\r\n\r\n  return {\r\n    elem: elem,\r\n    params: paramsExpr\r\n  };\r\n}\r\n\r\n//Set self close element node\r\nfunction _setSelfCloseElem(elem, elemName, elemArr, params) {\r\n  if (elemName === tmplRule.exprRule + 'else') {\r\n    elemArr.push(elem.substr(1, 5));\r\n  }\r\n  else {\r\n    _setElem(elem, elemName, elemArr, params, true);\r\n  }\r\n}\r\n\r\n//Set text node\r\nfunction _setText(text, elemArr, params) {\r\n  var pattern = /_nj-split(\\d+)_/g, matchArr,\r\n    splitNos = [];\r\n\r\n  while ((matchArr = pattern.exec(text))) {\r\n    splitNos.push(matchArr[1]);\r\n  }\r\n\r\n  if (splitNos.length) {\r\n    tools.each(text.split(/_nj-split(?:\\d+)_/), function (t) {\r\n      if (t !== '') {\r\n        elemArr.push(t);\r\n      }\r\n\r\n      var no = splitNos.shift();\r\n      if (no != null) {\r\n        elemArr.push(params[no]);\r\n      }\r\n    }, false, true);\r\n  }\r\n  else {\r\n    elemArr.push(text);\r\n  }\r\n}\r\n\r\n//Set template props\r\nfunction _setTmplProps(tmpl, key) {\r\n  tmpl.njKey = key;\r\n\r\n  tmpl.render = function () {\r\n    return nj.compile(this, this.njKey).apply(null, arguments);\r\n  };\r\n\r\n  tmpl.renderComp = function () {\r\n    return nj.compileComponent(this, this.njKey).apply(null, arguments);\r\n  };\r\n}\r\n\r\nmodule.exports = compileStringTmpl;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/checkElem/checkStringElem.js\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\r\n\r\n//Converts any value to the parameter of NornJ template can be parsed.\r\nmodule.exports = function (obj) {\r\n  return {\r\n    _njShim: obj\r\n  };\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/shim.js\n ** module id = 20\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar checkStringElem = require('../checkElem/checkStringElem');\r\n\r\nmodule.exports = function (key) {\r\n  return function() {\r\n    return checkStringElem.apply({ tmplKey: key }, arguments);\r\n  };\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/tmplByKey.js\n ** module id = 21\n ** module chunks = 0\n **/","'use strict';\r\n\r\nmodule.exports = function (callback) {\r\n  var doc = document;\r\n  if (doc.addEventListener) {\r\n    doc.addEventListener(\"DOMContentLoaded\", callback, false);\r\n  }\r\n  else {\r\n    self.attachEvent(\"onload\", callback);\r\n  }\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/docReady.js\n ** module id = 22\n ** module chunks = 0\n **/"],"sourceRoot":""}