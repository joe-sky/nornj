{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///nornj.min.js","webpack:///webpack/bootstrap c54e3a4eb0fed341ee10","webpack:///./src/base.js","webpack:///./src/core.js","webpack:///./src/utils/utils.js","webpack:///./src/utils/tools.js","webpack:///./~/object-assign/index.js","webpack:///./src/transforms/transformElement.js","webpack:///./src/transforms/transformData.js","webpack:///./src/utils/escape.js","webpack:///./src/transforms/transformParam.js","webpack:///./src/utils/replaceSpace.js","webpack:///./src/checkElem/checkElem.js","webpack:///./src/checkElem/checkTagElem.js","webpack:///./src/utils/setComponentEngine.js","webpack:///./src/utils/registerComponent.js","webpack:///./src/utils/filter.js","webpack:///./src/utils/expression.js","webpack:///./src/utils/setTmplRule.js","webpack:///./src/compiler/compile.js","webpack:///./src/compiler/transformToString.js","webpack:///./src/compiler/transformContent.js","webpack:///./src/compiler/transformToComponent.js","webpack:///./src/checkElem/checkStringElem.js","webpack:///./src/utils/shim.js","webpack:///./src/utils/docReady.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","nj","utils","setComponentEngine","compiler","registerComponent","compileStringTmpl","docReady","setTmplRule","registerFilter","registerExpr","assign","registerTagNamespace","React","ReactDOM","global","self","componentLib","autoRenderTag","renderTagComponent","initTagData","NornJ","apply","arguments","componentLibObj","componentLibDom","componentPort","componentRender","componentClasses","namespace","tagNamespaces","tagId","tagStyle","tagClassName","templates","errorTitle","tmplRule","tools","transformElement","transformParam","transformData","escape","checkElem","filter","expression","listPush","arr1","arr2","checkIsArr","checkNotNull","isArray","length","arrayPush","obj","Array","isObject","type","isString","Object","prototype","toString","_getProperty","key","isArrayLike","_getLength","each","func","context","isArr","useEvery","arrayEach","arrayEvery","arrayForEach","o","i","ret","keys","inArray","value","indexOf","trim","str","throwIf","val","msg","Error","uniqueKey","hash","len","chr","charCodeAt","lightObj","create","clearQuot","regex","charF","replace","toCamelCase","letter","substr","toUpperCase","arrayProto","every","forEach","push","toObject","undefined","TypeError","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","target","source","from","symbols","to","s","getOwnPropertySymbols","getXmlOpenTag","xmlOpenTag","exec","isXmlSelfCloseTag","REGEX_XML_SELF_CLOSE_TAG","test","verifySelfCloseTag","tagName","OMITTED_CLOSE_TAGS","toLowerCase","getOpenTagParams","noXml","matchArr","pattern","lastIndexOf","isXmlCloseTag","getOpenTag","openTag","isSelfCloseTag","REGEX_SELF_CLOSE_TAG","isCloseTag","getInsideBraceParam","insideBraceParam","isControl","ret1","expr","ret2","isControlCloseTag","exprRule","isTmpl","addTmpl","node","parent","name","paramsP","params","tmpls","objT","strs","tranParam","compiledParam","isParamsExpr","addParamsExpr","paramsExpr","content","getTagComponentName","el","tagNamespace","split","getTagComponentAttrs","attrs","attributes","attrName","nodeName","specified","nodeValue","style","cssText","tranData","setObjParam","isTagControl","getTagComponents","selector","document","querySelectorAll","removeChildNode","children","childNodes","removeChild","firstChild","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","track","wbr","transformParams","data","paramsE","v","k","replaceParams","transformParamsToObj","notTran","_getStyleParams","_useFilters","filters","index","useString","filtersObj","filterObj","console","warn","paramsF","thisObj","getDataValue","propObj","defaultEmpty","datas","dataP","prop","parentNum","_parent","isStr","getItemParam","item","slice","valueObj","newObj","newKey","props","isAll","useObj","dataProp","getExprParam","refer","text","match","ESCAPE_LOOKUP","&",">","<","\"","'","compiledParams","compiledProp","filtersTmp","retF","_getFilterParam","filterName","n","REGEX_FILTER_PARAM","_getReplaceParam","matchArrP","replaceParam","patternP","j","propP","_quots","splice","replaceSpace","replaceSplit","retP","beginRule","all","SPACE_SYMBOLS","nbsp","ensp","emsp","thinsp","zwnj","zwj","parentContent","hasElse","_njShim","first","control","openTagName","last","isElemNode","tranElem","hasCloseTag","selfCloseTag","ctrl","elseIndex","pushContent","retR","typeRefer","tagParams","end","checkContentElem","contentElse","checkTagElem","nodeType","checkTagContentElem","setInitTagData","dom","port","render","component","setNamespace","doc","namespaces","add","count","no","equal","lt","val1","val2","noEqual","parseFloat","gt","isFloat","parseInt","int","float","bool","exprs","if","useUnless","referR","result","inverse","unless","thiz","retI","loop","spreadparam","value1","value2","for","start","spread","_createRegExp","reg","mode","RegExp","_clearRepeat","char","l","endRule","allRules","firstChar","otherChars","exprRules","escapeExprRule","replaceBraceParam","compile","tmplName","isComponent","isTag","_createRoot","args","tranComponent","transformToComponent","tranString","transformContentToString","compileComponent","compileTagComponent","tags","tag","tmpl","getAttribute","parentNode","precompile","renderTmplExpr","container","extra","_renderTmplExpr","transformToString","itemIsArray","dataRefer","exprP","transformContentToArray","transformContent","transformNode","retN","transformContentToComponent","componentClass","xmls","splitNo","fullXml","REGEX_SPLIT","xml","arg","useShim","shim","_clearNotesAndBlank","tmplKey","_paramsStr","strTmpls","_checkStringElem","_setTmplProps","current","elem","elemName","textBefore","textAfter","_formatText","_setText","_setSelfCloseElem","_setElem","_cascadeArr","JSON","stringify","njKey","elemArr","bySelfClose","substring","retS","_getSplitParams","retC","begin","propN","splitNos","t","shift","renderComp","callback","addEventListener","attachEvent"],"mappings":"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","file":"nornj.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NornJ\"] = factory();\n\telse\n\t\troot[\"NornJ\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  setComponentEngine = utils.setComponentEngine,\r\n\t  compiler = __webpack_require__(17),\r\n\t  registerComponent = __webpack_require__(13),\r\n\t  compileStringTmpl = __webpack_require__(21),\r\n\t  docReady = __webpack_require__(23);\r\n\t\r\n\tnj.setComponentEngine = setComponentEngine;\r\n\tnj.setTmplRule = utils.setTmplRule;\r\n\tnj.registerFilter = utils.registerFilter;\r\n\tnj.registerExpr= utils.registerExpr;\r\n\tnj.compileStringTmpl = compileStringTmpl;\r\n\tnj.docReady = docReady;\r\n\tutils.assign(nj, compiler, registerComponent);\r\n\t\r\n\t//Create vml tag namespace(primarily for IE8)\r\n\tutils.registerTagNamespace();\r\n\t\r\n\t//Default use React as component engine\r\n\tif (typeof React !== 'undefined') {\r\n\t  setComponentEngine('react', React, typeof ReactDOM !== 'undefined' ? ReactDOM : null);\r\n\t}\r\n\t\r\n\tvar global;\r\n\tif (typeof self !== 'undefined') {\r\n\t  global = self;\r\n\t\r\n\t  //Init tag template\r\n\t  docReady(function () {\r\n\t    if (nj.componentLib && nj.autoRenderTag) {\r\n\t      nj.renderTagComponent(nj.initTagData);\r\n\t    }\r\n\t  });\r\n\t}\r\n\telse {\r\n\t  global = this;\r\n\t}\r\n\t\r\n\tmodule.exports = global.NornJ = global.nj = nj;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tfunction nj() {\r\n\t  return nj.compileStringTmpl.apply(null, arguments);\r\n\t}\r\n\t\r\n\tnj.componentLib = null;\r\n\tnj.componentLibObj = null;\r\n\tnj.componentLibDom = null;\r\n\tnj.componentPort = null;\r\n\tnj.componentRender = null;\r\n\tnj.componentClasses = {};\r\n\tnj.namespace = 'nj';\r\n\tnj.tagNamespaces = { nj: 'nj' };\r\n\tnj.tagId = 'nj-id';\r\n\tnj.tagStyle = 'nj-style';\r\n\tnj.tagClassName = 'nj-component';\r\n\tnj.templates = {};\r\n\tnj.errorTitle = 'NornJ:';\r\n\tnj.tmplRule = {};\r\n\tnj.autoRenderTag = true;\r\n\t\r\n\tmodule.exports = nj;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar tools = __webpack_require__(3),\r\n\t  transformElement = __webpack_require__(5),\r\n\t  transformParam = __webpack_require__(8),\r\n\t  transformData = __webpack_require__(6),\r\n\t  escape = __webpack_require__(7),\r\n\t  checkElem = __webpack_require__(10),\r\n\t  setComponentEngine = __webpack_require__(12),\r\n\t  registerComponent = __webpack_require__(13),\r\n\t  filter = __webpack_require__(14),\r\n\t  expression = __webpack_require__(15),\r\n\t  setTmplRule = __webpack_require__(16);\r\n\t\r\n\t//Set default param rule\r\n\tsetTmplRule();\r\n\t\r\n\tmodule.exports = tools.assign(\r\n\t  { \r\n\t    escape: escape,\r\n\t    setTmplRule: setTmplRule\r\n\t  },\r\n\t  checkElem,\r\n\t  setComponentEngine,\r\n\t  registerComponent,\r\n\t  filter,\r\n\t  expression,\r\n\t  tools,\r\n\t  transformElement,\r\n\t  transformParam,\r\n\t  transformData\r\n\t);\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  assign = __webpack_require__(4),\r\n\t  arrayProto = Array.prototype,\r\n\t  arrayEvery = arrayProto.every,\r\n\t  arrayForEach = arrayProto.forEach,\r\n\t  arrayPush = arrayProto.push;\r\n\t\r\n\t//Push one by one to array\r\n\tfunction listPush(arr1, arr2, checkIsArr, checkNotNull) {\r\n\t  if (checkIsArr && !isArray(arr2)) {\r\n\t    //Put the value at the end of the first array only when the second parameter is not null.\r\n\t    if (!checkNotNull || arr2 != null) {\r\n\t      arr1[arr1.length] = arr2;\r\n\t    }\r\n\t    return arr1;\r\n\t  }\r\n\t\r\n\t  arrayPush.apply(arr1, arr2);\r\n\t  return arr1;\r\n\t}\r\n\t\r\n\t//判断是否为数组\r\n\tfunction isArray(obj) {\r\n\t  return Array.isArray(obj);\r\n\t}\r\n\t\r\n\t//判断是否为对象\r\n\tfunction isObject(obj) {\r\n\t  var type = typeof obj;\r\n\t  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\r\n\t}\r\n\t\r\n\t//判断是否为字符串\r\n\tfunction isString(obj) {\r\n\t  return Object.prototype.toString.call(obj) === '[object String]';\r\n\t}\r\n\t\r\n\t//获取属性值\r\n\tfunction _getProperty(key) {\r\n\t  return function (obj) {\r\n\t    return obj == null ? void 0 : obj[key];\r\n\t  };\r\n\t}\r\n\t\r\n\t//是否为类数组\r\n\tvar _getLength = _getProperty('length');\r\n\tfunction isArrayLike(obj) {\r\n\t  var length = _getLength(obj);\r\n\t  return typeof length == 'number' && length >= 0;\r\n\t}\r\n\t\r\n\t//遍历数组或对象\r\n\tfunction each(obj, func, context, isArr, useEvery) {\r\n\t  if (!obj) {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var arrayEach;\r\n\t  if (useEvery) {\r\n\t    arrayEach = arrayEvery;\r\n\t  }\r\n\t  else {\r\n\t    arrayEach = arrayForEach;\r\n\t  }\r\n\t  if (isArr == null) {\r\n\t    isArr = isArrayLike(obj);\r\n\t  }\r\n\t\r\n\t  //设置回调函数上下文\r\n\t  context = context ? context : obj;\r\n\t\r\n\t  if (isArr) {\r\n\t    arrayEach.call(obj, function (o, i) {\r\n\t      var ret = func.call(context, o, i);\r\n\t\r\n\t      if (useEvery) {\r\n\t        if (ret === false) {\r\n\t          return ret;\r\n\t        }\r\n\t        return true;\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t  else {\r\n\t    var keys = Object.keys(obj);\r\n\t    arrayEach.call(keys, function (key) {\r\n\t      var ret = func.call(context, obj[key], key);\r\n\t\r\n\t      if (useEvery) {\r\n\t        if (ret === false) {\r\n\t          return ret;\r\n\t        }\r\n\t        return true;\r\n\t      }\r\n\t    });\r\n\t  }\r\n\t}\r\n\t\r\n\t//判断是否在数组内\r\n\tfunction inArray(obj, value) {\r\n\t  return obj.indexOf(value);\r\n\t}\r\n\t\r\n\t//去除字符串空格\r\n\tfunction trim(str) {\r\n\t  if (!!!str) {\r\n\t    return '';\r\n\t  }\r\n\t\r\n\t  return str.trim();\r\n\t}\r\n\t\r\n\t//抛出异常\r\n\tfunction throwIf(val, msg) {\r\n\t  if (!val) {\r\n\t    throw Error(msg || val);\r\n\t  }\r\n\t}\r\n\t\r\n\t//create a unique key\r\n\tfunction uniqueKey(str, hash) {\r\n\t  var len = str.length;\r\n\t  if (len == 0) {\r\n\t    return str;\r\n\t  }\r\n\t  if (hash == null) {\r\n\t    hash = 0;\r\n\t  }\r\n\t\r\n\t  var i, chr;\r\n\t  for (i = 0, len = str.length; i < len; i++) {\r\n\t    chr = str.charCodeAt(i);\r\n\t    hash = ((hash << 5) - hash) + chr;\r\n\t    hash |= 0;\r\n\t  }\r\n\t\r\n\t  return hash;\r\n\t}\r\n\t\r\n\t//create light weight object\r\n\tfunction lightObj() {\r\n\t  return Object.create(null);\r\n\t}\r\n\t\r\n\t//Clear quotation marks\r\n\tfunction clearQuot(value) {\r\n\t  var charF = value[0],\r\n\t    regex;\r\n\t\r\n\t  if (charF === '\\'') {\r\n\t    regex = /[']+/g;\r\n\t  }\r\n\t  else if (charF === '\"') {\r\n\t    regex = /[\"]+/g;\r\n\t  }\r\n\t  if (regex) {\r\n\t    value = value.replace(regex, '');\r\n\t  }\r\n\t\r\n\t  return value;\r\n\t}\r\n\t\r\n\t//Transform to camel-case\r\n\tfunction toCamelCase(str) {\r\n\t  if (str.indexOf('-') > -1) {\r\n\t    str = str.replace(/-\\w/g, function (letter) {\r\n\t      return letter.substr(1).toUpperCase();\r\n\t    });\r\n\t  }\r\n\t\r\n\t  return str;\r\n\t}\r\n\t\r\n\tvar tools = {\r\n\t  isArray: isArray,\r\n\t  isArrayLike: isArrayLike,\r\n\t  isObject: isObject,\r\n\t  isString: isString,\r\n\t  each: each,\r\n\t  inArray: inArray,\r\n\t  trim: trim,\r\n\t  throwIf: throwIf,\r\n\t  assign: assign,\r\n\t  uniqueKey: uniqueKey,\r\n\t  lightObj: lightObj,\r\n\t  listPush: listPush,\r\n\t  clearQuot: clearQuot,\r\n\t  toCamelCase: toCamelCase\r\n\t};\r\n\t\r\n\t//绑定到nj对象\r\n\tassign(nj, tools);\r\n\t\r\n\tmodule.exports = tools;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t/* eslint-disable no-unused-vars */\n\t'use strict';\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tmodule.exports = Object.assign || function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (Object.getOwnPropertySymbols) {\n\t\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranData = __webpack_require__(6),\r\n\t  tranParam = __webpack_require__(8),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//提取xml open tag\r\n\tfunction getXmlOpenTag(obj) {\r\n\t  return tmplRule.xmlOpenTag.exec(obj);\r\n\t}\r\n\t\r\n\t//验证xml self close tag\r\n\tvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\r\n\tfunction isXmlSelfCloseTag(obj) {\r\n\t  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\r\n\t}\r\n\t\r\n\t//Verify self close tag name\r\n\tvar OMITTED_CLOSE_TAGS = {\r\n\t  'area': true,\r\n\t  'base': true,\r\n\t  'br': true,\r\n\t  'col': true,\r\n\t  'embed': true,\r\n\t  'hr': true,\r\n\t  'img': true,\r\n\t  'input': true,\r\n\t  'keygen': true,\r\n\t  'link': true,\r\n\t  'meta': true,\r\n\t  'param': true,\r\n\t  'source': true,\r\n\t  'track': true,\r\n\t  'wbr': true\r\n\t};\r\n\tfunction verifySelfCloseTag(tagName) {\r\n\t  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\r\n\t}\r\n\t\r\n\t//Extract parameters inside the xml open tag\r\n\tfunction getOpenTagParams(obj, noXml) {\r\n\t  var pattern = /[\\s]+([^\\s={}>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?/g,\r\n\t    matchArr, ret;\r\n\t\r\n\t  while ((matchArr = pattern.exec(obj))) {\r\n\t    var key = matchArr[1];\r\n\t    if (key === '/' || key === '/>') {  //If match to the last \"/\" or \"/>\", then continue the loop.\r\n\t      continue;\r\n\t    }\r\n\t\r\n\t    if (!ret) {\r\n\t      ret = [];\r\n\t    }\r\n\t\r\n\t    var value = matchArr[3],\r\n\t      charF, len, regex;\r\n\t    if (value != null) {\r\n\t      value = tools.clearQuot(value);  //Remove quotation marks\r\n\t    }\r\n\t    else {\r\n\t      value = key;  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n\t    }\r\n\t    len = value.length;\r\n\t\r\n\t    //Removed at the end of \"/>\" or \">\".\r\n\t    if (!noXml) {\r\n\t      if (value.lastIndexOf('/>') === len - 2) {\r\n\t        value = value.replace(/\\/>/, '');\r\n\t      }\r\n\t      else if (value.lastIndexOf('>') === len - 1) {\r\n\t        value = value.replace(/>/, '');\r\n\t      }\r\n\t    }\r\n\t\r\n\t    ret.push({ key: key, value: value });\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//判断xml close tag\r\n\tfunction isXmlCloseTag(obj, tagName) {\r\n\t  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\r\n\t}\r\n\t\r\n\t//提取open tag\r\n\tfunction getOpenTag(obj) {\r\n\t  return tmplRule.openTag.exec(obj);\r\n\t}\r\n\t\r\n\t//验证self close tag\r\n\tvar REGEX_SELF_CLOSE_TAG = /\\/$/i;\r\n\tfunction isSelfCloseTag(obj) {\r\n\t  return REGEX_SELF_CLOSE_TAG.test(obj);\r\n\t}\r\n\t\r\n\t//判断close tag\r\n\tfunction isCloseTag(obj, tagName) {\r\n\t  return tools.isString(obj) && obj.toLowerCase() === '/' + tagName.toLowerCase();\r\n\t}\r\n\t\r\n\t//get inside brace param\r\n\tfunction getInsideBraceParam(obj) {\r\n\t  return tmplRule.insideBraceParam.exec(obj);\r\n\t}\r\n\t\r\n\t//判断流程控制块并返回refer值\r\n\tfunction isControl(obj) {\r\n\t  var ret, ret1 = tmplRule.expr.exec(obj);\r\n\t  if (ret1) {\r\n\t    ret = [ret1[1]];\r\n\t\r\n\t    var ret2 = getInsideBraceParam(obj);  //提取refer值\r\n\t    if (ret2) {\r\n\t      ret.push(ret2[0]);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//判断流程控制块close tag\r\n\tfunction isControlCloseTag(obj, tagName) {\r\n\t  return tools.isString(obj) && obj === '/' + tmplRule.exprRule + tagName;\r\n\t}\r\n\t\r\n\t//判断是否模板元素\r\n\tfunction isTmpl(obj) {\r\n\t  return obj === 'tmpl';\r\n\t}\r\n\t\r\n\t//加入到模板集合中\r\n\tfunction addTmpl(node, parent, name) {\r\n\t  var paramsP = parent.params;\r\n\t  if (!paramsP) {\r\n\t    paramsP = parent.params = tools.lightObj();\r\n\t  }\r\n\t\r\n\t  var tmpls = paramsP.tmpls;\r\n\t  if (!tmpls) {\r\n\t    var objT = { length: 0 };\r\n\t    if(name != null) {\r\n\t      objT[name] = node;\r\n\t    }\r\n\t    else {\r\n\t      objT['0'] = node;\r\n\t      objT.length = 1;\r\n\t    }\r\n\t\r\n\t    paramsP.tmpls = tranParam.compiledParam(objT);\r\n\t  }\r\n\t  else {  //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\r\n\t    var objT = tmpls.strs[0],\r\n\t      len = objT.length;\r\n\t\r\n\t    if(name != null) {\r\n\t      objT[name] = node;\r\n\t    }\r\n\t    else {\r\n\t      objT[len] = node;\r\n\t      objT.length = ++len;\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//Test whether as parameters expression\r\n\tfunction isParamsExpr(obj) {\r\n\t  return obj === 'params';\r\n\t}\r\n\t\r\n\t//Add to the \"paramsExpr\" property of the parent node\r\n\tfunction addParamsExpr(node, parent) {\r\n\t  if (!parent.paramsExpr) {\r\n\t    parent.paramsExpr = node;\r\n\t  }\r\n\t  else {\r\n\t    tools.listPush(parent.paramsExpr.content, node.content);\r\n\t  }\r\n\t}\r\n\t\r\n\t//获取标签组件名\r\n\tfunction getTagComponentName(el) {\r\n\t  var tagName = el.tagName.toLowerCase();\r\n\t  tools.each(nj.tagNamespaces, function (tagNamespace) {\r\n\t    if (tagName.indexOf(tagNamespace + ':') === 0) {\r\n\t      tagName = tagName.split(':')[1];\r\n\t      return false;\r\n\t    }\r\n\t    else if (tagName.indexOf(tagNamespace + '-') === 0) {\r\n\t      tagName = tagName.split('-')[1];\r\n\t      return false;\r\n\t    }\r\n\t  }, false, false, true);\r\n\t\r\n\t  return tagName;\r\n\t}\r\n\t\r\n\t//获取标签组件所有属性\r\n\tfunction getTagComponentAttrs(el) {\r\n\t  var attrs = el.attributes,\r\n\t    ret;\r\n\t\r\n\t  tools.each(attrs, function (obj) {\r\n\t    var attrName = obj.nodeName;\r\n\t    if (attrName !== nj.tagId && obj.specified) {  //此处如不判断specified属性,则低版本IE中会列出所有可能的属性\r\n\t      var val = obj.nodeValue;\r\n\t      if (!ret) {\r\n\t        ret = tools.lightObj();\r\n\t      }\r\n\t\r\n\t      //Deal with the attribute only has key.\r\n\t      if (val === '') {\r\n\t        val = attrName;\r\n\t      }\r\n\t\r\n\t      if (attrName === 'style') {  //style属性使用cssText\r\n\t        val = el.style.cssText;\r\n\t      }\r\n\t      else if (attrName.indexOf('data-') !== 0  //Transform to camel-case\r\n\t        && attrName.indexOf(nj.namespace + '-') !== 0) {\r\n\t        //Can be marked with an exclamation mark to distinguish the attribute name beginning with \"data-\".\r\n\t        if (attrName.indexOf('!') === 0) {\r\n\t          attrName = attrName.substr(1);\r\n\t        }\r\n\t\r\n\t        attrName = tools.toCamelCase(attrName);\r\n\t      }\r\n\t\r\n\t      tranData.setObjParam(ret, attrName, val, true);\r\n\t    }\r\n\t  });\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//判断标签表达式块\r\n\tfunction isTagControl(obj) {\r\n\t  return tmplRule.expr.test(obj);\r\n\t}\r\n\t\r\n\t//获取全部标签组件\r\n\tfunction getTagComponents(selector) {\r\n\t  if (!selector) {\r\n\t    selector = '.' + nj.tagClassName;\r\n\t  }\r\n\t\r\n\t  return document.querySelectorAll(selector);\r\n\t}\r\n\t\r\n\t//Remove all dom child node\r\n\tfunction removeChildNode(node) {\r\n\t  var children = node.childNodes,\r\n\t    len = children.length,\r\n\t    i = 0;\r\n\t\r\n\t  for (; i < len; i++) {\r\n\t    node.removeChild(node.firstChild);\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  getXmlOpenTag: getXmlOpenTag,\r\n\t  isXmlSelfCloseTag: isXmlSelfCloseTag,\r\n\t  verifySelfCloseTag: verifySelfCloseTag,\r\n\t  getOpenTagParams: getOpenTagParams,\r\n\t  isXmlCloseTag: isXmlCloseTag,\r\n\t  getOpenTag: getOpenTag,\r\n\t  isSelfCloseTag: isSelfCloseTag,\r\n\t  isCloseTag: isCloseTag,\r\n\t  getInsideBraceParam: getInsideBraceParam,\r\n\t  isControl: isControl,\r\n\t  isControlCloseTag: isControlCloseTag,\r\n\t  isTmpl: isTmpl,\r\n\t  addTmpl: addTmpl,\r\n\t  isParamsExpr: isParamsExpr,\r\n\t  addParamsExpr: addParamsExpr,\r\n\t  getTagComponentName: getTagComponentName,\r\n\t  getTagComponentAttrs: getTagComponentAttrs,\r\n\t  isTagControl: isTagControl,\r\n\t  getTagComponents: getTagComponents,\r\n\t  removeChildNode: removeChildNode\r\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  escape = __webpack_require__(7),\r\n\t  errorTitle = nj.errorTitle;\r\n\t\r\n\t//转换节点参数为字符串\r\n\tfunction transformParams(obj, data, parent, paramsE) {\r\n\t  var ret = '';\r\n\t\r\n\t  //Attach parameters from \"$param\" expressions\r\n\t  if (paramsE) {\r\n\t    tools.each(paramsE, function (v, k) {\r\n\t      if (!obj || obj[k] == null) {\r\n\t        ret += ' ' + k + '=\"' + v + '\"';\r\n\t      }\r\n\t    }, false, false);\r\n\t  }\r\n\t\r\n\t  tools.each(obj, function (v, k) {\r\n\t    ret += ' ' + k + '=\"' + replaceParams(v, data, false, false, parent, true) + '\"';\r\n\t  }, false, false);\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//转换节点参数为对象\r\n\tfunction transformParamsToObj(obj, data, parent, paramsE) {\r\n\t  var ret = obj || paramsE ? {} : null;\r\n\t\r\n\t  //Attach parameters from \"$param\" expressions\r\n\t  if (paramsE) {\r\n\t    tools.assign(ret, paramsE);\r\n\t  }\r\n\t\r\n\t  tools.each(obj, function (v, k) {\r\n\t    replaceParams(v, data, ret, k, parent, false);\r\n\t  }, false, false);\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//设置对象参数\r\n\tfunction setObjParam(obj, key, value, notTran) {\r\n\t  var style;\r\n\t  if (!notTran && nj.componentLib) {\r\n\t    switch (key) {\r\n\t      case 'class':\r\n\t        key = 'className';\r\n\t        break;\r\n\t      case 'for':\r\n\t        key = 'htmlFor';\r\n\t        break;\r\n\t      case 'style':\r\n\t      case nj.tagStyle:\r\n\t        key = 'style';\r\n\t        style = _getStyleParams(value);\r\n\t        break;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  obj[key] = style != null ? style : value;\r\n\t}\r\n\t\r\n\t//提取style内参数\r\n\tfunction _getStyleParams(obj) {\r\n\t  //If the parameter is a style object,then direct return.\r\n\t  if (tools.isObject(obj)) {\r\n\t    return obj;\r\n\t  }\r\n\t\r\n\t  //参数为字符串\r\n\t  var pattern = /([^\\s:]+)[\\s]?:[\\s]?([^\\s;]+)[;]?/g,\r\n\t    matchArr, ret;\r\n\t\r\n\t  while ((matchArr = pattern.exec(obj))) {\r\n\t    var key = matchArr[1],\r\n\t      value = matchArr[2];\r\n\t\r\n\t    if (!ret) {\r\n\t      ret = {};\r\n\t    }\r\n\t\r\n\t    //Convert to lowercase when style name is all capital.\r\n\t    if(/^[A-Z-]+$/.test(key)) {\r\n\t      key = key.toLowerCase();\r\n\t    }\r\n\t\r\n\t    //将连字符转为驼峰命名\r\n\t    key = tools.toCamelCase(key);\r\n\t\r\n\t    ret[key] = value;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Use filters\r\n\tfunction _useFilters(filters, ret, data, parent, index, useString) {\r\n\t  if (filters) {\r\n\t    var filtersObj = nj.filters;\r\n\t    tools.each(filters, function (filterObj) {\r\n\t      var filter = filtersObj[filterObj.name];  //Get filter function\r\n\t      if (!filter) {\r\n\t        console.warn(errorTitle + 'A filter called ' + filterObj.name + ' is undefined.');\r\n\t        return;\r\n\t      }\r\n\t\r\n\t      var params,\r\n\t        paramsF = filterObj.params,\r\n\t        thisObj = tools.lightObj();\r\n\t\r\n\t      if (paramsF) {\r\n\t        params = tools.listPush([ret], paramsF);\r\n\t      }\r\n\t      else {\r\n\t        params = [ret];\r\n\t      }\r\n\t\r\n\t      thisObj.data = data;\r\n\t      thisObj.parent = parent;\r\n\t      thisObj.index = index;\r\n\t      thisObj.useString = useString;\r\n\t      ret = filter.apply(thisObj, params);\r\n\t    }, false, true);\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//获取data值\r\n\tfunction getDataValue(data, propObj, parent, defaultEmpty, useString) {\r\n\t  //if (data == null) {\r\n\t  //  return;\r\n\t  //}\r\n\t\r\n\t  var isArr = tools.isArray(data),\r\n\t    prop = propObj.name,\r\n\t    filters = propObj.filters,\r\n\t    parentNum = propObj.parentNum,\r\n\t    datas, ret, dataP, index;\r\n\t\r\n\t  //if inside each block,get the parent data and current index\r\n\t  if (parent && parent.parent) {\r\n\t    dataP = parent.parent;\r\n\t    index = parent.index;\r\n\t  }\r\n\t\r\n\t  //According to the param path to get data\r\n\t  if (parent && parentNum) {\r\n\t    for (var i = 0; i < parentNum; i++) {\r\n\t      var _parent = parent.parent;\r\n\t      tools.throwIf(_parent, errorTitle + 'Parent data is undefined, please check the param path declare.');\r\n\t      parent = _parent;\r\n\t      index = parent.index;\r\n\t      datas = [parent.data];\r\n\t    }\r\n\t  }\r\n\t  else if (isArr) {  //The data param is array\r\n\t    datas = data;\r\n\t  }\r\n\t  else {\r\n\t    datas = [data];\r\n\t  }\r\n\t\r\n\t  if (propObj.isStr) {\r\n\t    ret = _useFilters(filters, prop, datas, dataP, index, useString);\r\n\t  }\r\n\t  else if (prop === '.') {  //prop为点号时直接使用data作为返回值\r\n\t    ret = _useFilters(filters, isArr ? data[0] : data, datas, dataP, index, useString);\r\n\t  }\r\n\t  else if (prop === '#') {  //Get current item index\r\n\t    ret = _useFilters(filters, index, datas, dataP, index, useString);\r\n\t  }\r\n\t  else {\r\n\t    tools.each(datas, function (obj) {\r\n\t      if (obj) {\r\n\t        ret = obj[prop];\r\n\t        if (ret != null) {\r\n\t          //Use filters\r\n\t          ret = _useFilters(filters, ret, datas, dataP, index, useString);\r\n\t\r\n\t          return false;\r\n\t        }\r\n\t      }\r\n\t    }, false, true, true);\r\n\t  }\r\n\t\r\n\t  //Default set empty\r\n\t  if (defaultEmpty && ret == null) {\r\n\t    ret = '';\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//获取each块中的item参数\r\n\tfunction getItemParam(item, data, isArr) {\r\n\t  var ret = item;\r\n\t  if (isArr == null) {\r\n\t    isArr = tools.isArray(data);\r\n\t  }\r\n\t  if (isArr) {\r\n\t    ret = tools.listPush([item], data.slice(1));\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//替换参数字符串\r\n\tfunction replaceParams(valueObj, data, newObj, newKey, parent, useString) {\r\n\t  var props = valueObj.props,\r\n\t    strs = valueObj.strs,\r\n\t    isAll = valueObj.isAll,\r\n\t    useObj = tools.isObject(newObj),  //newObj的值可能为对象或布尔值,此处判断是否为对象\r\n\t    value = strs[0];\r\n\t\r\n\t  if (props) {\r\n\t    tools.each(props, function (propObj, i) {\r\n\t      var dataProp = getDataValue(data, propObj.prop, parent, !newObj, useString);\r\n\t\r\n\t      //参数为字符串时,须做特殊字符转义\r\n\t      if (dataProp\r\n\t        && !newObj            //Only in transform to string need escape\r\n\t        && propObj.escape) {  //Only in the opening brace's length less than 2 need escape\r\n\t        dataProp = escape(dataProp);\r\n\t      }\r\n\t\r\n\t      //如果参数只存在占位符,则可传引用参数\r\n\t      if (isAll) {\r\n\t        if (useObj) {  //在新对象上创建属性\r\n\t          setObjParam(newObj, newKey, dataProp);\r\n\t        }\r\n\t\r\n\t        value = dataProp;\r\n\t      }\r\n\t      else {  //Splicing value by one by one\r\n\t        value += dataProp + strs[i + 1];\r\n\t      }\r\n\t    }, false, true);\r\n\t  }\r\n\t\r\n\t  //存在多个占位符的情况\r\n\t  if (useObj && !isAll) {\r\n\t    setObjParam(newObj, newKey, value);\r\n\t  }\r\n\t\r\n\t  return value;\r\n\t}\r\n\t\r\n\t//Get expression parameter\r\n\tfunction getExprParam(refer, data, parent, useString) {\r\n\t  var ret = [];\r\n\t  if (refer != null) {\r\n\t    tools.each(refer.props, function (propObj, i) {\r\n\t      ret.push(getDataValue(data, propObj.prop, parent, false, useString));\r\n\t    }, false, true);\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  transformParams: transformParams,\r\n\t  transformParamsToObj: transformParamsToObj,\r\n\t  replaceParams: replaceParams,\r\n\t  getDataValue: getDataValue,\r\n\t  getItemParam: getItemParam,\r\n\t  setObjParam: setObjParam,\r\n\t  getExprParam: getExprParam\r\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tvar ESCAPE_LOOKUP = {\r\n\t  '&': '&amp;',\r\n\t  '>': '&gt;',\r\n\t  '<': '&lt;',\r\n\t  '\"': '&quot;',\r\n\t  '\\'': '&#x27;'\r\n\t};\r\n\t\r\n\tfunction escape(text) {\r\n\t  if (text == null) {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  return ('' + text).replace(/[&><\"']/g, function (match) {\r\n\t    return ESCAPE_LOOKUP[match];\r\n\t  });\r\n\t}\r\n\t\r\n\tmodule.exports = escape;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  replaceSpace = __webpack_require__(9),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//Get compiled parameters from a object\r\n\tfunction compiledParams(obj) {\r\n\t  var ret = tools.lightObj();\r\n\t  tools.each(obj, function (v, k) {\r\n\t    ret[k] = compiledParam(v);\r\n\t  }, false, false);\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get compiled property\r\n\tfunction compiledProp(prop, isString) {\r\n\t  var ret = tools.lightObj();\r\n\t\r\n\t  //Extract the dot data path to the 'prop' filter.\r\n\t  if (!isString && prop.indexOf('.') > -1) {\r\n\t    prop = prop.replace(/\\.([^\\s.:\\/]+)/g, ':prop($1)');\r\n\t  }\r\n\t\r\n\t  //If there are colons in the property,then use filter\r\n\t  if (prop.indexOf(':') >= 0) {\r\n\t    var filters = [],\r\n\t      filtersTmp;\r\n\t    filtersTmp = prop.split(':');\r\n\t    prop = filtersTmp[0].trim();  //Extract property\r\n\t\r\n\t    filtersTmp = filtersTmp.slice(1);\r\n\t    tools.each(filtersTmp, function (filter) {\r\n\t      var retF = _getFilterParam(filter.trim()),\r\n\t        filterObj = tools.lightObj(),\r\n\t        filterName = retF[1].toLowerCase();  //Get filter name\r\n\t\r\n\t      if (filterName) {\r\n\t        var paramsF = retF[3];  //Get filter param\r\n\t\r\n\t        //Multiple params are separated by commas.\r\n\t        if (paramsF) {\r\n\t          var params = [];\r\n\t          tools.each(paramsF.split(','), function (p) {\r\n\t            params[params.length] = p.trim();\r\n\t          }, false, true);\r\n\t\r\n\t          filterObj.params = params;\r\n\t        }\r\n\t\r\n\t        filterObj.name = filterName;\r\n\t        filters.push(filterObj);\r\n\t      }\r\n\t    }, false, true);\r\n\t\r\n\t    ret.filters = filters;\r\n\t  }\r\n\t\r\n\t  //Extract the parent data path\r\n\t  if (!isString && prop.indexOf('../') > -1) {\r\n\t    var n = 0;\r\n\t    prop = prop.replace(/\\.\\.\\//g, function () {\r\n\t      n++;\r\n\t      return '';\r\n\t    });\r\n\t\r\n\t    ret.parentNum = n;\r\n\t  }\r\n\t\r\n\t  ret.name = prop;\r\n\t  if (isString) {  //Sign the parameter is a pure string.\r\n\t    ret.isStr = true;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get filter param\r\n\tvar REGEX_FILTER_PARAM = /([\\w$]+)(\\(([^()]+)\\))*/;\r\n\tfunction _getFilterParam(obj) {\r\n\t  return REGEX_FILTER_PARAM.exec(obj);\r\n\t}\r\n\t\r\n\t//Extract replace parameters\r\n\tvar _quots = ['\\'', '\"'];\r\n\tfunction _getReplaceParam(obj, strs) {\r\n\t  var pattern = tmplRule.replaceParam(),\r\n\t    patternP = /[^\\s:]+([\\s]?:[\\s]?[^\\s\\(\\)]+(\\([^\\(\\)]+\\))?(\\.[^\\s.]+)?){0,}/g,\r\n\t    matchArr, matchArrP, ret, prop, i = 0;\r\n\t\r\n\t  while ((matchArr = pattern.exec(obj))) {\r\n\t    if (!ret) {\r\n\t      ret = [];\r\n\t    }\r\n\t\r\n\t    var j = 0;\r\n\t    prop = matchArr[3];\r\n\t\r\n\t    //To extract parameters by interval space.\r\n\t    while ((matchArrP = patternP.exec(prop))) {\r\n\t      var propP = matchArrP[0],\r\n\t        item = [matchArr[0], matchArr[1], propP, false, true];\r\n\t\r\n\t      //Clear parameter at both ends of the space.\r\n\t      propP = propP.trim();\r\n\t\r\n\t      //If parameter has quotation marks, this's a pure string parameter.\r\n\t      if (_quots.indexOf(propP[0]) > -1) {\r\n\t        propP = tools.clearQuot(propP);\r\n\t        item[3] = true;\r\n\t      }\r\n\t\r\n\t      item[2] = propP;\r\n\t      ret.push(item);\r\n\t\r\n\t      //If there are several parameters in a curly braces, fill the space for the \"strs\" array.\r\n\t      if (j > 0) {\r\n\t        item[4] = false;  //Sign not contain all of placehorder\r\n\t        strs.splice(++i, 0, '');\r\n\t      }\r\n\t      j++;\r\n\t    }\r\n\t    i++;\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Get compiled parameter\r\n\tfunction compiledParam(value) {\r\n\t  var ret = tools.lightObj(),\r\n\t    strs = tools.isString(value) ? replaceSpace(value).split(tmplRule.replaceSplit) : [value],\r\n\t    props = null,\r\n\t    isAll = false;\r\n\t\r\n\t  //If have placehorder\r\n\t  if (strs.length > 1) {\r\n\t    var params = _getReplaceParam(value, strs);\r\n\t    props = [];\r\n\t\r\n\t    tools.each(params, function (param) {\r\n\t      var retP = tools.lightObj();\r\n\t      isAll = param[4] ? param[0] === value : false;  //If there are several parameters in a curly braces, \"isAll\" must be false.\r\n\t      retP.prop = compiledProp(param[2], param[3]);\r\n\t\r\n\t      //If parameter's open rules are several,then it need escape.\r\n\t      retP.escape = param[1].split(tmplRule.beginRule).length < 3;\r\n\t      props.push(retP);\r\n\t    }, false, true);\r\n\t  }\r\n\t\r\n\t  ret.props = props;\r\n\t  ret.strs = strs;\r\n\t  ret.isAll = isAll;\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  compiledParam: compiledParam,\r\n\t  compiledParams: compiledParams,\r\n\t  compiledProp: compiledProp\r\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tvar SPACE_SYMBOLS = {\r\n\t  nbsp: '\\u00A0',\r\n\t  ensp: '\\u2002',\n\t  emsp: '\\u2003',\r\n\t  thinsp: '\\u2009',\r\n\t  zwnj: '\\u200C',\n\t  zwj: '\\u200D'\r\n\t};\r\n\t\r\n\tfunction replaceSpace(str) {\r\n\t  return str.replace(/&(nbsp|ensp|emsp|thinsp|zwnj|zwj);/g, function (all, match) {\r\n\t    return SPACE_SYMBOLS[match];\r\n\t  });\r\n\t}\r\n\t\r\n\tmodule.exports = replaceSpace;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranParam = __webpack_require__(8),\r\n\t  tranElem = __webpack_require__(5),\r\n\t  checkTagElem = __webpack_require__(11),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//检测元素节点\r\n\tfunction checkElem(obj, parent) {\r\n\t  var node = {},\r\n\t    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\t\r\n\t  if (!tools.isArray(obj)) {  //判断是否为文本节点\r\n\t    if (tools.isObject(obj) && '_njShim' in obj && !tools.isArray(obj._njShim)) {  //Get the shim value\r\n\t      obj = obj._njShim;\r\n\t    }\r\n\t\r\n\t    //if (tools.isString(obj)) {\r\n\t    node.type = 'nj_plaintext';\r\n\t    node.content = [tranParam.compiledParam(obj)];\r\n\t    parent[parentContent].push(node);\r\n\t    //}\r\n\t\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var first = obj[0];\r\n\t  if (tools.isString(first)) {  //第一个子节点为字符串\r\n\t    var first = first,\r\n\t      len = obj.length,\r\n\t      last = obj[len - 1],\r\n\t      isElemNode = false,\r\n\t      control,\r\n\t      refer;\r\n\t\r\n\t    //判断是否为xml标签\r\n\t    var xmlOpenTag = tranElem.getXmlOpenTag(first),\r\n\t      openTagName,\r\n\t      hasCloseTag = false,\r\n\t      isTmpl, isParamsExpr;\r\n\t\r\n\t    if (xmlOpenTag) {  //tagname为xml标签时,则认为是元素节点\r\n\t      openTagName = xmlOpenTag[1];\r\n\t\r\n\t      if (!tranElem.isXmlSelfCloseTag(first)) {  //非自闭合标签才验证是否存在关闭标签\r\n\t        hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\r\n\t      }\r\n\t      else {  //自闭合标签\r\n\t        node.selfCloseTag = true;\r\n\t      }\r\n\t      isElemNode = true;\r\n\t    }\r\n\t    else {\r\n\t      control = tranElem.isControl(first);\r\n\t      if (!control) {  //tagname不为xml标签时,必须有结束标签才认为是元素节点\r\n\t        var openTag = tranElem.getOpenTag(first);\r\n\t        if (openTag) {\r\n\t          openTagName = openTag[0];\r\n\t\r\n\t          if (!tranElem.isSelfCloseTag(first)) {  //非自闭合标签\r\n\t            hasCloseTag = tranElem.isCloseTag(last, openTagName);\r\n\t            if (hasCloseTag) {\r\n\t              isElemNode = true;\r\n\t            }\r\n\t          }\r\n\t          else {  //如果是自闭合标签则直接认为是元素节点\r\n\t            node.selfCloseTag = true;\r\n\t            isElemNode = true;\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t      else {  //为特殊节点,也可视为一个元素节点\r\n\t        var ctrl = control[0].toLowerCase();\r\n\t        refer = control[1];\r\n\t        isTmpl = tranElem.isTmpl(ctrl);\r\n\t        isParamsExpr = tranElem.isParamsExpr(ctrl);\r\n\t\r\n\t        node.type = 'nj_expr';\r\n\t        node.expr = ctrl;\r\n\t        if (refer != null && !isTmpl) {\r\n\t          node.refer = tranParam.compiledParam(refer);\r\n\t        }\r\n\t\r\n\t        if (tranElem.isControlCloseTag(last, ctrl)) {  //判断是否有流程控制块闭合标签\r\n\t          hasCloseTag = true;\r\n\t        }\r\n\t        isElemNode = true;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    if (isElemNode) {  //判断是否为元素节点\r\n\t      var elseIndex = -1,\r\n\t        pushContent = true;\r\n\t\r\n\t      if (!control) {\r\n\t        node.type = openTagName;\r\n\t\r\n\t        //If open tag has a brace,add the typeRefer param.\r\n\t        var typeRefer = tranElem.getInsideBraceParam(openTagName);\r\n\t        if (typeRefer) {\r\n\t          node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n\t        }\r\n\t\r\n\t        //获取openTag内参数\r\n\t        var tagParams = tranElem.getOpenTagParams(first, !xmlOpenTag);\r\n\t        if (tagParams) {\r\n\t          if (!node.params) {\r\n\t            node.params = tools.lightObj();\r\n\t          }\r\n\t\r\n\t          tools.each(tagParams, function (param) {\r\n\t            node.params[param.key] = tranParam.compiledParam(param.value);\r\n\t          }, false, true);\r\n\t        }\r\n\t\r\n\t        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n\t        if (!node.selfCloseTag) {\r\n\t          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\r\n\t        }\r\n\t      }\r\n\t      else {  //为表达式块时判断是否有$else\r\n\t        if (isTmpl) {  //模板元素\r\n\t          pushContent = false;\r\n\t          var retR = tranElem.getInsideBraceParam(refer);\r\n\t\r\n\t          //将模板添加到父节点的params中\r\n\t          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n\t        }\r\n\t        else if (isParamsExpr) {\r\n\t          pushContent = false;\r\n\t        }\r\n\t        else {\r\n\t          elseIndex = tools.inArray(obj, tmplRule.exprRule + 'else');\r\n\t        }\r\n\t      }\r\n\t\r\n\t      //放入父节点content内\r\n\t      if (pushContent) {\r\n\t        parent[parentContent].push(node);\r\n\t      }\r\n\t\r\n\t      //取出子节点集合\r\n\t      var end = len - (hasCloseTag ? 1 : 0),\r\n\t        content = obj.slice(1, (elseIndex < 0 ? end : elseIndex));\r\n\t      if (content && content.length) {\r\n\t        checkContentElem(content, node);\r\n\t      }\r\n\t\r\n\t      //如果有$else,则将$else后面的部分存入content_else集合中\r\n\t      if (elseIndex >= 0) {\r\n\t        var contentElse = obj.slice(elseIndex + 1, end);\r\n\t        node.hasElse = true;\r\n\t\r\n\t        if (contentElse && contentElse.length) {\r\n\t          checkContentElem(contentElse, node);\r\n\t        }\r\n\t      }\r\n\t\r\n\t      //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n\t      if (isParamsExpr) {\r\n\t        tranElem.addParamsExpr(node, parent);\r\n\t      }\r\n\t    }\r\n\t    else {  //如果不是元素节点,则为节点集合\r\n\t      checkContentElem(obj, parent);\r\n\t    }\r\n\t  }\r\n\t  else if (tools.isArray(first)) {  //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\r\n\t    checkContentElem(obj, parent);\r\n\t  }\r\n\t}\r\n\t\r\n\t//检测子元素节点\r\n\tfunction checkContentElem(obj, parent) {\r\n\t  if (!parent.content) {\r\n\t    parent.content = [];\r\n\t  }\r\n\t  if (parent.hasElse && !parent.contentElse) {\r\n\t    parent.contentElse = [];\r\n\t  }\r\n\t\r\n\t  tools.each(obj, function (item) {\r\n\t    checkElem(item, parent);\r\n\t  }, false, true);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  checkElem: checkElem,\r\n\t  checkTagElem: checkTagElem\r\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranParam = __webpack_require__(8),\r\n\t  tranElem = __webpack_require__(5),\r\n\t  tmplRule = nj.tmplRule;\r\n\t\r\n\t//检测标签元素节点\r\n\tfunction checkTagElem(obj, parent) {\r\n\t  var node = {},\r\n\t    nodeType = obj.nodeType,\r\n\t    nodeValue = tools.trim(obj.nodeValue),\r\n\t    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\t\r\n\t  //处理文本节点\r\n\t  if (nodeType === 3) {\r\n\t    if (nodeValue === '') {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    node.type = 'nj_plaintext';\r\n\t    node.content = [tranParam.compiledParam(nodeValue)];\r\n\t    parent[parentContent].push(node);\r\n\t\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  //处理元素节点\r\n\t  if (nodeType === 1) {\r\n\t    var tagName = tranElem.getTagComponentName(obj),\r\n\t      params = tranElem.getTagComponentAttrs(obj),\r\n\t      isControl = tranElem.isTagControl(tagName),\r\n\t      pushContent = true,\r\n\t      isParamsExpr;\r\n\t\r\n\t    if (isControl) {  //特殊节点\r\n\t      if (tagName !== tmplRule.exprRule + 'else') {\r\n\t        tagName = tagName.substr(1);\r\n\t        node.type = 'nj_expr';\r\n\t        node.expr = tagName;\r\n\t        isParamsExpr = tranElem.isParamsExpr(tagName);\r\n\t\r\n\t        if (tranElem.isTmpl(tagName)) {  //模板元素\r\n\t          pushContent = false;\r\n\t          var retR;\r\n\t          if (params && params.refer) {\r\n\t            retR = tranElem.getInsideBraceParam(params.refer);\r\n\t          }\r\n\t\r\n\t          //将模板添加到父节点的params中\r\n\t          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n\t        }\r\n\t        else if (isParamsExpr) {\r\n\t          pushContent = false;\r\n\t        }\r\n\t        else {  //Expression block\r\n\t          if (params && params.refer) {\r\n\t            var retR = tranElem.getInsideBraceParam(params.refer);\r\n\t            node.refer = tranParam.compiledParam(retR ? retR[0] : params.refer);\r\n\t          }\r\n\t        }\r\n\t      }\r\n\t      else {  //else节点\r\n\t        pushContent = false;\r\n\t\r\n\t        //将else标签内的子节点放入当前父节点的contentElse中\r\n\t        node = parent;\r\n\t        node.hasElse = true;\r\n\t      }\r\n\t    }\r\n\t    else {  //元素节点\r\n\t      node.type = tagName;\r\n\t\r\n\t      //If open tag has a brace,add the typeRefer param.\r\n\t      var typeRefer = tranElem.getInsideBraceParam(tagName);\r\n\t      if (typeRefer) {\r\n\t        node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n\t      }\r\n\t\r\n\t      if (params) {\r\n\t        node.params = tranParam.compiledParams(params);\r\n\t      }\r\n\t\r\n\t      //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n\t      node.selfCloseTag = tranElem.verifySelfCloseTag(tagName);\r\n\t    }\r\n\t\r\n\t    //放入父节点content内\r\n\t    if (pushContent) {\r\n\t      parent[parentContent].push(node);\r\n\t    }\r\n\t\r\n\t    //处理子元素\r\n\t    var childNodes = obj.childNodes;\r\n\t    if (childNodes && childNodes.length) {\r\n\t      checkTagContentElem(childNodes, node);\r\n\t    }\r\n\t\r\n\t    //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n\t    if (isParamsExpr) {\r\n\t      tranElem.addParamsExpr(node, parent);\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//检测标签子元素节点\r\n\tfunction checkTagContentElem(obj, parent) {\r\n\t  if (!parent.content) {\r\n\t    parent.content = [];\r\n\t  }\r\n\t  if (parent.hasElse && !parent.contentElse) {\r\n\t    parent.contentElse = [];\r\n\t  }\r\n\t\r\n\t  tools.each(obj, function (item) {\r\n\t    checkTagElem(item, parent);\r\n\t  }, false, true);\r\n\t}\r\n\t\r\n\t//Set init data for tag component\r\n\tnj.setInitTagData = function (data) {\r\n\t  nj.initTagData = data;\r\n\t};\r\n\t\r\n\tmodule.exports = checkTagElem;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\t//Set component engine\r\n\tfunction setComponentEngine(name, obj, dom, port, render) {\r\n\t  //Component engine's name\r\n\t  nj.componentLib = name;\r\n\t\r\n\t  //Component engine's object\r\n\t  nj.componentLibObj = obj;\r\n\t\r\n\t  //Component engine's dom object\r\n\t  dom = dom || obj;\r\n\t  nj.componentLibDom = dom;\r\n\t\r\n\t  //Component engine's create element and render function\r\n\t  if (name === 'react') {\r\n\t    port = 'createElement';\r\n\t    render = 'render';\r\n\t  }\r\n\t  nj.componentPort = tools.isString(port) ? obj[port] : port;\r\n\t  nj.componentRender = tools.isString(render) ? dom[render] : render;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  setComponentEngine: setComponentEngine\r\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\t//注册组件\r\n\tfunction registerComponent(name, component) {\r\n\t  var params = name;\r\n\t  if (!tools.isObject(name)) {\r\n\t    params = {};\r\n\t    params[name] = component;\r\n\t  }\r\n\t\r\n\t  tools.each(params, function (v, k) {\r\n\t    nj.componentClasses[k.toLowerCase()] = v;\r\n\t  }, false, false);\r\n\t\r\n\t  return component;\r\n\t}\r\n\t\r\n\t//注册组件标签命名空间\r\n\tfunction setNamespace(name) {\r\n\t  nj.namespace = name;\r\n\t\r\n\t  //修改标签组件id及类名\r\n\t  nj.tagId = name + '-id';\r\n\t  nj.tagStyle = name + '-style';\r\n\t  nj.tagClassName = name + '-component';\r\n\t}\r\n\t\r\n\t//创建标签命名空间\r\n\tfunction registerTagNamespace(name) {\r\n\t  if (!name) {\r\n\t    name = 'nj';\r\n\t  }\r\n\t  nj.tagNamespaces[name] = name;\r\n\t\r\n\t  if (typeof document === 'undefined') {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var doc = document;\r\n\t  if (doc && doc.namespaces) {\r\n\t    doc.namespaces.add(name, 'urn:schemas-microsoft-com:vml', '#default#VML');\r\n\t  }\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  registerComponent: registerComponent,\r\n\t  setNamespace: setNamespace,\r\n\t  registerTagNamespace: registerTagNamespace\r\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\t//Global filter list\r\n\tnj.filters = {\r\n\t  //Get param properties\r\n\t  prop: function (obj, props) {\r\n\t    var ret = obj;\r\n\t    ret && tools.each(props.split('.'), function (p) {\r\n\t      ret = ret[p];\r\n\t    }, false, true);\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Get list count\r\n\t  count: function (obj) {\r\n\t    return obj ? obj.length : 0;\r\n\t  },\r\n\t\r\n\t  //Get list item\r\n\t  item: function (obj, no) {\r\n\t    return obj ? obj[no] : null;\r\n\t  },\r\n\t\r\n\t  //Judge equal\r\n\t  equal: function (obj, val) {\r\n\t    return obj == val;\r\n\t  },\r\n\t\r\n\t  //Less than\r\n\t  lt: function (val1, val2, noEqual) {\r\n\t    var ret;\r\n\t    val1 = parseFloat(val1);\r\n\t    val2 = parseFloat(val2);\r\n\t\r\n\t    if (noEqual) {\r\n\t      ret = val1 < val2;\r\n\t    }\r\n\t    else {\r\n\t      ret = val1 <= val2;\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Greater than\r\n\t  gt: function (val1, val2, noEqual) {\r\n\t    var ret;\r\n\t    val1 = parseFloat(val1);\r\n\t    val2 = parseFloat(val2);\r\n\t\r\n\t    if (noEqual) {\r\n\t      ret = val1 > val2;\r\n\t    }\r\n\t    else {\r\n\t      ret = val1 >= val2;\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Addition\r\n\t  add: function (val1, val2, isFloat) {\r\n\t    return val1 + (isFloat ? parseFloat(val2) : parseInt(val2, 10));\r\n\t  },\r\n\t\r\n\t  //Convert to int \r\n\t  int: function (val) {\r\n\t    return parseInt(val, 10);\r\n\t  },\r\n\t\r\n\t  //Convert to float \r\n\t  float: function (val) {\r\n\t    return parseFloat(val);\r\n\t  },\r\n\t\r\n\t  //Convert to boolean \r\n\t  bool: function (val) {\r\n\t    if (val === 'false') {\r\n\t      return false;\r\n\t    }\r\n\t\r\n\t    return Boolean(val);\r\n\t  }\r\n\t};\r\n\t\r\n\t//Register filter and also can batch add\r\n\tfunction registerFilter(name, filter) {\r\n\t  var params = name;\r\n\t  if (!tools.isObject(name)) {\r\n\t    params = {};\r\n\t    params[name] = filter;\r\n\t  }\r\n\t\r\n\t  tools.each(params, function (v, k) {\r\n\t    nj.filters[k.toLowerCase()] = v;\r\n\t  }, false, false);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  registerFilter: registerFilter\r\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\t//Global expression list\r\n\tnj.exprs = {\r\n\t  'if': function (refer, useUnless) {\r\n\t    if (refer === 'false') {\r\n\t      refer = false;\r\n\t    }\r\n\t\r\n\t    var referR, ret;\r\n\t    if (!useUnless) {\r\n\t      referR = !!refer;\r\n\t    }\r\n\t    else {\r\n\t      referR = !!!refer;\r\n\t    }\r\n\t    if (referR) {\r\n\t      ret = this.result();\r\n\t    }\r\n\t    else {\r\n\t      ret = this.inverse();\r\n\t    }\r\n\t\r\n\t    if (this.useString && ret == null) {\r\n\t      return '';\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  unless: function (refer) {\r\n\t    return nj.exprs['if'].call(this, refer, true);\r\n\t  },\r\n\t\r\n\t  each: function (refer) {\r\n\t    var thiz = this,\r\n\t      useString = thiz.useString,\r\n\t      ret;\r\n\t\r\n\t    if (refer) {\r\n\t      if (useString) {\r\n\t        ret = '';\r\n\t      }\r\n\t      else {\r\n\t        ret = [];\r\n\t      }\r\n\t\r\n\t      tools.each(refer, function (item, index) {\r\n\t        var retI = thiz.result({\r\n\t          loop: true,\r\n\t          item: item,\r\n\t          index: index\r\n\t        });\r\n\t\r\n\t        if (useString) {\r\n\t          ret += retI;\r\n\t        }\r\n\t        else {\r\n\t          tools.listPush(ret, retI, true);\r\n\t        }\r\n\t      }, false, tools.isArray(refer));\r\n\t\r\n\t      //Return null when not use string and result is empty.\r\n\t      if (!useString && !ret.length) {\r\n\t        ret = null;\r\n\t      }\r\n\t    }\r\n\t    else {\r\n\t      ret = thiz.inverse();\r\n\t      if (useString && ret == null) {\r\n\t        ret = '';\r\n\t      }\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  //Parameter\r\n\t  param: function () {\r\n\t    var ret = this.result(),  //Get parameter value\r\n\t      name = '',\r\n\t      value;\r\n\t\r\n\t    //Make property name by multiple parameters\r\n\t    tools.each(arguments, function (item, i) {\r\n\t      name += item;\r\n\t    }, false, true);\r\n\t\r\n\t    //If the value length greater than 1, it need to be connected to a whole string.\r\n\t    if (ret != null) {\r\n\t      if (ret.length > 1) {\r\n\t        value = '';\r\n\t        tools.each(ret, function (item) {\r\n\t          value += item;\r\n\t        }, false, true);\r\n\t      }\r\n\t      else {\r\n\t        value = ret[0];\r\n\t\r\n\t        //The \"_njShim\" property is used to distinguish whether the incoming is an normal array.\r\n\t        if (value && value._njShim) {\r\n\t          value = value._njShim;\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    else {  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n\t      value = name;\r\n\t    }\r\n\t\r\n\t    this.paramsExpr[name] = value;\r\n\t  },\r\n\t\r\n\t  //Spread parameters\r\n\t  spreadparam: function (refer) {\r\n\t    if (!refer) {\r\n\t      return;\r\n\t    }\r\n\t\r\n\t    var thiz = this;\r\n\t    tools.each(refer, function (v, k) {\r\n\t      thiz.paramsExpr[k] = v;\r\n\t    }, false, false);\r\n\t  },\r\n\t\r\n\t  equal: function (value1, value2) {\r\n\t    var ret;\r\n\t    if (value1 == value2) {\r\n\t      ret = this.result();\r\n\t    }\r\n\t    else {\r\n\t      ret = this.inverse();\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  },\r\n\t\r\n\t  'for': function (start, end) {\r\n\t    var ret, useString = this.useString;\r\n\t    if (useString) {\r\n\t      ret = '';\r\n\t    }\r\n\t    else {\r\n\t      ret = [];\r\n\t    }\r\n\t\r\n\t    if (end == null) {\r\n\t      end = start;\r\n\t      start = 0;\r\n\t    }\r\n\t    start = parseInt(start, 10);\r\n\t    end = parseInt(end, 10);\r\n\t\r\n\t    for (; start <= end; start++) {\r\n\t      var retI = this.result({\r\n\t        loop: true,\r\n\t        item: this.data[0],\r\n\t        index: start\r\n\t      });\r\n\t\r\n\t      if (useString) {\r\n\t        ret += retI;\r\n\t      }\r\n\t      else {\r\n\t        tools.listPush(ret, retI, true);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    return ret;\r\n\t  }\r\n\t};\r\n\t\r\n\t//Expression alias\r\n\tnj.exprs.p = nj.exprs.param;\r\n\tnj.exprs.spread = nj.exprs.spreadparam;\r\n\t\r\n\t//Register expression and also can batch add\r\n\tfunction registerExpr(name, expr) {\r\n\t  var params = name;\r\n\t  if (!tools.isObject(name)) {\r\n\t    params = {};\r\n\t    params[name] = expr;\r\n\t  }\r\n\t\r\n\t  tools.each(params, function (v, k) {\r\n\t    nj.exprs[k.toLowerCase()] = v;\r\n\t  }, false, false);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  registerExpr: registerExpr\r\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3);\r\n\t\r\n\tfunction _createRegExp(reg, mode) {\r\n\t  return new RegExp(reg, mode);\r\n\t}\r\n\t\r\n\t//Clear the repeated characters\r\n\tfunction _clearRepeat(str) {\r\n\t  var ret = '',\r\n\t    i = 0,\r\n\t    l = str.length,\r\n\t    char;\r\n\t\r\n\t  for (; i < l; i++) {\r\n\t    char = str[i];\r\n\t    if (ret.indexOf(char) < 0) {\r\n\t      ret += char;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = function (beginRule, endRule, exprRule) {\r\n\t  if (!beginRule) {\r\n\t    beginRule = '{';\r\n\t  }\r\n\t  if (!endRule) {\r\n\t    endRule = '}';\r\n\t  }\r\n\t  if (!exprRule) {\r\n\t    exprRule = '#';\r\n\t  }\r\n\t\r\n\t  var allRules = _clearRepeat(beginRule + endRule),\r\n\t    firstChar = beginRule[0],\r\n\t    otherChars = allRules.substr(1),\r\n\t    exprRules = _clearRepeat(exprRule),\r\n\t    escapeExprRule = exprRule.replace(/\\$/g, '\\\\$');\r\n\t\r\n\t  //Reset the regexs to global list\r\n\t  tools.assign(nj.tmplRule, {\r\n\t    beginRule: beginRule,\r\n\t    endRule: endRule,\r\n\t    exprRule: exprRule,\r\n\t    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*)[^>]*>$', 'i'),\r\n\t    openTag: _createRegExp('^[a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*', 'i'),\r\n\t    insideBraceParam: _createRegExp(beginRule + '([^' + allRules + ']+)' + endRule, 'i'),\r\n\t    replaceBraceParam: function() {\r\n\t      return _createRegExp('[\\\\s]+(' + beginRule + '){1,2}([^' + allRules + ']+)(' + endRule + '){1,2}', 'g')\r\n\t    },\r\n\t    replaceSplit: _createRegExp('(?:' + beginRule + '){1,2}[^' + allRules + ']+(?:' + endRule + '){1,2}'),\r\n\t    replaceParam: function() {\r\n\t      return _createRegExp('((' + beginRule + '){1,2})([^' + allRules + ']+)(' + endRule + '){1,2}', 'g');\r\n\t    },\r\n\t    checkElem: function() {\r\n\t      return _createRegExp('([^>]*)(<([a-z' + firstChar + '\\/' + exprRules + '!][-a-z0-9_:.' + allRules + exprRules + ']*)[^>]*>)([^<]*)', 'ig');\r\n\t    },\r\n\t    expr: _createRegExp('^' + escapeExprRule + '([^\\\\s]+)', 'i')\r\n\t  });\r\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  tranString = __webpack_require__(18),\r\n\t  tranComponent = __webpack_require__(20),\r\n\t  compileStringTmpl = __webpack_require__(21);\r\n\t\r\n\t//编译模板并返回转换函数\r\n\tfunction compile(obj, tmplName, isComponent, isTag) {\r\n\t  if (!obj) {\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var root;\r\n\t  if (tmplName) {\r\n\t    root = nj.templates[tmplName];\r\n\t  }\r\n\t  if (!root) {\r\n\t    //If obj is Object,we think obj is a precompiled template\r\n\t    if (utils.isObject(obj) && obj.type === 'nj_root') {\r\n\t      root = obj;\r\n\t    }\r\n\t    else {\r\n\t      root = _createRoot();\r\n\t\r\n\t      //Auto transform string template to array\r\n\t      if (utils.isString(obj)) {\r\n\t        obj = compileStringTmpl(obj);\r\n\t      }\r\n\t\r\n\t      //分析传入参数并转换为节点树对象\r\n\t      if (isTag) {\r\n\t        utils.checkTagElem(obj, root);\r\n\t      }\r\n\t      else {\r\n\t        utils.checkElem(obj, root);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    //保存模板编译结果到全局集合中\r\n\t    if (tmplName) {\r\n\t      nj.templates[tmplName] = root;\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return function () {\r\n\t    var args = arguments,\r\n\t      len = args.length,\r\n\t      data;\r\n\t\r\n\t    if (len <= 0) {\r\n\t      data = {};\r\n\t    }\r\n\t    else if (len === 1) {\r\n\t      data = args[0];\r\n\t    }\r\n\t    else {\r\n\t      data = [];\r\n\t      utils.each(args, function (item) {\r\n\t        data[data.length] = item;\r\n\t      }, false, true);\r\n\t    }\r\n\t\r\n\t    var ret;\r\n\t    if (isComponent) {  //转换组件\r\n\t      ret = tranComponent.transformToComponent(root.content[0], data);\r\n\t      if (utils.isArray(ret)) {  //组件最外层必须是单一节点对象\r\n\t        ret = ret[0];\r\n\t      }\r\n\t    }\r\n\t    else {  //转换字符串\r\n\t      ret = tranString.transformContentToString(root.content, data);\r\n\t    }\r\n\t    return ret;\r\n\t  };\r\n\t}\r\n\t\r\n\t//Create template root object\r\n\tfunction _createRoot() {\r\n\t  var root = utils.lightObj();\r\n\t  root.type = 'nj_root';\r\n\t  root.content = [];\r\n\t\r\n\t  return root;\r\n\t}\r\n\t\r\n\t//编译字面量并返回组件转换函数\r\n\tfunction compileComponent(obj, tmplName) {\r\n\t  return compile(obj, tmplName, true);\r\n\t}\r\n\t\r\n\t//编译标签并返回组件转换函数\r\n\tfunction compileTagComponent(obj, tmplName) {\r\n\t  return compile(obj, tmplName, true, true);\r\n\t}\r\n\t\r\n\t//渲染标签组件\r\n\tfunction renderTagComponent(data, selector) {\r\n\t  var tags = utils.getTagComponents(selector),\r\n\t    ret = [];\r\n\t\r\n\t  utils.each(tags, function (tag) {\r\n\t    var tmpl = compileTagComponent(tag, tag.getAttribute(nj.tagId)),\r\n\t      parentNode = tag.parentNode;\r\n\t\r\n\t    if (nj.componentLib === 'inferno') {\r\n\t      utils.removeChildNode(parentNode);\r\n\t    }\r\n\t    ret.push(nj.componentRender(tmpl(data), parentNode));\r\n\t  }, false, true);\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Precompile template\r\n\tfunction precompile(obj) {\r\n\t  var root = _createRoot();\r\n\t  utils.checkElem(obj, root);\r\n\t\r\n\t  return root;\r\n\t}\r\n\t\r\n\t//Render tmpl expression block\r\n\tvar _renderTmplExpr = compileComponent(['<{container}>', '{tmpl}'], 'tmplExpr');\r\n\tfunction renderTmplExpr(tmpl, data, container) {\r\n\t  if (!container) {\r\n\t    container = 'div';\r\n\t  }\r\n\t\r\n\t  var extra = { tmpl: tmpl, container: container },\r\n\t    datas;\r\n\t\r\n\t  if (utils.isArray(data)) {\r\n\t    datas = data;\r\n\t    datas[datas.length] = extra;\r\n\t  }\r\n\t  else {\r\n\t    datas = [data, extra];\r\n\t  }\r\n\t\r\n\t  return _renderTmplExpr(datas);\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  compile: compile,\r\n\t  compileComponent: compileComponent,\r\n\t  compileTagComponent: compileTagComponent,\r\n\t  renderTagComponent: renderTagComponent,\r\n\t  precompile: precompile,\r\n\t  renderTmplExpr: renderTmplExpr\r\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  transformContent = __webpack_require__(19),\r\n\t  transformContentToString = transformContent(transformToString, true),  //转换子节点为字符串\r\n\t  transformContentToArray = transformContent(transformToString, false),  //转换子节点为数组\r\n\t  errorTitle = nj.errorTitle;\r\n\t\r\n\t//转换节点为字符串\r\n\tfunction transformToString(obj, data, parent, paramsExpr) {\r\n\t  var ret = '';\r\n\t\r\n\t  if (obj.type === 'nj_plaintext') {\r\n\t    //替换插入在文本中的参数\r\n\t    ret = utils.replaceParams(obj.content[0], data, false, false, parent, true);\r\n\t  }\r\n\t  else if (obj.type === 'nj_expr') {  //Expression block\r\n\t    var dataRefer = utils.getExprParam(obj.refer, data, parent, true),\r\n\t      hasElse = obj.hasElse,\r\n\t      expr = nj.exprs[obj.expr],\r\n\t      itemIsArray;\r\n\t\r\n\t    utils.throwIf(expr, errorTitle + 'Expression \"' + obj.expr + '\" is undefined, please check it has been registered.');\r\n\t\r\n\t    //Create expression's context object and set parameters\r\n\t    var thisObj = utils.lightObj();\r\n\t    thisObj.data = data;\r\n\t    if (parent) {\r\n\t      thisObj.parent = parent.parent;\r\n\t      thisObj.index = parent.index;\r\n\t    }\r\n\t    thisObj.useString = true;\r\n\t    thisObj.paramsExpr = paramsExpr;\r\n\t    thisObj.result = function (param) {\r\n\t      if (param && param.loop) {\r\n\t        if (itemIsArray == null) {\r\n\t          itemIsArray = utils.isArray(data);\r\n\t        }\r\n\t\r\n\t        //Create a parent data object\r\n\t        var _parent = utils.lightObj();\r\n\t        _parent.data = param.item;\r\n\t        _parent.parent = parent;\r\n\t        _parent.index = param.index;\r\n\t\r\n\t        return transformContentToString(obj.content, utils.getItemParam(param.item, data, itemIsArray), _parent, paramsExpr);\r\n\t      }\r\n\t      else {\r\n\t        return transformContentToString(obj.content, data, parent, paramsExpr);\r\n\t      }\r\n\t    };\r\n\t    thisObj.inverse = function () {\r\n\t      return hasElse ? transformContentToString(obj.contentElse, data, parent, paramsExpr) : null;\r\n\t    };\r\n\t\r\n\t    //Execute expression block\r\n\t    ret = expr.apply(thisObj, dataRefer);\r\n\t  }\r\n\t  else {\r\n\t    var type = obj.type;\r\n\t\r\n\t    //If typeRefer isn't undefined,use it to replace the node type.\r\n\t    if (obj.typeRefer) {\r\n\t      var typeRefer = utils.replaceParams(obj.typeRefer, data, false, false, parent, true);\r\n\t      if (typeRefer) {\r\n\t        type = typeRefer;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    //Make parameters from the parameters expression.\r\n\t    var exprP = obj.paramsExpr,\r\n\t      paramsE;\r\n\t    if (exprP) {\r\n\t      paramsE = utils.lightObj();\r\n\t      transformContentToArray(exprP.content, data, parent, paramsE);\r\n\t    }\r\n\t\r\n\t    var openTag = '<' + type + utils.transformParams(obj.params, data, parent, paramsE);\r\n\t    if (!obj.selfCloseTag) {\r\n\t      ret = openTag + '>' + transformContentToString(obj.content, data, parent) + '</' + type + '>';\r\n\t    }\r\n\t    else {  //自闭合标签\r\n\t      ret = openTag + '/>';\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  transformToString: transformToString,\r\n\t  transformContentToString: transformContentToString\r\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar utils = __webpack_require__(2);\r\n\t\r\n\tmodule.exports = function (transformNode, useString) {\r\n\t  return function (content, data, parent, paramsExpr) {\r\n\t    var ret = null;\r\n\t    if (useString) {\r\n\t      ret = '';\r\n\t    }\r\n\t\r\n\t    if (!content) {\r\n\t      return ret;\r\n\t    }\r\n\t    if (!parent) {  //Init a parent data object and cascade pass on the children node\r\n\t      parent = utils.lightObj();\r\n\t      if (data) {\r\n\t        parent.data = utils.isArray(data) ? data[0] : data;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    if (!useString) {\r\n\t      ret = [];\r\n\t    }\r\n\t    utils.each(content, function (obj) {\r\n\t      var retN = transformNode(obj, data, parent, paramsExpr);\r\n\t      if (!useString) {\r\n\t        utils.listPush(ret, retN, true, true);\r\n\t      }\r\n\t      else {\r\n\t        ret += retN;\r\n\t      }\r\n\t    }, false, true);\r\n\t\r\n\t    return ret;\r\n\t  };\r\n\t};\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  utils = __webpack_require__(2),\r\n\t  transformContentToComponent = __webpack_require__(19)(transformToComponent),  //转换子节点为组件节点\r\n\t  errorTitle = nj.errorTitle;\r\n\t\r\n\t//转换节点为组件节点\r\n\tfunction transformToComponent(obj, data, parent, paramsExpr) {\r\n\t  var ret = null;\r\n\t\r\n\t  if (obj.type === 'nj_plaintext') {\r\n\t    //替换插入在文本中的参数\r\n\t    ret = utils.replaceParams(obj.content[0], data, true, false, parent, false);\r\n\t\r\n\t    //执行模板数据\r\n\t    if (utils.isObject(ret) && ret.expr === 'tmpl') {\r\n\t      ret = transformContentToComponent(ret.content, data, parent);\r\n\t    }\r\n\t  }\r\n\t  else if (obj.type === 'nj_expr') {  //Expression block\r\n\t    var dataRefer = utils.getExprParam(obj.refer, data, parent, false),\r\n\t      hasElse = obj.hasElse,\r\n\t      expr = nj.exprs[obj.expr],\r\n\t      itemIsArray;\r\n\t\r\n\t    utils.throwIf(expr, errorTitle + 'Expression \"' + obj.expr + '\" is undefined, please check it has been registered.');\r\n\t\r\n\t    //Create expression's context object and set parameters\r\n\t    var thisObj = utils.lightObj();\r\n\t    thisObj.data = data;\r\n\t    if (parent) {\r\n\t      thisObj.parent = parent.parent;\r\n\t      thisObj.index = parent.index;\r\n\t    }\r\n\t    thisObj.useString = false;\r\n\t    thisObj.paramsExpr = paramsExpr;\r\n\t    thisObj.result = function (param) {\r\n\t      if (param && param.loop) {\r\n\t        if (itemIsArray == null) {\r\n\t          itemIsArray = utils.isArray(data);\r\n\t        }\r\n\t\r\n\t        //Create a parent data object\r\n\t        var _parent = utils.lightObj();\r\n\t        _parent.data = param.item;\r\n\t        _parent.parent = parent;\r\n\t        _parent.index = param.index;\r\n\t\r\n\t        return transformContentToComponent(obj.content, utils.getItemParam(param.item, data, itemIsArray), _parent, paramsExpr);\r\n\t      }\r\n\t      else {\r\n\t        return transformContentToComponent(obj.content, data, parent, paramsExpr);\r\n\t      }\r\n\t    };\r\n\t    thisObj.inverse = function () {\r\n\t      return hasElse ? transformContentToComponent(obj.contentElse, data, parent, paramsExpr) : null;\r\n\t    };\r\n\t\r\n\t    //Execute expression block\r\n\t    ret = expr.apply(thisObj, dataRefer);\r\n\t  }\r\n\t  else {\r\n\t    //如果有相应组件,则使用组件类作为type值\r\n\t    var componentClass = nj.componentClasses[obj.type.toLowerCase()],\r\n\t      type = componentClass ? componentClass : obj.type;\r\n\t\r\n\t    //If typeRefer isn't undefined,use it to replace the node type.\r\n\t    if (obj.typeRefer) {\r\n\t      var typeRefer = utils.replaceParams(obj.typeRefer, data, true, false, parent, false);\r\n\t      if (typeRefer) {\r\n\t        type = typeRefer;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    //Make parameters from the parameters expression.\r\n\t    var exprP = obj.paramsExpr,\r\n\t      paramsE;\r\n\t    if (exprP) {\r\n\t      paramsE = utils.lightObj();\r\n\t      transformContentToComponent(exprP.content, data, parent, paramsE);\r\n\t    }\r\n\t\r\n\t    //Make React.createElement's parameters\r\n\t    var params = [type,                                                  //组件名\r\n\t      utils.transformParamsToObj(obj.params, data, parent, paramsE)],    //参数\r\n\t      content = transformContentToComponent(obj.content, data, parent);  //子组件\r\n\t    if (content) {\r\n\t      utils.listPush(params, content);\r\n\t    }\r\n\t\r\n\t    //调用创建组件接口,必须需要用apply以多个参数的形式传参,否则在react中,元素放在数组里时会报需要加key属性的警告\r\n\t    ret = nj.componentPort.apply(nj.componentLibObj, params);\r\n\t  }\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\tmodule.exports = {\r\n\t  transformToComponent: transformToComponent,\r\n\t  transformContentToComponent: transformContentToComponent\r\n\t};\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\t\r\n\tvar nj = __webpack_require__(1),\r\n\t  tools = __webpack_require__(3),\r\n\t  tranElem = __webpack_require__(5),\r\n\t  REGEX_SPLIT = /\\$\\{\\d+\\}/,\r\n\t  tmplRule = nj.tmplRule,\r\n\t  shim = __webpack_require__(22);\r\n\t\r\n\t//Cache the string template by unique key\r\n\tnj.strTmpls = {};\r\n\t\r\n\t//Compile string template\r\n\tfunction compileStringTmpl(tmpl) {\r\n\t  var isStr = tools.isString(tmpl),\r\n\t    xmls = tmpl,\r\n\t    args = arguments,\r\n\t    splitNo = 0,\r\n\t    params = [],\r\n\t    fullXml = '';\r\n\t\r\n\t  if (isStr) {\r\n\t    xmls = tmpl.split(REGEX_SPLIT);\r\n\t  }\r\n\t\r\n\t  //Connection xml string\r\n\t  var l = xmls.length;\r\n\t  tools.each(xmls, function (xml, i) {\r\n\t    var split = '';\r\n\t    if (i < l - 1) {\r\n\t      var arg = args[i + 1],\r\n\t        last = xml.length - 1,\r\n\t        useShim = xml[last] === '@';\r\n\t\r\n\t      if (!tools.isString(arg) || useShim) {\r\n\t        split = '_nj-split' + splitNo + '_';\r\n\t\r\n\t        //Use the shim function to convert the parameter when the front of it with a \"@\" mark.\r\n\t        if (useShim) {\r\n\t          xml = xml.substr(0, last);\r\n\t          arg = shim(arg);\r\n\t        }\r\n\t\r\n\t        params.push(arg);\r\n\t        splitNo++;\r\n\t      }\r\n\t      else {\r\n\t        split = arg;\r\n\t      }\r\n\t    }\r\n\t\r\n\t    fullXml += xml + split;\r\n\t  }, false, true);\r\n\t\r\n\t  fullXml = _clearNotesAndBlank(fullXml);\r\n\t\r\n\t  //Get unique key\r\n\t  var tmplKey = tools.uniqueKey(fullXml + _paramsStr(params));\r\n\t\r\n\t  //If the cache already has template data, direct return the template.\r\n\t  var ret = nj.strTmpls[tmplKey];\r\n\t  if (ret) {\r\n\t    return ret;\r\n\t  }\r\n\t\r\n\t  //Resolve string to element\r\n\t  ret = _checkStringElem(fullXml, params);\r\n\t\r\n\t  //Set the properties for the template object\r\n\t  _setTmplProps(ret, tmplKey);\r\n\t\r\n\t  //Save to the cache\r\n\t  nj.strTmpls[tmplKey] = ret;\r\n\t\r\n\t  return ret;\r\n\t}\r\n\t\r\n\t//Resolve string to element\r\n\tfunction _checkStringElem(xml, params) {\r\n\t  var root = [],\r\n\t    current = {\r\n\t      elem: root,\r\n\t      elemName: 'root',\r\n\t      parent: null\r\n\t    },\r\n\t    parent = null,\r\n\t    pattern = tmplRule.checkElem(),\r\n\t    matchArr;\r\n\t\r\n\t  while ((matchArr = pattern.exec(xml))) {\r\n\t    var textBefore = matchArr[1],\r\n\t      elem = matchArr[2],\r\n\t      elemName = matchArr[3],\r\n\t      textAfter = matchArr[4];\r\n\t\r\n\t    //Text before tag\r\n\t    if (textBefore) {\r\n\t      if (/\\s/.test(textBefore[textBefore.length - 1])) {\r\n\t        textBefore = _formatText(textBefore);\r\n\t      }\r\n\t      _setText(textBefore, current.elem, params);\r\n\t    }\r\n\t\r\n\t    //Element tag\r\n\t    if (elem) {\r\n\t      if (elemName[0] === '/') {  //Close tag\r\n\t        if (elemName === '/' + current.elemName) {\r\n\t          current = current.parent;\r\n\t        }\r\n\t      }\r\n\t      else if (elem[elem.length - 2] === '/') {  //Self close tag\r\n\t        _setSelfCloseElem(elem, elemName, current.elem, params);\r\n\t      }\r\n\t      else {  //Open tag\r\n\t        parent = current;\r\n\t        current = {\r\n\t          elem: [],\r\n\t          elemName: elemName,\r\n\t          parent: parent\r\n\t        };\r\n\t\r\n\t        parent.elem.push(current.elem);\r\n\t        _setElem(elem, elemName, current.elem, params);\r\n\t      }\r\n\t    }\r\n\t\r\n\t    //Text after tag\r\n\t    if (textAfter) {\r\n\t      if (/\\s/.test(textAfter[0])) {\r\n\t        textAfter = _formatText(textAfter);\r\n\t      }\r\n\t      _setText(textAfter, current.elem, params);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return root;\r\n\t}\r\n\t\r\n\tfunction _clearNotesAndBlank(str) {\r\n\t  return str.replace(/<!--[\\s\\S]*?-->/g, '').replace(/>\\s+([^\\s<]*)\\s+</g, '>$1<').trim();\r\n\t}\r\n\t\r\n\tfunction _formatText(str) {\r\n\t  return str.replace(/\\n/g, '').trim();\r\n\t}\r\n\t\r\n\t//Merge parameters to string\r\n\tfunction _paramsStr(params) {\r\n\t  var str = '';\r\n\t  tools.each(params, function (p) {\r\n\t    if (tools.isArray(p)) {\r\n\t      str += '|' + _cascadeArr(p, true);\r\n\t    }\r\n\t    else {\r\n\t      str += '|' + JSON.stringify(p);\r\n\t    }\r\n\t  }, false, true);\r\n\t\r\n\t  return str;\r\n\t}\r\n\t\r\n\tfunction _cascadeArr(p, isArr) {\r\n\t  var str;\r\n\t  if (isArr || tools.isArray(p)) {\r\n\t    if (p.njKey != null) {\r\n\t      str = '+' + p.njKey;\r\n\t    }\r\n\t    else {\r\n\t      str = '';\r\n\t      for (var i = 0, l = p.length; i < l; i++) {\r\n\t        str += _cascadeArr(p[i]);\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t  else {\r\n\t    str = '+' + p;\r\n\t  }\r\n\t\r\n\t  return str;\r\n\t}\r\n\t\r\n\t//Set element node\r\n\tfunction _setElem(elem, elemName, elemArr, params, bySelfClose) {\r\n\t  var ret, paramsExpr;\r\n\t  if (elemName[0] === tmplRule.exprRule) {\r\n\t    ret = elem.substring(1, elem.length - 1);\r\n\t  }\r\n\t  else {\r\n\t    var retS = _getSplitParams(elem, params);\r\n\t    ret = retS.elem;\r\n\t    paramsExpr = retS.params;\r\n\t  }\r\n\t\r\n\t  if (bySelfClose) {\r\n\t    var retC = [ret];\r\n\t    if (paramsExpr) {\r\n\t      retC.push(paramsExpr);\r\n\t    }\r\n\t\r\n\t    elemArr.push(retC);\r\n\t  }\r\n\t  else {\r\n\t    elemArr.push(ret);\r\n\t    if (paramsExpr) {\r\n\t      elemArr.push(paramsExpr);\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\t//Extract split parameters\r\n\tfunction _getSplitParams(elem, params) {\r\n\t  var exprRule = tmplRule.exprRule,\r\n\t    beginRule = tmplRule.beginRule,\r\n\t    endRule = tmplRule.endRule,\r\n\t    paramsExpr;\r\n\t\r\n\t  //Replace the parameter like \"prop=_nj-split0_\".\r\n\t  elem = elem.replace(/([^\\s={}>]+)=['\"]?_nj-split(\\d+)_['\"]?/g, function (all, key, no) {\r\n\t    if (!paramsExpr) {\r\n\t      paramsExpr = [exprRule + 'params'];\r\n\t    }\r\n\t\r\n\t    paramsExpr.push([exprRule + \"param \" + beginRule + \"'\" + key + \"'\" + endRule, params[no]]);\r\n\t    return '';\r\n\t  });\r\n\t\r\n\t  //Replace the parameter like \"{...props}\" and \"{prop}\".\r\n\t  elem = elem.replace(tmplRule.replaceBraceParam(), function (all, begin, prop) {\r\n\t    prop = prop.trim();\r\n\t    var propN = prop.replace(/\\.\\.\\//g, '');\r\n\t\r\n\t    if (propN.indexOf('...') === 0) {\r\n\t      if (!paramsExpr) {\r\n\t        paramsExpr = [exprRule + 'params'];\r\n\t      }\r\n\t\r\n\t      paramsExpr.push([exprRule + 'spreadParam ' + beginRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\r\n\t      return ' ';\r\n\t    }\r\n\t    else {\r\n\t      return ' ' + propN + '=' + all.trim();\r\n\t    }\r\n\t  });\r\n\t\r\n\t  return {\r\n\t    elem: elem,\r\n\t    params: paramsExpr\r\n\t  };\r\n\t}\r\n\t\r\n\t//Set self close element node\r\n\tfunction _setSelfCloseElem(elem, elemName, elemArr, params) {\r\n\t  if (elemName === tmplRule.exprRule + 'else') {\r\n\t    elemArr.push(elem.substr(1, 5));\r\n\t  }\r\n\t  else {\r\n\t    _setElem(elem, elemName, elemArr, params, true);\r\n\t  }\r\n\t}\r\n\t\r\n\t//Set text node\r\n\tfunction _setText(text, elemArr, params) {\r\n\t  var pattern = /_nj-split(\\d+)_/g, matchArr,\r\n\t    splitNos = [];\r\n\t\r\n\t  while ((matchArr = pattern.exec(text))) {\r\n\t    splitNos.push(matchArr[1]);\r\n\t  }\r\n\t\r\n\t  if (splitNos.length) {\r\n\t    tools.each(text.split(/_nj-split(?:\\d+)_/), function (t) {\r\n\t      if (t !== '') {\r\n\t        elemArr.push(t);\r\n\t      }\r\n\t\r\n\t      var no = splitNos.shift();\r\n\t      if (no != null) {\r\n\t        elemArr.push(params[no]);\r\n\t      }\r\n\t    }, false, true);\r\n\t  }\r\n\t  else {\r\n\t    elemArr.push(text);\r\n\t  }\r\n\t}\r\n\t\r\n\t//Set template props\r\n\tfunction _setTmplProps(tmpl, key) {\r\n\t  tmpl.njKey = key;\r\n\t\r\n\t  tmpl.render = function () {\r\n\t    return nj.compile(this, this.njKey).apply(null, arguments);\r\n\t  };\r\n\t\r\n\t  tmpl.renderComp = function () {\r\n\t    return nj.compileComponent(this, this.njKey).apply(null, arguments);\r\n\t  };\r\n\t}\r\n\t\r\n\tmodule.exports = compileStringTmpl;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\t//Converts any value to the parameter of NornJ template can be parsed.\r\n\tmodule.exports = function (obj) {\r\n\t  return {\r\n\t    _njShim: obj\r\n\t  };\r\n\t};\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t'use strict';\r\n\t\r\n\tmodule.exports = function (callback) {\r\n\t  var doc = document;\r\n\t  if (doc.addEventListener) {\r\n\t    doc.addEventListener(\"DOMContentLoaded\", callback, false);\r\n\t  }\r\n\t  else {\r\n\t    self.attachEvent(\"onload\", callback);\r\n\t  }\r\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** nornj.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c54e3a4eb0fed341ee10\n **/","'use strict';\r\n\r\nvar nj = require('./core'),\r\n  utils = require('./utils/utils'),\r\n  setComponentEngine = utils.setComponentEngine,\r\n  compiler = require('./compiler/compile'),\r\n  registerComponent = require('./utils/registerComponent'),\r\n  compileStringTmpl = require('./checkElem/checkStringElem'),\r\n  docReady = require('./utils/docReady');\r\n\r\nnj.setComponentEngine = setComponentEngine;\r\nnj.setTmplRule = utils.setTmplRule;\r\nnj.registerFilter = utils.registerFilter;\r\nnj.registerExpr= utils.registerExpr;\r\nnj.compileStringTmpl = compileStringTmpl;\r\nnj.docReady = docReady;\r\nutils.assign(nj, compiler, registerComponent);\r\n\r\n//Create vml tag namespace(primarily for IE8)\r\nutils.registerTagNamespace();\r\n\r\n//Default use React as component engine\r\nif (typeof React !== 'undefined') {\r\n  setComponentEngine('react', React, typeof ReactDOM !== 'undefined' ? ReactDOM : null);\r\n}\r\n\r\nvar global;\r\nif (typeof self !== 'undefined') {\r\n  global = self;\r\n\r\n  //Init tag template\r\n  docReady(function () {\r\n    if (nj.componentLib && nj.autoRenderTag) {\r\n      nj.renderTagComponent(nj.initTagData);\r\n    }\r\n  });\r\n}\r\nelse {\r\n  global = this;\r\n}\r\n\r\nmodule.exports = global.NornJ = global.nj = nj;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/base.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\r\n\r\nfunction nj() {\r\n  return nj.compileStringTmpl.apply(null, arguments);\r\n}\r\n\r\nnj.componentLib = null;\r\nnj.componentLibObj = null;\r\nnj.componentLibDom = null;\r\nnj.componentPort = null;\r\nnj.componentRender = null;\r\nnj.componentClasses = {};\r\nnj.namespace = 'nj';\r\nnj.tagNamespaces = { nj: 'nj' };\r\nnj.tagId = 'nj-id';\r\nnj.tagStyle = 'nj-style';\r\nnj.tagClassName = 'nj-component';\r\nnj.templates = {};\r\nnj.errorTitle = 'NornJ:';\r\nnj.tmplRule = {};\r\nnj.autoRenderTag = true;\r\n\r\nmodule.exports = nj;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/core.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar tools = require('./tools'),\r\n  transformElement = require('../transforms/transformElement'),\r\n  transformParam = require('../transforms/transformParam'),\r\n  transformData = require('../transforms/transformData'),\r\n  escape = require('./escape'),\r\n  checkElem = require('../checkElem/checkElem'),\r\n  setComponentEngine = require('./setComponentEngine'),\r\n  registerComponent = require('./registerComponent'),\r\n  filter = require('./filter'),\r\n  expression = require('./expression'),\r\n  setTmplRule = require('./setTmplRule');\r\n\r\n//Set default param rule\r\nsetTmplRule();\r\n\r\nmodule.exports = tools.assign(\r\n  { \r\n    escape: escape,\r\n    setTmplRule: setTmplRule\r\n  },\r\n  checkElem,\r\n  setComponentEngine,\r\n  registerComponent,\r\n  filter,\r\n  expression,\r\n  tools,\r\n  transformElement,\r\n  transformParam,\r\n  transformData\r\n);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/utils.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  assign = require('object-assign'),\r\n  arrayProto = Array.prototype,\r\n  arrayEvery = arrayProto.every,\r\n  arrayForEach = arrayProto.forEach,\r\n  arrayPush = arrayProto.push;\r\n\r\n//Push one by one to array\r\nfunction listPush(arr1, arr2, checkIsArr, checkNotNull) {\r\n  if (checkIsArr && !isArray(arr2)) {\r\n    //Put the value at the end of the first array only when the second parameter is not null.\r\n    if (!checkNotNull || arr2 != null) {\r\n      arr1[arr1.length] = arr2;\r\n    }\r\n    return arr1;\r\n  }\r\n\r\n  arrayPush.apply(arr1, arr2);\r\n  return arr1;\r\n}\r\n\r\n//判断是否为数组\r\nfunction isArray(obj) {\r\n  return Array.isArray(obj);\r\n}\r\n\r\n//判断是否为对象\r\nfunction isObject(obj) {\r\n  var type = typeof obj;\r\n  return !isArray(obj) && (type === 'function' || type === 'object' && !!obj);\r\n}\r\n\r\n//判断是否为字符串\r\nfunction isString(obj) {\r\n  return Object.prototype.toString.call(obj) === '[object String]';\r\n}\r\n\r\n//获取属性值\r\nfunction _getProperty(key) {\r\n  return function (obj) {\r\n    return obj == null ? void 0 : obj[key];\r\n  };\r\n}\r\n\r\n//是否为类数组\r\nvar _getLength = _getProperty('length');\r\nfunction isArrayLike(obj) {\r\n  var length = _getLength(obj);\r\n  return typeof length == 'number' && length >= 0;\r\n}\r\n\r\n//遍历数组或对象\r\nfunction each(obj, func, context, isArr, useEvery) {\r\n  if (!obj) {\r\n    return;\r\n  }\r\n\r\n  var arrayEach;\r\n  if (useEvery) {\r\n    arrayEach = arrayEvery;\r\n  }\r\n  else {\r\n    arrayEach = arrayForEach;\r\n  }\r\n  if (isArr == null) {\r\n    isArr = isArrayLike(obj);\r\n  }\r\n\r\n  //设置回调函数上下文\r\n  context = context ? context : obj;\r\n\r\n  if (isArr) {\r\n    arrayEach.call(obj, function (o, i) {\r\n      var ret = func.call(context, o, i);\r\n\r\n      if (useEvery) {\r\n        if (ret === false) {\r\n          return ret;\r\n        }\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n  else {\r\n    var keys = Object.keys(obj);\r\n    arrayEach.call(keys, function (key) {\r\n      var ret = func.call(context, obj[key], key);\r\n\r\n      if (useEvery) {\r\n        if (ret === false) {\r\n          return ret;\r\n        }\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n//判断是否在数组内\r\nfunction inArray(obj, value) {\r\n  return obj.indexOf(value);\r\n}\r\n\r\n//去除字符串空格\r\nfunction trim(str) {\r\n  if (!!!str) {\r\n    return '';\r\n  }\r\n\r\n  return str.trim();\r\n}\r\n\r\n//抛出异常\r\nfunction throwIf(val, msg) {\r\n  if (!val) {\r\n    throw Error(msg || val);\r\n  }\r\n}\r\n\r\n//create a unique key\r\nfunction uniqueKey(str, hash) {\r\n  var len = str.length;\r\n  if (len == 0) {\r\n    return str;\r\n  }\r\n  if (hash == null) {\r\n    hash = 0;\r\n  }\r\n\r\n  var i, chr;\r\n  for (i = 0, len = str.length; i < len; i++) {\r\n    chr = str.charCodeAt(i);\r\n    hash = ((hash << 5) - hash) + chr;\r\n    hash |= 0;\r\n  }\r\n\r\n  return hash;\r\n}\r\n\r\n//create light weight object\r\nfunction lightObj() {\r\n  return Object.create(null);\r\n}\r\n\r\n//Clear quotation marks\r\nfunction clearQuot(value) {\r\n  var charF = value[0],\r\n    regex;\r\n\r\n  if (charF === '\\'') {\r\n    regex = /[']+/g;\r\n  }\r\n  else if (charF === '\"') {\r\n    regex = /[\"]+/g;\r\n  }\r\n  if (regex) {\r\n    value = value.replace(regex, '');\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\n//Transform to camel-case\r\nfunction toCamelCase(str) {\r\n  if (str.indexOf('-') > -1) {\r\n    str = str.replace(/-\\w/g, function (letter) {\r\n      return letter.substr(1).toUpperCase();\r\n    });\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nvar tools = {\r\n  isArray: isArray,\r\n  isArrayLike: isArrayLike,\r\n  isObject: isObject,\r\n  isString: isString,\r\n  each: each,\r\n  inArray: inArray,\r\n  trim: trim,\r\n  throwIf: throwIf,\r\n  assign: assign,\r\n  uniqueKey: uniqueKey,\r\n  lightObj: lightObj,\r\n  listPush: listPush,\r\n  clearQuot: clearQuot,\r\n  toCamelCase: toCamelCase\r\n};\r\n\r\n//绑定到nj对象\r\nassign(nj, tools);\r\n\r\nmodule.exports = tools;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/tools.js\n ** module id = 3\n ** module chunks = 0\n **/","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/object-assign/index.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranData = require('./transformData'),\r\n  tranParam = require('./transformParam'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//提取xml open tag\r\nfunction getXmlOpenTag(obj) {\r\n  return tmplRule.xmlOpenTag.exec(obj);\r\n}\r\n\r\n//验证xml self close tag\r\nvar REGEX_XML_SELF_CLOSE_TAG = /^<[^>]+\\/>$/i;\r\nfunction isXmlSelfCloseTag(obj) {\r\n  return REGEX_XML_SELF_CLOSE_TAG.test(obj);\r\n}\r\n\r\n//Verify self close tag name\r\nvar OMITTED_CLOSE_TAGS = {\r\n  'area': true,\r\n  'base': true,\r\n  'br': true,\r\n  'col': true,\r\n  'embed': true,\r\n  'hr': true,\r\n  'img': true,\r\n  'input': true,\r\n  'keygen': true,\r\n  'link': true,\r\n  'meta': true,\r\n  'param': true,\r\n  'source': true,\r\n  'track': true,\r\n  'wbr': true\r\n};\r\nfunction verifySelfCloseTag(tagName) {\r\n  return OMITTED_CLOSE_TAGS[tagName.toLowerCase()];\r\n}\r\n\r\n//Extract parameters inside the xml open tag\r\nfunction getOpenTagParams(obj, noXml) {\r\n  var pattern = /[\\s]+([^\\s={}>]+)(=(('[^']+')|(\"[^\"]+\")|([^\"'\\s]+)))?/g,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    var key = matchArr[1];\r\n    if (key === '/' || key === '/>') {  //If match to the last \"/\" or \"/>\", then continue the loop.\r\n      continue;\r\n    }\r\n\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    var value = matchArr[3],\r\n      charF, len, regex;\r\n    if (value != null) {\r\n      value = tools.clearQuot(value);  //Remove quotation marks\r\n    }\r\n    else {\r\n      value = key;  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n    }\r\n    len = value.length;\r\n\r\n    //Removed at the end of \"/>\" or \">\".\r\n    if (!noXml) {\r\n      if (value.lastIndexOf('/>') === len - 2) {\r\n        value = value.replace(/\\/>/, '');\r\n      }\r\n      else if (value.lastIndexOf('>') === len - 1) {\r\n        value = value.replace(/>/, '');\r\n      }\r\n    }\r\n\r\n    ret.push({ key: key, value: value });\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断xml close tag\r\nfunction isXmlCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj.toLowerCase() === '</' + tagName + '>';\r\n}\r\n\r\n//提取open tag\r\nfunction getOpenTag(obj) {\r\n  return tmplRule.openTag.exec(obj);\r\n}\r\n\r\n//验证self close tag\r\nvar REGEX_SELF_CLOSE_TAG = /\\/$/i;\r\nfunction isSelfCloseTag(obj) {\r\n  return REGEX_SELF_CLOSE_TAG.test(obj);\r\n}\r\n\r\n//判断close tag\r\nfunction isCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj.toLowerCase() === '/' + tagName.toLowerCase();\r\n}\r\n\r\n//get inside brace param\r\nfunction getInsideBraceParam(obj) {\r\n  return tmplRule.insideBraceParam.exec(obj);\r\n}\r\n\r\n//判断流程控制块并返回refer值\r\nfunction isControl(obj) {\r\n  var ret, ret1 = tmplRule.expr.exec(obj);\r\n  if (ret1) {\r\n    ret = [ret1[1]];\r\n\r\n    var ret2 = getInsideBraceParam(obj);  //提取refer值\r\n    if (ret2) {\r\n      ret.push(ret2[0]);\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//判断流程控制块close tag\r\nfunction isControlCloseTag(obj, tagName) {\r\n  return tools.isString(obj) && obj === '/' + tmplRule.exprRule + tagName;\r\n}\r\n\r\n//判断是否模板元素\r\nfunction isTmpl(obj) {\r\n  return obj === 'tmpl';\r\n}\r\n\r\n//加入到模板集合中\r\nfunction addTmpl(node, parent, name) {\r\n  var paramsP = parent.params;\r\n  if (!paramsP) {\r\n    paramsP = parent.params = tools.lightObj();\r\n  }\r\n\r\n  var tmpls = paramsP.tmpls;\r\n  if (!tmpls) {\r\n    var objT = { length: 0 };\r\n    if(name != null) {\r\n      objT[name] = node;\r\n    }\r\n    else {\r\n      objT['0'] = node;\r\n      objT.length = 1;\r\n    }\r\n\r\n    paramsP.tmpls = tranParam.compiledParam(objT);\r\n  }\r\n  else {  //Insert the compiled template to the parameter name for \"tmpls\"'s \"strs\" array.\r\n    var objT = tmpls.strs[0],\r\n      len = objT.length;\r\n\r\n    if(name != null) {\r\n      objT[name] = node;\r\n    }\r\n    else {\r\n      objT[len] = node;\r\n      objT.length = ++len;\r\n    }\r\n  }\r\n}\r\n\r\n//Test whether as parameters expression\r\nfunction isParamsExpr(obj) {\r\n  return obj === 'params';\r\n}\r\n\r\n//Add to the \"paramsExpr\" property of the parent node\r\nfunction addParamsExpr(node, parent) {\r\n  if (!parent.paramsExpr) {\r\n    parent.paramsExpr = node;\r\n  }\r\n  else {\r\n    tools.listPush(parent.paramsExpr.content, node.content);\r\n  }\r\n}\r\n\r\n//获取标签组件名\r\nfunction getTagComponentName(el) {\r\n  var tagName = el.tagName.toLowerCase();\r\n  tools.each(nj.tagNamespaces, function (tagNamespace) {\r\n    if (tagName.indexOf(tagNamespace + ':') === 0) {\r\n      tagName = tagName.split(':')[1];\r\n      return false;\r\n    }\r\n    else if (tagName.indexOf(tagNamespace + '-') === 0) {\r\n      tagName = tagName.split('-')[1];\r\n      return false;\r\n    }\r\n  }, false, false, true);\r\n\r\n  return tagName;\r\n}\r\n\r\n//获取标签组件所有属性\r\nfunction getTagComponentAttrs(el) {\r\n  var attrs = el.attributes,\r\n    ret;\r\n\r\n  tools.each(attrs, function (obj) {\r\n    var attrName = obj.nodeName;\r\n    if (attrName !== nj.tagId && obj.specified) {  //此处如不判断specified属性,则低版本IE中会列出所有可能的属性\r\n      var val = obj.nodeValue;\r\n      if (!ret) {\r\n        ret = tools.lightObj();\r\n      }\r\n\r\n      //Deal with the attribute only has key.\r\n      if (val === '') {\r\n        val = attrName;\r\n      }\r\n\r\n      if (attrName === 'style') {  //style属性使用cssText\r\n        val = el.style.cssText;\r\n      }\r\n      else if (attrName.indexOf('data-') !== 0  //Transform to camel-case\r\n        && attrName.indexOf(nj.namespace + '-') !== 0) {\r\n        //Can be marked with an exclamation mark to distinguish the attribute name beginning with \"data-\".\r\n        if (attrName.indexOf('!') === 0) {\r\n          attrName = attrName.substr(1);\r\n        }\r\n\r\n        attrName = tools.toCamelCase(attrName);\r\n      }\r\n\r\n      tranData.setObjParam(ret, attrName, val, true);\r\n    }\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\n//判断标签表达式块\r\nfunction isTagControl(obj) {\r\n  return tmplRule.expr.test(obj);\r\n}\r\n\r\n//获取全部标签组件\r\nfunction getTagComponents(selector) {\r\n  if (!selector) {\r\n    selector = '.' + nj.tagClassName;\r\n  }\r\n\r\n  return document.querySelectorAll(selector);\r\n}\r\n\r\n//Remove all dom child node\r\nfunction removeChildNode(node) {\r\n  var children = node.childNodes,\r\n    len = children.length,\r\n    i = 0;\r\n\r\n  for (; i < len; i++) {\r\n    node.removeChild(node.firstChild);\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  getXmlOpenTag: getXmlOpenTag,\r\n  isXmlSelfCloseTag: isXmlSelfCloseTag,\r\n  verifySelfCloseTag: verifySelfCloseTag,\r\n  getOpenTagParams: getOpenTagParams,\r\n  isXmlCloseTag: isXmlCloseTag,\r\n  getOpenTag: getOpenTag,\r\n  isSelfCloseTag: isSelfCloseTag,\r\n  isCloseTag: isCloseTag,\r\n  getInsideBraceParam: getInsideBraceParam,\r\n  isControl: isControl,\r\n  isControlCloseTag: isControlCloseTag,\r\n  isTmpl: isTmpl,\r\n  addTmpl: addTmpl,\r\n  isParamsExpr: isParamsExpr,\r\n  addParamsExpr: addParamsExpr,\r\n  getTagComponentName: getTagComponentName,\r\n  getTagComponentAttrs: getTagComponentAttrs,\r\n  isTagControl: isTagControl,\r\n  getTagComponents: getTagComponents,\r\n  removeChildNode: removeChildNode\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/transforms/transformElement.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  escape = require('../utils/escape'),\r\n  errorTitle = nj.errorTitle;\r\n\r\n//转换节点参数为字符串\r\nfunction transformParams(obj, data, parent, paramsE) {\r\n  var ret = '';\r\n\r\n  //Attach parameters from \"$param\" expressions\r\n  if (paramsE) {\r\n    tools.each(paramsE, function (v, k) {\r\n      if (!obj || obj[k] == null) {\r\n        ret += ' ' + k + '=\"' + v + '\"';\r\n      }\r\n    }, false, false);\r\n  }\r\n\r\n  tools.each(obj, function (v, k) {\r\n    ret += ' ' + k + '=\"' + replaceParams(v, data, false, false, parent, true) + '\"';\r\n  }, false, false);\r\n\r\n  return ret;\r\n}\r\n\r\n//转换节点参数为对象\r\nfunction transformParamsToObj(obj, data, parent, paramsE) {\r\n  var ret = obj || paramsE ? {} : null;\r\n\r\n  //Attach parameters from \"$param\" expressions\r\n  if (paramsE) {\r\n    tools.assign(ret, paramsE);\r\n  }\r\n\r\n  tools.each(obj, function (v, k) {\r\n    replaceParams(v, data, ret, k, parent, false);\r\n  }, false, false);\r\n\r\n  return ret;\r\n}\r\n\r\n//设置对象参数\r\nfunction setObjParam(obj, key, value, notTran) {\r\n  var style;\r\n  if (!notTran && nj.componentLib) {\r\n    switch (key) {\r\n      case 'class':\r\n        key = 'className';\r\n        break;\r\n      case 'for':\r\n        key = 'htmlFor';\r\n        break;\r\n      case 'style':\r\n      case nj.tagStyle:\r\n        key = 'style';\r\n        style = _getStyleParams(value);\r\n        break;\r\n    }\r\n  }\r\n\r\n  obj[key] = style != null ? style : value;\r\n}\r\n\r\n//提取style内参数\r\nfunction _getStyleParams(obj) {\r\n  //If the parameter is a style object,then direct return.\r\n  if (tools.isObject(obj)) {\r\n    return obj;\r\n  }\r\n\r\n  //参数为字符串\r\n  var pattern = /([^\\s:]+)[\\s]?:[\\s]?([^\\s;]+)[;]?/g,\r\n    matchArr, ret;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    var key = matchArr[1],\r\n      value = matchArr[2];\r\n\r\n    if (!ret) {\r\n      ret = {};\r\n    }\r\n\r\n    //Convert to lowercase when style name is all capital.\r\n    if(/^[A-Z-]+$/.test(key)) {\r\n      key = key.toLowerCase();\r\n    }\r\n\r\n    //将连字符转为驼峰命名\r\n    key = tools.toCamelCase(key);\r\n\r\n    ret[key] = value;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Use filters\r\nfunction _useFilters(filters, ret, data, parent, index, useString) {\r\n  if (filters) {\r\n    var filtersObj = nj.filters;\r\n    tools.each(filters, function (filterObj) {\r\n      var filter = filtersObj[filterObj.name];  //Get filter function\r\n      if (!filter) {\r\n        console.warn(errorTitle + 'A filter called ' + filterObj.name + ' is undefined.');\r\n        return;\r\n      }\r\n\r\n      var params,\r\n        paramsF = filterObj.params,\r\n        thisObj = tools.lightObj();\r\n\r\n      if (paramsF) {\r\n        params = tools.listPush([ret], paramsF);\r\n      }\r\n      else {\r\n        params = [ret];\r\n      }\r\n\r\n      thisObj.data = data;\r\n      thisObj.parent = parent;\r\n      thisObj.index = index;\r\n      thisObj.useString = useString;\r\n      ret = filter.apply(thisObj, params);\r\n    }, false, true);\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//获取data值\r\nfunction getDataValue(data, propObj, parent, defaultEmpty, useString) {\r\n  //if (data == null) {\r\n  //  return;\r\n  //}\r\n\r\n  var isArr = tools.isArray(data),\r\n    prop = propObj.name,\r\n    filters = propObj.filters,\r\n    parentNum = propObj.parentNum,\r\n    datas, ret, dataP, index;\r\n\r\n  //if inside each block,get the parent data and current index\r\n  if (parent && parent.parent) {\r\n    dataP = parent.parent;\r\n    index = parent.index;\r\n  }\r\n\r\n  //According to the param path to get data\r\n  if (parent && parentNum) {\r\n    for (var i = 0; i < parentNum; i++) {\r\n      var _parent = parent.parent;\r\n      tools.throwIf(_parent, errorTitle + 'Parent data is undefined, please check the param path declare.');\r\n      parent = _parent;\r\n      index = parent.index;\r\n      datas = [parent.data];\r\n    }\r\n  }\r\n  else if (isArr) {  //The data param is array\r\n    datas = data;\r\n  }\r\n  else {\r\n    datas = [data];\r\n  }\r\n\r\n  if (propObj.isStr) {\r\n    ret = _useFilters(filters, prop, datas, dataP, index, useString);\r\n  }\r\n  else if (prop === '.') {  //prop为点号时直接使用data作为返回值\r\n    ret = _useFilters(filters, isArr ? data[0] : data, datas, dataP, index, useString);\r\n  }\r\n  else if (prop === '#') {  //Get current item index\r\n    ret = _useFilters(filters, index, datas, dataP, index, useString);\r\n  }\r\n  else {\r\n    tools.each(datas, function (obj) {\r\n      if (obj) {\r\n        ret = obj[prop];\r\n        if (ret != null) {\r\n          //Use filters\r\n          ret = _useFilters(filters, ret, datas, dataP, index, useString);\r\n\r\n          return false;\r\n        }\r\n      }\r\n    }, false, true, true);\r\n  }\r\n\r\n  //Default set empty\r\n  if (defaultEmpty && ret == null) {\r\n    ret = '';\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//获取each块中的item参数\r\nfunction getItemParam(item, data, isArr) {\r\n  var ret = item;\r\n  if (isArr == null) {\r\n    isArr = tools.isArray(data);\r\n  }\r\n  if (isArr) {\r\n    ret = tools.listPush([item], data.slice(1));\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//替换参数字符串\r\nfunction replaceParams(valueObj, data, newObj, newKey, parent, useString) {\r\n  var props = valueObj.props,\r\n    strs = valueObj.strs,\r\n    isAll = valueObj.isAll,\r\n    useObj = tools.isObject(newObj),  //newObj的值可能为对象或布尔值,此处判断是否为对象\r\n    value = strs[0];\r\n\r\n  if (props) {\r\n    tools.each(props, function (propObj, i) {\r\n      var dataProp = getDataValue(data, propObj.prop, parent, !newObj, useString);\r\n\r\n      //参数为字符串时,须做特殊字符转义\r\n      if (dataProp\r\n        && !newObj            //Only in transform to string need escape\r\n        && propObj.escape) {  //Only in the opening brace's length less than 2 need escape\r\n        dataProp = escape(dataProp);\r\n      }\r\n\r\n      //如果参数只存在占位符,则可传引用参数\r\n      if (isAll) {\r\n        if (useObj) {  //在新对象上创建属性\r\n          setObjParam(newObj, newKey, dataProp);\r\n        }\r\n\r\n        value = dataProp;\r\n      }\r\n      else {  //Splicing value by one by one\r\n        value += dataProp + strs[i + 1];\r\n      }\r\n    }, false, true);\r\n  }\r\n\r\n  //存在多个占位符的情况\r\n  if (useObj && !isAll) {\r\n    setObjParam(newObj, newKey, value);\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\n//Get expression parameter\r\nfunction getExprParam(refer, data, parent, useString) {\r\n  var ret = [];\r\n  if (refer != null) {\r\n    tools.each(refer.props, function (propObj, i) {\r\n      ret.push(getDataValue(data, propObj.prop, parent, false, useString));\r\n    }, false, true);\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = {\r\n  transformParams: transformParams,\r\n  transformParamsToObj: transformParamsToObj,\r\n  replaceParams: replaceParams,\r\n  getDataValue: getDataValue,\r\n  getItemParam: getItemParam,\r\n  setObjParam: setObjParam,\r\n  getExprParam: getExprParam\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/transforms/transformData.js\n ** module id = 6\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar ESCAPE_LOOKUP = {\r\n  '&': '&amp;',\r\n  '>': '&gt;',\r\n  '<': '&lt;',\r\n  '\"': '&quot;',\r\n  '\\'': '&#x27;'\r\n};\r\n\r\nfunction escape(text) {\r\n  if (text == null) {\r\n    return;\r\n  }\r\n\r\n  return ('' + text).replace(/[&><\"']/g, function (match) {\r\n    return ESCAPE_LOOKUP[match];\r\n  });\r\n}\r\n\r\nmodule.exports = escape;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/escape.js\n ** module id = 7\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  replaceSpace = require('../utils/replaceSpace'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//Get compiled parameters from a object\r\nfunction compiledParams(obj) {\r\n  var ret = tools.lightObj();\r\n  tools.each(obj, function (v, k) {\r\n    ret[k] = compiledParam(v);\r\n  }, false, false);\r\n\r\n  return ret;\r\n}\r\n\r\n//Get compiled property\r\nfunction compiledProp(prop, isString) {\r\n  var ret = tools.lightObj();\r\n\r\n  //Extract the dot data path to the 'prop' filter.\r\n  if (!isString && prop.indexOf('.') > -1) {\r\n    prop = prop.replace(/\\.([^\\s.:\\/]+)/g, ':prop($1)');\r\n  }\r\n\r\n  //If there are colons in the property,then use filter\r\n  if (prop.indexOf(':') >= 0) {\r\n    var filters = [],\r\n      filtersTmp;\r\n    filtersTmp = prop.split(':');\r\n    prop = filtersTmp[0].trim();  //Extract property\r\n\r\n    filtersTmp = filtersTmp.slice(1);\r\n    tools.each(filtersTmp, function (filter) {\r\n      var retF = _getFilterParam(filter.trim()),\r\n        filterObj = tools.lightObj(),\r\n        filterName = retF[1].toLowerCase();  //Get filter name\r\n\r\n      if (filterName) {\r\n        var paramsF = retF[3];  //Get filter param\r\n\r\n        //Multiple params are separated by commas.\r\n        if (paramsF) {\r\n          var params = [];\r\n          tools.each(paramsF.split(','), function (p) {\r\n            params[params.length] = p.trim();\r\n          }, false, true);\r\n\r\n          filterObj.params = params;\r\n        }\r\n\r\n        filterObj.name = filterName;\r\n        filters.push(filterObj);\r\n      }\r\n    }, false, true);\r\n\r\n    ret.filters = filters;\r\n  }\r\n\r\n  //Extract the parent data path\r\n  if (!isString && prop.indexOf('../') > -1) {\r\n    var n = 0;\r\n    prop = prop.replace(/\\.\\.\\//g, function () {\r\n      n++;\r\n      return '';\r\n    });\r\n\r\n    ret.parentNum = n;\r\n  }\r\n\r\n  ret.name = prop;\r\n  if (isString) {  //Sign the parameter is a pure string.\r\n    ret.isStr = true;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get filter param\r\nvar REGEX_FILTER_PARAM = /([\\w$]+)(\\(([^()]+)\\))*/;\r\nfunction _getFilterParam(obj) {\r\n  return REGEX_FILTER_PARAM.exec(obj);\r\n}\r\n\r\n//Extract replace parameters\r\nvar _quots = ['\\'', '\"'];\r\nfunction _getReplaceParam(obj, strs) {\r\n  var pattern = tmplRule.replaceParam(),\r\n    patternP = /[^\\s:]+([\\s]?:[\\s]?[^\\s\\(\\)]+(\\([^\\(\\)]+\\))?(\\.[^\\s.]+)?){0,}/g,\r\n    matchArr, matchArrP, ret, prop, i = 0;\r\n\r\n  while ((matchArr = pattern.exec(obj))) {\r\n    if (!ret) {\r\n      ret = [];\r\n    }\r\n\r\n    var j = 0;\r\n    prop = matchArr[3];\r\n\r\n    //To extract parameters by interval space.\r\n    while ((matchArrP = patternP.exec(prop))) {\r\n      var propP = matchArrP[0],\r\n        item = [matchArr[0], matchArr[1], propP, false, true];\r\n\r\n      //Clear parameter at both ends of the space.\r\n      propP = propP.trim();\r\n\r\n      //If parameter has quotation marks, this's a pure string parameter.\r\n      if (_quots.indexOf(propP[0]) > -1) {\r\n        propP = tools.clearQuot(propP);\r\n        item[3] = true;\r\n      }\r\n\r\n      item[2] = propP;\r\n      ret.push(item);\r\n\r\n      //If there are several parameters in a curly braces, fill the space for the \"strs\" array.\r\n      if (j > 0) {\r\n        item[4] = false;  //Sign not contain all of placehorder\r\n        strs.splice(++i, 0, '');\r\n      }\r\n      j++;\r\n    }\r\n    i++;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\n//Get compiled parameter\r\nfunction compiledParam(value) {\r\n  var ret = tools.lightObj(),\r\n    strs = tools.isString(value) ? replaceSpace(value).split(tmplRule.replaceSplit) : [value],\r\n    props = null,\r\n    isAll = false;\r\n\r\n  //If have placehorder\r\n  if (strs.length > 1) {\r\n    var params = _getReplaceParam(value, strs);\r\n    props = [];\r\n\r\n    tools.each(params, function (param) {\r\n      var retP = tools.lightObj();\r\n      isAll = param[4] ? param[0] === value : false;  //If there are several parameters in a curly braces, \"isAll\" must be false.\r\n      retP.prop = compiledProp(param[2], param[3]);\r\n\r\n      //If parameter's open rules are several,then it need escape.\r\n      retP.escape = param[1].split(tmplRule.beginRule).length < 3;\r\n      props.push(retP);\r\n    }, false, true);\r\n  }\r\n\r\n  ret.props = props;\r\n  ret.strs = strs;\r\n  ret.isAll = isAll;\r\n  return ret;\r\n}\r\n\r\nmodule.exports = {\r\n  compiledParam: compiledParam,\r\n  compiledParams: compiledParams,\r\n  compiledProp: compiledProp\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/transforms/transformParam.js\n ** module id = 8\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar SPACE_SYMBOLS = {\r\n  nbsp: '\\u00A0',\r\n  ensp: '\\u2002',\n  emsp: '\\u2003',\r\n  thinsp: '\\u2009',\r\n  zwnj: '\\u200C',\n  zwj: '\\u200D'\r\n};\r\n\r\nfunction replaceSpace(str) {\r\n  return str.replace(/&(nbsp|ensp|emsp|thinsp|zwnj|zwj);/g, function (all, match) {\r\n    return SPACE_SYMBOLS[match];\r\n  });\r\n}\r\n\r\nmodule.exports = replaceSpace;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/replaceSpace.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('../transforms/transformParam'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  checkTagElem = require('./checkTagElem'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//检测元素节点\r\nfunction checkElem(obj, parent) {\r\n  var node = {},\r\n    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\r\n  if (!tools.isArray(obj)) {  //判断是否为文本节点\r\n    if (tools.isObject(obj) && '_njShim' in obj && !tools.isArray(obj._njShim)) {  //Get the shim value\r\n      obj = obj._njShim;\r\n    }\r\n\r\n    //if (tools.isString(obj)) {\r\n    node.type = 'nj_plaintext';\r\n    node.content = [tranParam.compiledParam(obj)];\r\n    parent[parentContent].push(node);\r\n    //}\r\n\r\n    return;\r\n  }\r\n\r\n  var first = obj[0];\r\n  if (tools.isString(first)) {  //第一个子节点为字符串\r\n    var first = first,\r\n      len = obj.length,\r\n      last = obj[len - 1],\r\n      isElemNode = false,\r\n      control,\r\n      refer;\r\n\r\n    //判断是否为xml标签\r\n    var xmlOpenTag = tranElem.getXmlOpenTag(first),\r\n      openTagName,\r\n      hasCloseTag = false,\r\n      isTmpl, isParamsExpr;\r\n\r\n    if (xmlOpenTag) {  //tagname为xml标签时,则认为是元素节点\r\n      openTagName = xmlOpenTag[1];\r\n\r\n      if (!tranElem.isXmlSelfCloseTag(first)) {  //非自闭合标签才验证是否存在关闭标签\r\n        hasCloseTag = tranElem.isXmlCloseTag(last, openTagName);\r\n      }\r\n      else {  //自闭合标签\r\n        node.selfCloseTag = true;\r\n      }\r\n      isElemNode = true;\r\n    }\r\n    else {\r\n      control = tranElem.isControl(first);\r\n      if (!control) {  //tagname不为xml标签时,必须有结束标签才认为是元素节点\r\n        var openTag = tranElem.getOpenTag(first);\r\n        if (openTag) {\r\n          openTagName = openTag[0];\r\n\r\n          if (!tranElem.isSelfCloseTag(first)) {  //非自闭合标签\r\n            hasCloseTag = tranElem.isCloseTag(last, openTagName);\r\n            if (hasCloseTag) {\r\n              isElemNode = true;\r\n            }\r\n          }\r\n          else {  //如果是自闭合标签则直接认为是元素节点\r\n            node.selfCloseTag = true;\r\n            isElemNode = true;\r\n          }\r\n        }\r\n      }\r\n      else {  //为特殊节点,也可视为一个元素节点\r\n        var ctrl = control[0].toLowerCase();\r\n        refer = control[1];\r\n        isTmpl = tranElem.isTmpl(ctrl);\r\n        isParamsExpr = tranElem.isParamsExpr(ctrl);\r\n\r\n        node.type = 'nj_expr';\r\n        node.expr = ctrl;\r\n        if (refer != null && !isTmpl) {\r\n          node.refer = tranParam.compiledParam(refer);\r\n        }\r\n\r\n        if (tranElem.isControlCloseTag(last, ctrl)) {  //判断是否有流程控制块闭合标签\r\n          hasCloseTag = true;\r\n        }\r\n        isElemNode = true;\r\n      }\r\n    }\r\n\r\n    if (isElemNode) {  //判断是否为元素节点\r\n      var elseIndex = -1,\r\n        pushContent = true;\r\n\r\n      if (!control) {\r\n        node.type = openTagName;\r\n\r\n        //If open tag has a brace,add the typeRefer param.\r\n        var typeRefer = tranElem.getInsideBraceParam(openTagName);\r\n        if (typeRefer) {\r\n          node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n        }\r\n\r\n        //获取openTag内参数\r\n        var tagParams = tranElem.getOpenTagParams(first, !xmlOpenTag);\r\n        if (tagParams) {\r\n          if (!node.params) {\r\n            node.params = tools.lightObj();\r\n          }\r\n\r\n          tools.each(tagParams, function (param) {\r\n            node.params[param.key] = tranParam.compiledParam(param.value);\r\n          }, false, true);\r\n        }\r\n\r\n        //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n        if (!node.selfCloseTag) {\r\n          node.selfCloseTag = tranElem.verifySelfCloseTag(openTagName);\r\n        }\r\n      }\r\n      else {  //为表达式块时判断是否有$else\r\n        if (isTmpl) {  //模板元素\r\n          pushContent = false;\r\n          var retR = tranElem.getInsideBraceParam(refer);\r\n\r\n          //将模板添加到父节点的params中\r\n          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n        }\r\n        else if (isParamsExpr) {\r\n          pushContent = false;\r\n        }\r\n        else {\r\n          elseIndex = tools.inArray(obj, tmplRule.exprRule + 'else');\r\n        }\r\n      }\r\n\r\n      //放入父节点content内\r\n      if (pushContent) {\r\n        parent[parentContent].push(node);\r\n      }\r\n\r\n      //取出子节点集合\r\n      var end = len - (hasCloseTag ? 1 : 0),\r\n        content = obj.slice(1, (elseIndex < 0 ? end : elseIndex));\r\n      if (content && content.length) {\r\n        checkContentElem(content, node);\r\n      }\r\n\r\n      //如果有$else,则将$else后面的部分存入content_else集合中\r\n      if (elseIndex >= 0) {\r\n        var contentElse = obj.slice(elseIndex + 1, end);\r\n        node.hasElse = true;\r\n\r\n        if (contentElse && contentElse.length) {\r\n          checkContentElem(contentElse, node);\r\n        }\r\n      }\r\n\r\n      //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n      if (isParamsExpr) {\r\n        tranElem.addParamsExpr(node, parent);\r\n      }\r\n    }\r\n    else {  //如果不是元素节点,则为节点集合\r\n      checkContentElem(obj, parent);\r\n    }\r\n  }\r\n  else if (tools.isArray(first)) {  //如果第一个子节点为数组,则该节点一定为节点集合(可以是多层数组嵌套的集合)\r\n    checkContentElem(obj, parent);\r\n  }\r\n}\r\n\r\n//检测子元素节点\r\nfunction checkContentElem(obj, parent) {\r\n  if (!parent.content) {\r\n    parent.content = [];\r\n  }\r\n  if (parent.hasElse && !parent.contentElse) {\r\n    parent.contentElse = [];\r\n  }\r\n\r\n  tools.each(obj, function (item) {\r\n    checkElem(item, parent);\r\n  }, false, true);\r\n}\r\n\r\nmodule.exports = {\r\n  checkElem: checkElem,\r\n  checkTagElem: checkTagElem\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/checkElem/checkElem.js\n ** module id = 10\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranParam = require('../transforms/transformParam'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  tmplRule = nj.tmplRule;\r\n\r\n//检测标签元素节点\r\nfunction checkTagElem(obj, parent) {\r\n  var node = {},\r\n    nodeType = obj.nodeType,\r\n    nodeValue = tools.trim(obj.nodeValue),\r\n    parentContent = !parent.hasElse ? 'content' : 'contentElse';\r\n\r\n  //处理文本节点\r\n  if (nodeType === 3) {\r\n    if (nodeValue === '') {\r\n      return;\r\n    }\r\n\r\n    node.type = 'nj_plaintext';\r\n    node.content = [tranParam.compiledParam(nodeValue)];\r\n    parent[parentContent].push(node);\r\n\r\n    return;\r\n  }\r\n\r\n  //处理元素节点\r\n  if (nodeType === 1) {\r\n    var tagName = tranElem.getTagComponentName(obj),\r\n      params = tranElem.getTagComponentAttrs(obj),\r\n      isControl = tranElem.isTagControl(tagName),\r\n      pushContent = true,\r\n      isParamsExpr;\r\n\r\n    if (isControl) {  //特殊节点\r\n      if (tagName !== tmplRule.exprRule + 'else') {\r\n        tagName = tagName.substr(1);\r\n        node.type = 'nj_expr';\r\n        node.expr = tagName;\r\n        isParamsExpr = tranElem.isParamsExpr(tagName);\r\n\r\n        if (tranElem.isTmpl(tagName)) {  //模板元素\r\n          pushContent = false;\r\n          var retR;\r\n          if (params && params.refer) {\r\n            retR = tranElem.getInsideBraceParam(params.refer);\r\n          }\r\n\r\n          //将模板添加到父节点的params中\r\n          tranElem.addTmpl(node, parent, retR ? tools.clearQuot(retR[1]) : null);\r\n        }\r\n        else if (isParamsExpr) {\r\n          pushContent = false;\r\n        }\r\n        else {  //Expression block\r\n          if (params && params.refer) {\r\n            var retR = tranElem.getInsideBraceParam(params.refer);\r\n            node.refer = tranParam.compiledParam(retR ? retR[0] : params.refer);\r\n          }\r\n        }\r\n      }\r\n      else {  //else节点\r\n        pushContent = false;\r\n\r\n        //将else标签内的子节点放入当前父节点的contentElse中\r\n        node = parent;\r\n        node.hasElse = true;\r\n      }\r\n    }\r\n    else {  //元素节点\r\n      node.type = tagName;\r\n\r\n      //If open tag has a brace,add the typeRefer param.\r\n      var typeRefer = tranElem.getInsideBraceParam(tagName);\r\n      if (typeRefer) {\r\n        node.typeRefer = tranParam.compiledParam(typeRefer[0]);\r\n      }\r\n\r\n      if (params) {\r\n        node.params = tranParam.compiledParams(params);\r\n      }\r\n\r\n      //Verify if self closing tag again, because the tag may be similar to \"<br></br>\".\r\n      node.selfCloseTag = tranElem.verifySelfCloseTag(tagName);\r\n    }\r\n\r\n    //放入父节点content内\r\n    if (pushContent) {\r\n      parent[parentContent].push(node);\r\n    }\r\n\r\n    //处理子元素\r\n    var childNodes = obj.childNodes;\r\n    if (childNodes && childNodes.length) {\r\n      checkTagContentElem(childNodes, node);\r\n    }\r\n\r\n    //If this is params block, set on the \"paramsExpr\" property of the parent node.\r\n    if (isParamsExpr) {\r\n      tranElem.addParamsExpr(node, parent);\r\n    }\r\n  }\r\n}\r\n\r\n//检测标签子元素节点\r\nfunction checkTagContentElem(obj, parent) {\r\n  if (!parent.content) {\r\n    parent.content = [];\r\n  }\r\n  if (parent.hasElse && !parent.contentElse) {\r\n    parent.contentElse = [];\r\n  }\r\n\r\n  tools.each(obj, function (item) {\r\n    checkTagElem(item, parent);\r\n  }, false, true);\r\n}\r\n\r\n//Set init data for tag component\r\nnj.setInitTagData = function (data) {\r\n  nj.initTagData = data;\r\n};\r\n\r\nmodule.exports = checkTagElem;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/checkElem/checkTagElem.js\n ** module id = 11\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//Set component engine\r\nfunction setComponentEngine(name, obj, dom, port, render) {\r\n  //Component engine's name\r\n  nj.componentLib = name;\r\n\r\n  //Component engine's object\r\n  nj.componentLibObj = obj;\r\n\r\n  //Component engine's dom object\r\n  dom = dom || obj;\r\n  nj.componentLibDom = dom;\r\n\r\n  //Component engine's create element and render function\r\n  if (name === 'react') {\r\n    port = 'createElement';\r\n    render = 'render';\r\n  }\r\n  nj.componentPort = tools.isString(port) ? obj[port] : port;\r\n  nj.componentRender = tools.isString(render) ? dom[render] : render;\r\n}\r\n\r\nmodule.exports = {\r\n  setComponentEngine: setComponentEngine\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/setComponentEngine.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//注册组件\r\nfunction registerComponent(name, component) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = component;\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    nj.componentClasses[k.toLowerCase()] = v;\r\n  }, false, false);\r\n\r\n  return component;\r\n}\r\n\r\n//注册组件标签命名空间\r\nfunction setNamespace(name) {\r\n  nj.namespace = name;\r\n\r\n  //修改标签组件id及类名\r\n  nj.tagId = name + '-id';\r\n  nj.tagStyle = name + '-style';\r\n  nj.tagClassName = name + '-component';\r\n}\r\n\r\n//创建标签命名空间\r\nfunction registerTagNamespace(name) {\r\n  if (!name) {\r\n    name = 'nj';\r\n  }\r\n  nj.tagNamespaces[name] = name;\r\n\r\n  if (typeof document === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  var doc = document;\r\n  if (doc && doc.namespaces) {\r\n    doc.namespaces.add(name, 'urn:schemas-microsoft-com:vml', '#default#VML');\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  registerComponent: registerComponent,\r\n  setNamespace: setNamespace,\r\n  registerTagNamespace: registerTagNamespace\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/registerComponent.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//Global filter list\r\nnj.filters = {\r\n  //Get param properties\r\n  prop: function (obj, props) {\r\n    var ret = obj;\r\n    ret && tools.each(props.split('.'), function (p) {\r\n      ret = ret[p];\r\n    }, false, true);\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Get list count\r\n  count: function (obj) {\r\n    return obj ? obj.length : 0;\r\n  },\r\n\r\n  //Get list item\r\n  item: function (obj, no) {\r\n    return obj ? obj[no] : null;\r\n  },\r\n\r\n  //Judge equal\r\n  equal: function (obj, val) {\r\n    return obj == val;\r\n  },\r\n\r\n  //Less than\r\n  lt: function (val1, val2, noEqual) {\r\n    var ret;\r\n    val1 = parseFloat(val1);\r\n    val2 = parseFloat(val2);\r\n\r\n    if (noEqual) {\r\n      ret = val1 < val2;\r\n    }\r\n    else {\r\n      ret = val1 <= val2;\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Greater than\r\n  gt: function (val1, val2, noEqual) {\r\n    var ret;\r\n    val1 = parseFloat(val1);\r\n    val2 = parseFloat(val2);\r\n\r\n    if (noEqual) {\r\n      ret = val1 > val2;\r\n    }\r\n    else {\r\n      ret = val1 >= val2;\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Addition\r\n  add: function (val1, val2, isFloat) {\r\n    return val1 + (isFloat ? parseFloat(val2) : parseInt(val2, 10));\r\n  },\r\n\r\n  //Convert to int \r\n  int: function (val) {\r\n    return parseInt(val, 10);\r\n  },\r\n\r\n  //Convert to float \r\n  float: function (val) {\r\n    return parseFloat(val);\r\n  },\r\n\r\n  //Convert to boolean \r\n  bool: function (val) {\r\n    if (val === 'false') {\r\n      return false;\r\n    }\r\n\r\n    return Boolean(val);\r\n  }\r\n};\r\n\r\n//Register filter and also can batch add\r\nfunction registerFilter(name, filter) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = filter;\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    nj.filters[k.toLowerCase()] = v;\r\n  }, false, false);\r\n}\r\n\r\nmodule.exports = {\r\n  registerFilter: registerFilter\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/filter.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\n//Global expression list\r\nnj.exprs = {\r\n  'if': function (refer, useUnless) {\r\n    if (refer === 'false') {\r\n      refer = false;\r\n    }\r\n\r\n    var referR, ret;\r\n    if (!useUnless) {\r\n      referR = !!refer;\r\n    }\r\n    else {\r\n      referR = !!!refer;\r\n    }\r\n    if (referR) {\r\n      ret = this.result();\r\n    }\r\n    else {\r\n      ret = this.inverse();\r\n    }\r\n\r\n    if (this.useString && ret == null) {\r\n      return '';\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  unless: function (refer) {\r\n    return nj.exprs['if'].call(this, refer, true);\r\n  },\r\n\r\n  each: function (refer) {\r\n    var thiz = this,\r\n      useString = thiz.useString,\r\n      ret;\r\n\r\n    if (refer) {\r\n      if (useString) {\r\n        ret = '';\r\n      }\r\n      else {\r\n        ret = [];\r\n      }\r\n\r\n      tools.each(refer, function (item, index) {\r\n        var retI = thiz.result({\r\n          loop: true,\r\n          item: item,\r\n          index: index\r\n        });\r\n\r\n        if (useString) {\r\n          ret += retI;\r\n        }\r\n        else {\r\n          tools.listPush(ret, retI, true);\r\n        }\r\n      }, false, tools.isArray(refer));\r\n\r\n      //Return null when not use string and result is empty.\r\n      if (!useString && !ret.length) {\r\n        ret = null;\r\n      }\r\n    }\r\n    else {\r\n      ret = thiz.inverse();\r\n      if (useString && ret == null) {\r\n        ret = '';\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  //Parameter\r\n  param: function () {\r\n    var ret = this.result(),  //Get parameter value\r\n      name = '',\r\n      value;\r\n\r\n    //Make property name by multiple parameters\r\n    tools.each(arguments, function (item, i) {\r\n      name += item;\r\n    }, false, true);\r\n\r\n    //If the value length greater than 1, it need to be connected to a whole string.\r\n    if (ret != null) {\r\n      if (ret.length > 1) {\r\n        value = '';\r\n        tools.each(ret, function (item) {\r\n          value += item;\r\n        }, false, true);\r\n      }\r\n      else {\r\n        value = ret[0];\r\n\r\n        //The \"_njShim\" property is used to distinguish whether the incoming is an normal array.\r\n        if (value && value._njShim) {\r\n          value = value._njShim;\r\n        }\r\n      }\r\n    }\r\n    else {  //Match to Similar to \"checked\" or \"disabled\" attribute.\r\n      value = name;\r\n    }\r\n\r\n    this.paramsExpr[name] = value;\r\n  },\r\n\r\n  //Spread parameters\r\n  spreadparam: function (refer) {\r\n    if (!refer) {\r\n      return;\r\n    }\r\n\r\n    var thiz = this;\r\n    tools.each(refer, function (v, k) {\r\n      thiz.paramsExpr[k] = v;\r\n    }, false, false);\r\n  },\r\n\r\n  equal: function (value1, value2) {\r\n    var ret;\r\n    if (value1 == value2) {\r\n      ret = this.result();\r\n    }\r\n    else {\r\n      ret = this.inverse();\r\n    }\r\n\r\n    return ret;\r\n  },\r\n\r\n  'for': function (start, end) {\r\n    var ret, useString = this.useString;\r\n    if (useString) {\r\n      ret = '';\r\n    }\r\n    else {\r\n      ret = [];\r\n    }\r\n\r\n    if (end == null) {\r\n      end = start;\r\n      start = 0;\r\n    }\r\n    start = parseInt(start, 10);\r\n    end = parseInt(end, 10);\r\n\r\n    for (; start <= end; start++) {\r\n      var retI = this.result({\r\n        loop: true,\r\n        item: this.data[0],\r\n        index: start\r\n      });\r\n\r\n      if (useString) {\r\n        ret += retI;\r\n      }\r\n      else {\r\n        tools.listPush(ret, retI, true);\r\n      }\r\n    }\r\n\r\n    return ret;\r\n  }\r\n};\r\n\r\n//Expression alias\r\nnj.exprs.p = nj.exprs.param;\r\nnj.exprs.spread = nj.exprs.spreadparam;\r\n\r\n//Register expression and also can batch add\r\nfunction registerExpr(name, expr) {\r\n  var params = name;\r\n  if (!tools.isObject(name)) {\r\n    params = {};\r\n    params[name] = expr;\r\n  }\r\n\r\n  tools.each(params, function (v, k) {\r\n    nj.exprs[k.toLowerCase()] = v;\r\n  }, false, false);\r\n}\r\n\r\nmodule.exports = {\r\n  registerExpr: registerExpr\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/expression.js\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('./tools');\r\n\r\nfunction _createRegExp(reg, mode) {\r\n  return new RegExp(reg, mode);\r\n}\r\n\r\n//Clear the repeated characters\r\nfunction _clearRepeat(str) {\r\n  var ret = '',\r\n    i = 0,\r\n    l = str.length,\r\n    char;\r\n\r\n  for (; i < l; i++) {\r\n    char = str[i];\r\n    if (ret.indexOf(char) < 0) {\r\n      ret += char;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = function (beginRule, endRule, exprRule) {\r\n  if (!beginRule) {\r\n    beginRule = '{';\r\n  }\r\n  if (!endRule) {\r\n    endRule = '}';\r\n  }\r\n  if (!exprRule) {\r\n    exprRule = '#';\r\n  }\r\n\r\n  var allRules = _clearRepeat(beginRule + endRule),\r\n    firstChar = beginRule[0],\r\n    otherChars = allRules.substr(1),\r\n    exprRules = _clearRepeat(exprRule),\r\n    escapeExprRule = exprRule.replace(/\\$/g, '\\\\$');\r\n\r\n  //Reset the regexs to global list\r\n  tools.assign(nj.tmplRule, {\r\n    beginRule: beginRule,\r\n    endRule: endRule,\r\n    exprRule: exprRule,\r\n    xmlOpenTag: _createRegExp('^<([a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*)[^>]*>$', 'i'),\r\n    openTag: _createRegExp('^[a-z' + firstChar + '][-a-z0-9_:.\\/' + otherChars + ']*', 'i'),\r\n    insideBraceParam: _createRegExp(beginRule + '([^' + allRules + ']+)' + endRule, 'i'),\r\n    replaceBraceParam: function() {\r\n      return _createRegExp('[\\\\s]+(' + beginRule + '){1,2}([^' + allRules + ']+)(' + endRule + '){1,2}', 'g')\r\n    },\r\n    replaceSplit: _createRegExp('(?:' + beginRule + '){1,2}[^' + allRules + ']+(?:' + endRule + '){1,2}'),\r\n    replaceParam: function() {\r\n      return _createRegExp('((' + beginRule + '){1,2})([^' + allRules + ']+)(' + endRule + '){1,2}', 'g');\r\n    },\r\n    checkElem: function() {\r\n      return _createRegExp('([^>]*)(<([a-z' + firstChar + '\\/' + exprRules + '!][-a-z0-9_:.' + allRules + exprRules + ']*)[^>]*>)([^<]*)', 'ig');\r\n    },\r\n    expr: _createRegExp('^' + escapeExprRule + '([^\\\\s]+)', 'i')\r\n  });\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/setTmplRule.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  tranString = require('./transformToString'),\r\n  tranComponent = require('./transformToComponent'),\r\n  compileStringTmpl = require('../checkElem/checkStringElem');\r\n\r\n//编译模板并返回转换函数\r\nfunction compile(obj, tmplName, isComponent, isTag) {\r\n  if (!obj) {\r\n    return;\r\n  }\r\n\r\n  var root;\r\n  if (tmplName) {\r\n    root = nj.templates[tmplName];\r\n  }\r\n  if (!root) {\r\n    //If obj is Object,we think obj is a precompiled template\r\n    if (utils.isObject(obj) && obj.type === 'nj_root') {\r\n      root = obj;\r\n    }\r\n    else {\r\n      root = _createRoot();\r\n\r\n      //Auto transform string template to array\r\n      if (utils.isString(obj)) {\r\n        obj = compileStringTmpl(obj);\r\n      }\r\n\r\n      //分析传入参数并转换为节点树对象\r\n      if (isTag) {\r\n        utils.checkTagElem(obj, root);\r\n      }\r\n      else {\r\n        utils.checkElem(obj, root);\r\n      }\r\n    }\r\n\r\n    //保存模板编译结果到全局集合中\r\n    if (tmplName) {\r\n      nj.templates[tmplName] = root;\r\n    }\r\n  }\r\n\r\n  return function () {\r\n    var args = arguments,\r\n      len = args.length,\r\n      data;\r\n\r\n    if (len <= 0) {\r\n      data = {};\r\n    }\r\n    else if (len === 1) {\r\n      data = args[0];\r\n    }\r\n    else {\r\n      data = [];\r\n      utils.each(args, function (item) {\r\n        data[data.length] = item;\r\n      }, false, true);\r\n    }\r\n\r\n    var ret;\r\n    if (isComponent) {  //转换组件\r\n      ret = tranComponent.transformToComponent(root.content[0], data);\r\n      if (utils.isArray(ret)) {  //组件最外层必须是单一节点对象\r\n        ret = ret[0];\r\n      }\r\n    }\r\n    else {  //转换字符串\r\n      ret = tranString.transformContentToString(root.content, data);\r\n    }\r\n    return ret;\r\n  };\r\n}\r\n\r\n//Create template root object\r\nfunction _createRoot() {\r\n  var root = utils.lightObj();\r\n  root.type = 'nj_root';\r\n  root.content = [];\r\n\r\n  return root;\r\n}\r\n\r\n//编译字面量并返回组件转换函数\r\nfunction compileComponent(obj, tmplName) {\r\n  return compile(obj, tmplName, true);\r\n}\r\n\r\n//编译标签并返回组件转换函数\r\nfunction compileTagComponent(obj, tmplName) {\r\n  return compile(obj, tmplName, true, true);\r\n}\r\n\r\n//渲染标签组件\r\nfunction renderTagComponent(data, selector) {\r\n  var tags = utils.getTagComponents(selector),\r\n    ret = [];\r\n\r\n  utils.each(tags, function (tag) {\r\n    var tmpl = compileTagComponent(tag, tag.getAttribute(nj.tagId)),\r\n      parentNode = tag.parentNode;\r\n\r\n    if (nj.componentLib === 'inferno') {\r\n      utils.removeChildNode(parentNode);\r\n    }\r\n    ret.push(nj.componentRender(tmpl(data), parentNode));\r\n  }, false, true);\r\n\r\n  return ret;\r\n}\r\n\r\n//Precompile template\r\nfunction precompile(obj) {\r\n  var root = _createRoot();\r\n  utils.checkElem(obj, root);\r\n\r\n  return root;\r\n}\r\n\r\n//Render tmpl expression block\r\nvar _renderTmplExpr = compileComponent(['<{container}>', '{tmpl}'], 'tmplExpr');\r\nfunction renderTmplExpr(tmpl, data, container) {\r\n  if (!container) {\r\n    container = 'div';\r\n  }\r\n\r\n  var extra = { tmpl: tmpl, container: container },\r\n    datas;\r\n\r\n  if (utils.isArray(data)) {\r\n    datas = data;\r\n    datas[datas.length] = extra;\r\n  }\r\n  else {\r\n    datas = [data, extra];\r\n  }\r\n\r\n  return _renderTmplExpr(datas);\r\n}\r\n\r\nmodule.exports = {\r\n  compile: compile,\r\n  compileComponent: compileComponent,\r\n  compileTagComponent: compileTagComponent,\r\n  renderTagComponent: renderTagComponent,\r\n  precompile: precompile,\r\n  renderTmplExpr: renderTmplExpr\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compiler/compile.js\n ** module id = 17\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  transformContent = require('./transformContent'),\r\n  transformContentToString = transformContent(transformToString, true),  //转换子节点为字符串\r\n  transformContentToArray = transformContent(transformToString, false),  //转换子节点为数组\r\n  errorTitle = nj.errorTitle;\r\n\r\n//转换节点为字符串\r\nfunction transformToString(obj, data, parent, paramsExpr) {\r\n  var ret = '';\r\n\r\n  if (obj.type === 'nj_plaintext') {\r\n    //替换插入在文本中的参数\r\n    ret = utils.replaceParams(obj.content[0], data, false, false, parent, true);\r\n  }\r\n  else if (obj.type === 'nj_expr') {  //Expression block\r\n    var dataRefer = utils.getExprParam(obj.refer, data, parent, true),\r\n      hasElse = obj.hasElse,\r\n      expr = nj.exprs[obj.expr],\r\n      itemIsArray;\r\n\r\n    utils.throwIf(expr, errorTitle + 'Expression \"' + obj.expr + '\" is undefined, please check it has been registered.');\r\n\r\n    //Create expression's context object and set parameters\r\n    var thisObj = utils.lightObj();\r\n    thisObj.data = data;\r\n    if (parent) {\r\n      thisObj.parent = parent.parent;\r\n      thisObj.index = parent.index;\r\n    }\r\n    thisObj.useString = true;\r\n    thisObj.paramsExpr = paramsExpr;\r\n    thisObj.result = function (param) {\r\n      if (param && param.loop) {\r\n        if (itemIsArray == null) {\r\n          itemIsArray = utils.isArray(data);\r\n        }\r\n\r\n        //Create a parent data object\r\n        var _parent = utils.lightObj();\r\n        _parent.data = param.item;\r\n        _parent.parent = parent;\r\n        _parent.index = param.index;\r\n\r\n        return transformContentToString(obj.content, utils.getItemParam(param.item, data, itemIsArray), _parent, paramsExpr);\r\n      }\r\n      else {\r\n        return transformContentToString(obj.content, data, parent, paramsExpr);\r\n      }\r\n    };\r\n    thisObj.inverse = function () {\r\n      return hasElse ? transformContentToString(obj.contentElse, data, parent, paramsExpr) : null;\r\n    };\r\n\r\n    //Execute expression block\r\n    ret = expr.apply(thisObj, dataRefer);\r\n  }\r\n  else {\r\n    var type = obj.type;\r\n\r\n    //If typeRefer isn't undefined,use it to replace the node type.\r\n    if (obj.typeRefer) {\r\n      var typeRefer = utils.replaceParams(obj.typeRefer, data, false, false, parent, true);\r\n      if (typeRefer) {\r\n        type = typeRefer;\r\n      }\r\n    }\r\n\r\n    //Make parameters from the parameters expression.\r\n    var exprP = obj.paramsExpr,\r\n      paramsE;\r\n    if (exprP) {\r\n      paramsE = utils.lightObj();\r\n      transformContentToArray(exprP.content, data, parent, paramsE);\r\n    }\r\n\r\n    var openTag = '<' + type + utils.transformParams(obj.params, data, parent, paramsE);\r\n    if (!obj.selfCloseTag) {\r\n      ret = openTag + '>' + transformContentToString(obj.content, data, parent) + '</' + type + '>';\r\n    }\r\n    else {  //自闭合标签\r\n      ret = openTag + '/>';\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = {\r\n  transformToString: transformToString,\r\n  transformContentToString: transformContentToString\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compiler/transformToString.js\n ** module id = 18\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar utils = require('../utils/utils');\r\n\r\nmodule.exports = function (transformNode, useString) {\r\n  return function (content, data, parent, paramsExpr) {\r\n    var ret = null;\r\n    if (useString) {\r\n      ret = '';\r\n    }\r\n\r\n    if (!content) {\r\n      return ret;\r\n    }\r\n    if (!parent) {  //Init a parent data object and cascade pass on the children node\r\n      parent = utils.lightObj();\r\n      if (data) {\r\n        parent.data = utils.isArray(data) ? data[0] : data;\r\n      }\r\n    }\r\n\r\n    if (!useString) {\r\n      ret = [];\r\n    }\r\n    utils.each(content, function (obj) {\r\n      var retN = transformNode(obj, data, parent, paramsExpr);\r\n      if (!useString) {\r\n        utils.listPush(ret, retN, true, true);\r\n      }\r\n      else {\r\n        ret += retN;\r\n      }\r\n    }, false, true);\r\n\r\n    return ret;\r\n  };\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compiler/transformContent.js\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  utils = require('../utils/utils'),\r\n  transformContentToComponent = require('./transformContent')(transformToComponent),  //转换子节点为组件节点\r\n  errorTitle = nj.errorTitle;\r\n\r\n//转换节点为组件节点\r\nfunction transformToComponent(obj, data, parent, paramsExpr) {\r\n  var ret = null;\r\n\r\n  if (obj.type === 'nj_plaintext') {\r\n    //替换插入在文本中的参数\r\n    ret = utils.replaceParams(obj.content[0], data, true, false, parent, false);\r\n\r\n    //执行模板数据\r\n    if (utils.isObject(ret) && ret.expr === 'tmpl') {\r\n      ret = transformContentToComponent(ret.content, data, parent);\r\n    }\r\n  }\r\n  else if (obj.type === 'nj_expr') {  //Expression block\r\n    var dataRefer = utils.getExprParam(obj.refer, data, parent, false),\r\n      hasElse = obj.hasElse,\r\n      expr = nj.exprs[obj.expr],\r\n      itemIsArray;\r\n\r\n    utils.throwIf(expr, errorTitle + 'Expression \"' + obj.expr + '\" is undefined, please check it has been registered.');\r\n\r\n    //Create expression's context object and set parameters\r\n    var thisObj = utils.lightObj();\r\n    thisObj.data = data;\r\n    if (parent) {\r\n      thisObj.parent = parent.parent;\r\n      thisObj.index = parent.index;\r\n    }\r\n    thisObj.useString = false;\r\n    thisObj.paramsExpr = paramsExpr;\r\n    thisObj.result = function (param) {\r\n      if (param && param.loop) {\r\n        if (itemIsArray == null) {\r\n          itemIsArray = utils.isArray(data);\r\n        }\r\n\r\n        //Create a parent data object\r\n        var _parent = utils.lightObj();\r\n        _parent.data = param.item;\r\n        _parent.parent = parent;\r\n        _parent.index = param.index;\r\n\r\n        return transformContentToComponent(obj.content, utils.getItemParam(param.item, data, itemIsArray), _parent, paramsExpr);\r\n      }\r\n      else {\r\n        return transformContentToComponent(obj.content, data, parent, paramsExpr);\r\n      }\r\n    };\r\n    thisObj.inverse = function () {\r\n      return hasElse ? transformContentToComponent(obj.contentElse, data, parent, paramsExpr) : null;\r\n    };\r\n\r\n    //Execute expression block\r\n    ret = expr.apply(thisObj, dataRefer);\r\n  }\r\n  else {\r\n    //如果有相应组件,则使用组件类作为type值\r\n    var componentClass = nj.componentClasses[obj.type.toLowerCase()],\r\n      type = componentClass ? componentClass : obj.type;\r\n\r\n    //If typeRefer isn't undefined,use it to replace the node type.\r\n    if (obj.typeRefer) {\r\n      var typeRefer = utils.replaceParams(obj.typeRefer, data, true, false, parent, false);\r\n      if (typeRefer) {\r\n        type = typeRefer;\r\n      }\r\n    }\r\n\r\n    //Make parameters from the parameters expression.\r\n    var exprP = obj.paramsExpr,\r\n      paramsE;\r\n    if (exprP) {\r\n      paramsE = utils.lightObj();\r\n      transformContentToComponent(exprP.content, data, parent, paramsE);\r\n    }\r\n\r\n    //Make React.createElement's parameters\r\n    var params = [type,                                                  //组件名\r\n      utils.transformParamsToObj(obj.params, data, parent, paramsE)],    //参数\r\n      content = transformContentToComponent(obj.content, data, parent);  //子组件\r\n    if (content) {\r\n      utils.listPush(params, content);\r\n    }\r\n\r\n    //调用创建组件接口,必须需要用apply以多个参数的形式传参,否则在react中,元素放在数组里时会报需要加key属性的警告\r\n    ret = nj.componentPort.apply(nj.componentLibObj, params);\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nmodule.exports = {\r\n  transformToComponent: transformToComponent,\r\n  transformContentToComponent: transformContentToComponent\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/compiler/transformToComponent.js\n ** module id = 20\n ** module chunks = 0\n **/","'use strict';\r\n\r\nvar nj = require('../core'),\r\n  tools = require('../utils/tools'),\r\n  tranElem = require('../transforms/transformElement'),\r\n  REGEX_SPLIT = /\\$\\{\\d+\\}/,\r\n  tmplRule = nj.tmplRule,\r\n  shim = require('../utils/shim');\r\n\r\n//Cache the string template by unique key\r\nnj.strTmpls = {};\r\n\r\n//Compile string template\r\nfunction compileStringTmpl(tmpl) {\r\n  var isStr = tools.isString(tmpl),\r\n    xmls = tmpl,\r\n    args = arguments,\r\n    splitNo = 0,\r\n    params = [],\r\n    fullXml = '';\r\n\r\n  if (isStr) {\r\n    xmls = tmpl.split(REGEX_SPLIT);\r\n  }\r\n\r\n  //Connection xml string\r\n  var l = xmls.length;\r\n  tools.each(xmls, function (xml, i) {\r\n    var split = '';\r\n    if (i < l - 1) {\r\n      var arg = args[i + 1],\r\n        last = xml.length - 1,\r\n        useShim = xml[last] === '@';\r\n\r\n      if (!tools.isString(arg) || useShim) {\r\n        split = '_nj-split' + splitNo + '_';\r\n\r\n        //Use the shim function to convert the parameter when the front of it with a \"@\" mark.\r\n        if (useShim) {\r\n          xml = xml.substr(0, last);\r\n          arg = shim(arg);\r\n        }\r\n\r\n        params.push(arg);\r\n        splitNo++;\r\n      }\r\n      else {\r\n        split = arg;\r\n      }\r\n    }\r\n\r\n    fullXml += xml + split;\r\n  }, false, true);\r\n\r\n  fullXml = _clearNotesAndBlank(fullXml);\r\n\r\n  //Get unique key\r\n  var tmplKey = tools.uniqueKey(fullXml + _paramsStr(params));\r\n\r\n  //If the cache already has template data, direct return the template.\r\n  var ret = nj.strTmpls[tmplKey];\r\n  if (ret) {\r\n    return ret;\r\n  }\r\n\r\n  //Resolve string to element\r\n  ret = _checkStringElem(fullXml, params);\r\n\r\n  //Set the properties for the template object\r\n  _setTmplProps(ret, tmplKey);\r\n\r\n  //Save to the cache\r\n  nj.strTmpls[tmplKey] = ret;\r\n\r\n  return ret;\r\n}\r\n\r\n//Resolve string to element\r\nfunction _checkStringElem(xml, params) {\r\n  var root = [],\r\n    current = {\r\n      elem: root,\r\n      elemName: 'root',\r\n      parent: null\r\n    },\r\n    parent = null,\r\n    pattern = tmplRule.checkElem(),\r\n    matchArr;\r\n\r\n  while ((matchArr = pattern.exec(xml))) {\r\n    var textBefore = matchArr[1],\r\n      elem = matchArr[2],\r\n      elemName = matchArr[3],\r\n      textAfter = matchArr[4];\r\n\r\n    //Text before tag\r\n    if (textBefore) {\r\n      if (/\\s/.test(textBefore[textBefore.length - 1])) {\r\n        textBefore = _formatText(textBefore);\r\n      }\r\n      _setText(textBefore, current.elem, params);\r\n    }\r\n\r\n    //Element tag\r\n    if (elem) {\r\n      if (elemName[0] === '/') {  //Close tag\r\n        if (elemName === '/' + current.elemName) {\r\n          current = current.parent;\r\n        }\r\n      }\r\n      else if (elem[elem.length - 2] === '/') {  //Self close tag\r\n        _setSelfCloseElem(elem, elemName, current.elem, params);\r\n      }\r\n      else {  //Open tag\r\n        parent = current;\r\n        current = {\r\n          elem: [],\r\n          elemName: elemName,\r\n          parent: parent\r\n        };\r\n\r\n        parent.elem.push(current.elem);\r\n        _setElem(elem, elemName, current.elem, params);\r\n      }\r\n    }\r\n\r\n    //Text after tag\r\n    if (textAfter) {\r\n      if (/\\s/.test(textAfter[0])) {\r\n        textAfter = _formatText(textAfter);\r\n      }\r\n      _setText(textAfter, current.elem, params);\r\n    }\r\n  }\r\n\r\n  return root;\r\n}\r\n\r\nfunction _clearNotesAndBlank(str) {\r\n  return str.replace(/<!--[\\s\\S]*?-->/g, '').replace(/>\\s+([^\\s<]*)\\s+</g, '>$1<').trim();\r\n}\r\n\r\nfunction _formatText(str) {\r\n  return str.replace(/\\n/g, '').trim();\r\n}\r\n\r\n//Merge parameters to string\r\nfunction _paramsStr(params) {\r\n  var str = '';\r\n  tools.each(params, function (p) {\r\n    if (tools.isArray(p)) {\r\n      str += '|' + _cascadeArr(p, true);\r\n    }\r\n    else {\r\n      str += '|' + JSON.stringify(p);\r\n    }\r\n  }, false, true);\r\n\r\n  return str;\r\n}\r\n\r\nfunction _cascadeArr(p, isArr) {\r\n  var str;\r\n  if (isArr || tools.isArray(p)) {\r\n    if (p.njKey != null) {\r\n      str = '+' + p.njKey;\r\n    }\r\n    else {\r\n      str = '';\r\n      for (var i = 0, l = p.length; i < l; i++) {\r\n        str += _cascadeArr(p[i]);\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    str = '+' + p;\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n//Set element node\r\nfunction _setElem(elem, elemName, elemArr, params, bySelfClose) {\r\n  var ret, paramsExpr;\r\n  if (elemName[0] === tmplRule.exprRule) {\r\n    ret = elem.substring(1, elem.length - 1);\r\n  }\r\n  else {\r\n    var retS = _getSplitParams(elem, params);\r\n    ret = retS.elem;\r\n    paramsExpr = retS.params;\r\n  }\r\n\r\n  if (bySelfClose) {\r\n    var retC = [ret];\r\n    if (paramsExpr) {\r\n      retC.push(paramsExpr);\r\n    }\r\n\r\n    elemArr.push(retC);\r\n  }\r\n  else {\r\n    elemArr.push(ret);\r\n    if (paramsExpr) {\r\n      elemArr.push(paramsExpr);\r\n    }\r\n  }\r\n}\r\n\r\n//Extract split parameters\r\nfunction _getSplitParams(elem, params) {\r\n  var exprRule = tmplRule.exprRule,\r\n    beginRule = tmplRule.beginRule,\r\n    endRule = tmplRule.endRule,\r\n    paramsExpr;\r\n\r\n  //Replace the parameter like \"prop=_nj-split0_\".\r\n  elem = elem.replace(/([^\\s={}>]+)=['\"]?_nj-split(\\d+)_['\"]?/g, function (all, key, no) {\r\n    if (!paramsExpr) {\r\n      paramsExpr = [exprRule + 'params'];\r\n    }\r\n\r\n    paramsExpr.push([exprRule + \"param \" + beginRule + \"'\" + key + \"'\" + endRule, params[no]]);\r\n    return '';\r\n  });\r\n\r\n  //Replace the parameter like \"{...props}\" and \"{prop}\".\r\n  elem = elem.replace(tmplRule.replaceBraceParam(), function (all, begin, prop) {\r\n    prop = prop.trim();\r\n    var propN = prop.replace(/\\.\\.\\//g, '');\r\n\r\n    if (propN.indexOf('...') === 0) {\r\n      if (!paramsExpr) {\r\n        paramsExpr = [exprRule + 'params'];\r\n      }\r\n\r\n      paramsExpr.push([exprRule + 'spreadParam ' + beginRule + prop.replace(/\\.\\.\\./g, '') + endRule + '/']);\r\n      return ' ';\r\n    }\r\n    else {\r\n      return ' ' + propN + '=' + all.trim();\r\n    }\r\n  });\r\n\r\n  return {\r\n    elem: elem,\r\n    params: paramsExpr\r\n  };\r\n}\r\n\r\n//Set self close element node\r\nfunction _setSelfCloseElem(elem, elemName, elemArr, params) {\r\n  if (elemName === tmplRule.exprRule + 'else') {\r\n    elemArr.push(elem.substr(1, 5));\r\n  }\r\n  else {\r\n    _setElem(elem, elemName, elemArr, params, true);\r\n  }\r\n}\r\n\r\n//Set text node\r\nfunction _setText(text, elemArr, params) {\r\n  var pattern = /_nj-split(\\d+)_/g, matchArr,\r\n    splitNos = [];\r\n\r\n  while ((matchArr = pattern.exec(text))) {\r\n    splitNos.push(matchArr[1]);\r\n  }\r\n\r\n  if (splitNos.length) {\r\n    tools.each(text.split(/_nj-split(?:\\d+)_/), function (t) {\r\n      if (t !== '') {\r\n        elemArr.push(t);\r\n      }\r\n\r\n      var no = splitNos.shift();\r\n      if (no != null) {\r\n        elemArr.push(params[no]);\r\n      }\r\n    }, false, true);\r\n  }\r\n  else {\r\n    elemArr.push(text);\r\n  }\r\n}\r\n\r\n//Set template props\r\nfunction _setTmplProps(tmpl, key) {\r\n  tmpl.njKey = key;\r\n\r\n  tmpl.render = function () {\r\n    return nj.compile(this, this.njKey).apply(null, arguments);\r\n  };\r\n\r\n  tmpl.renderComp = function () {\r\n    return nj.compileComponent(this, this.njKey).apply(null, arguments);\r\n  };\r\n}\r\n\r\nmodule.exports = compileStringTmpl;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/checkElem/checkStringElem.js\n ** module id = 21\n ** module chunks = 0\n **/","'use strict';\r\n\r\n//Converts any value to the parameter of NornJ template can be parsed.\r\nmodule.exports = function (obj) {\r\n  return {\r\n    _njShim: obj\r\n  };\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/shim.js\n ** module id = 22\n ** module chunks = 0\n **/","'use strict';\r\n\r\nmodule.exports = function (callback) {\r\n  var doc = document;\r\n  if (doc.addEventListener) {\r\n    doc.addEventListener(\"DOMContentLoaded\", callback, false);\r\n  }\r\n  else {\r\n    self.attachEvent(\"onload\", callback);\r\n  }\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils/docReady.js\n ** module id = 23\n ** module chunks = 0\n **/"],"sourceRoot":""}