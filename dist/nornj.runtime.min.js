/*!
* NornJ template engine v0.4.2-rc.33
* (c) 2016-2018 Joe_Sky
* Released under the MIT License.
*/
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.NornJ={})}(this,function(n){"use strict";function e(){return e["taggedTmpl"+(e.outputH?"H":"")].apply(null,arguments)}e.createElement=null,e.components={},e.preAsts={},e.asts={},e.templates={},e.errorTitle="[NornJ]",e.tmplRule={},e.outputH=!1,e.global="undefined"!=typeof self?self:global,e.textTag="nj-text",e.textMode=!1;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=Array.prototype.push,o=Array.prototype.slice,u=Object.prototype.hasOwnProperty,i=Object.prototype.toString,l=e.errorTitle,a=Object.defineProperties;function s(n,e){return r.apply(n,e),n}function f(n,e,t){return o.call(n,e,t)}function c(n){return Array.isArray(n)}function p(n){var e=void 0===n?"undefined":t(n);return!c(n)&&("function"===e||"object"===e&&!!n)}function v(n){return"[object Number]"===i.call(n)}function d(n){return"[object String]"===i.call(n)}var b,g=(b="length",function(n){return null==n?void 0:n[b]});function y(n){var e=g(n);return"number"==typeof e&&e>=0}function x(n,e,t,r){if(n)if(null==r&&(r=y(n)),t=t||n,r)for(var o=0,u=n.length;u>o;o++){if(!1===e.call(t,n[o],o,u))break}else for(var i=Object.keys(n),l=i.length,a=0;l>a;a++){var s=i[a];if(!1===e.call(t,n[s],s,a,l))break}}function h(){}function m(n,e,t){if(!n)switch(t){case"ex":throw Error(l+'Extension tag "'+e+'" is undefined, please check it has been registered.');default:throw Error(l+(e||n))}}function j(n){console.warn(l+n)}function P(n){return n.indexOf("-")>-1&&(n=n.replace(/-\w/g,function(n){return n.substr(1).toUpperCase()})),n}var w=Object.assign||function(n){for(var e=1,t=arguments;t.length>e;e++){var r=t[e];for(var o in r)u.call(r,o)&&(n[o]=r[o])}return n};function _(n,t){var r=n,o=void 0;return p(n)||((r={})[n]=t),x(r,function(n,t,r){e.components[t.toLowerCase()]=n,0==r&&(o=n)},!1,!1),o}w(e,{defineProp:Object.defineProperty,defineProps:a,arrayPush:s,arraySlice:f,isArray:c,isObject:p,isNumber:v,isString:d,isArrayLike:y,each:x,noop:h,throwIf:m,warn:j,obj:function(){return Object.create(null)},toCamelCase:P,assign:w});var O={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},S=/[&><"']/g;var E={nbsp:" ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lt:"<",gt:">",amp:"&",quot:'"',"#x27":"'"},k=RegExp("&("+Object.keys(E).join("|")+");","g");w(e,{escape:function(n){return null==n?"":n.replace?n.replace(S,function(n){return O[n]}):n},unescape:function(n){return null==n?"":n.replace?n.replace(k,function(n,e){return E[e]}):n}});var C=/^(-?([0-9]+[\.]?[0-9]+)|[0-9])$/;function G(n){if(p(n)||c(n)||v(n))return n;for(var e=/([^\s:]+)[\s]?:[\s]?([^;]+)[;]?/g,t=void 0,r=void 0;t=e.exec(n);){var o=t[1],u=t[2];r||(r={}),/^[A-Z-]+$/.test(o)&&(o=o.toLowerCase()),r[o=P(o)]=C.test(u)?+u:u}return r}function N(n,e,t){var r=void 0,o=void 0;e||(e=this.data);for(var u=0,i=e.length;i>u;u++)if((o=e[u])&&void 0!==(r=o[n]))return t?{ctx:o,val:r}:r}function A(n,e){return null!=n&&null!=e.level&&(n+=e.level),n}function H(n,e,t){return null==n?n:n.val._njTmpl?n.val.call({_njData:e.data,_njParent:e.parent,_njIndex:e.index,_njLevel:A(t,e),_njIcp:e.icp}):n.val.call(n.ctx,e)}function L(n,e,t,r,o){var u=void 0;return r.icp&&(u=N(t,r.icp))||(u=e.cp[n]),null!=o&&u&&(u=u[o]),u||n}function I(n,e,t,r,o){return null!=n?d(n)?L(n.toLowerCase(),t,r,o):n:L(e,t,r,o)}function T(n,e){return null!=n&&""!==n?n:e}function K(n,e){var t=n.args;if(t)for(var r=t.length;r--;)e.unshift(t[r])}function M(n,e){if(!e)return n;var t=[];return"data"in e&&t.push(e.data),"extra"in e&&t.push(e.extra),{data:t.length?s(t,n.data):n.data,parent:e.fallback?n:n.parent,root:n.root||n,index:"index"in e?e.index:n.index,level:n.level,getData:N,d:N,icp:n.icp}}function D(n,e){var t="";for(var r in n)if(!e||!e[r]){var o=n[r];t+=" "+r+(r!==o?'="'+o+'"':" ")}return t}function F(n,e,t,r,o){return function(u){return t(n,e,u,r,o)}}function R(n,e){return function(t,r){var o=f(arguments);return e(n,{data:this&&this._njData?s(o,this._njData):o,parent:this?this._njParent:null,index:this?this._njIndex:null,level:this?this._njLevel:null,getData:N,d:N,icp:function(n,e){var t=void 0;return n&&n.components&&(c(t=n.components)||(t=[t])),e&&e._njIcp&&(t=t?s(t,e._njIcp):e._njIcp),t}(t&&t._njParam?r:t,this)})}}function J(n){if(null==n.level)return"";for(var e="",t=0;n.level>t;t++)e+="  ";return e}function U(n){return null==n.index?"":0==n.index?"":"\n"}function q(n){return e.createElement.apply(null,n)}var z={if:function(n,e){"false"===n&&(n=!1);var t=void 0;if(e.useUnless?!n:!!n)t=e.result();else{var r=e.props;if(r){var o=r.else;if(r.elseifs){var u=r.elseifs.length;x(r.elseifs,function(n,e){if(n.value)return t=n.fn(),!1;e===u-1&&o&&(t=o())},!1,!0)}else o&&(t=o())}}return e.useString&&null==t?"":t},else:function(n){return n.subExProps.else=n.result},elseif:function(n,e){var t=e.subExProps;t.elseifs||(t.elseifs=[]),t.elseifs.push({value:n,fn:e.result})},switch:function(n,e){var t=void 0,r=e.props,o=r.elseifs.length;return x(r.elseifs,function(e,u){if(n===e.value)return t=e.fn(),!1;u===o-1&&r.else&&(t=r.else())},!1,!0),t},unless:function(n,e){return e.useUnless=!0,z.if(n,e)},each:function(n,e){var t=e.useString,r=e.props,o=void 0;if(n){o=t?"":[];var u=y(n);x(n,function(n,i,l,a){var s={data:n,index:u?i:l,fallback:!0};if(r&&r.moreValues){var f=u?l:a;s.extra={"@first":0===s.index,"@last":s.index===f-1,"@length":f}}u||(s.extra||(s.extra={}),s.extra["@key"]=i);var c=e.result(s);t?o+=c:o.push(c)},!1,u),t||o.length||(o=null),o&&o.length||!r||!r.else||(o=r.else())}else r&&r.else&&(o=r.else()),t&&null==o&&(o="");return o},prop:function(n,e){var t=e.result(),r=void 0;r=void 0!==t?t:!e.useString||n,e.exProps[e.outputH?function(n){switch(n){case"class":n="className";break;case"for":n="htmlFor"}return n}(n):n]=r},spread:function(n,e){x(n,function(n,t){e.exProps[t]=n},!1,!1)},show:function(n){n.result()||(n.exProps.style=n.useString?"display:none":{display:"none"})},for:function(n,e,t){e._njOpts&&(t=e,e=n,n=0);var r=void 0,o=t.useString,u=t.props,i=u&&u.loopLast;for(r=o?"":[];e>=n&&(i||n!==e);n++){var l=t.result({index:n,fallback:!0});o?r+=l:r.push(l)}return r},obj:function(n){return n.props},list:function(){var n=arguments,e=n.length-1,t=n[e];if(e>0){var r=f(n,0,e);return t.useString&&(r=r.join("")),r}return[t.result()]},fn:function(n){var e=n.props;return function(){var t=arguments,r=void 0;if(e){r={};var o=Object.keys(e);o.forEach(function(n,e){return r[o[e]]=t[e]})}return n.result({data:r})}},block:function(n){return n.result()},pre:function(n){return z.block(n)},with:function(n,e){var t,r,o,u=e.props;return e.result({data:u&&u.as?(t={},r=u.as,o=n,r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t):n})},arg:function(n){var e=n.exProps;e.args||(e.args=[]),e.args.push(n.result())},once:function(n){var e=n.context.root||n.context,t="_njOnceCache_"+n._njFnsNo,r=e[t];return void 0===r&&(r=e[t]=n.result()),r}};function V(n){var e={onlyGlobal:!1,useString:!1,newContext:!0,exProps:!1,isProp:!1,subExProps:!1,isSub:!1};return n&&(e=w(e,n)),e}var $={onlyGlobal:!0,newContext:!1},Z={if:V($),else:V({onlyGlobal:!0,newContext:!1,subExProps:!0,isSub:!0}),switch:V($),unless:V($),each:V({onlyGlobal:!0}),prop:V({onlyGlobal:!0,newContext:!1,exProps:!0,subExProps:!0,isProp:!0}),spread:V({onlyGlobal:!0,newContext:!1,exProps:!0,subExProps:!0,isProp:!0}),obj:V({onlyGlobal:!0,newContext:!1}),list:V($),fn:V({onlyGlobal:!0}),with:V({onlyGlobal:!0})};function B(n,e,t){var r=n;p(n)||((r={})[n]={extension:e,options:t}),x(r,function(n,e){if(n){var t=n.extension,r=n.options;z[e]=t||n,Z[e]=V(r)}},!1,!1)}Z.elseif=V(Z.else),Z.for=V(Z.each),Z.block=V(Z.obj),Z.pre=V(Z.obj),Z.arg=V(Z.prop),Z.once=V(Z.obj),Z.show=V(Z.prop),z.case=z.elseif,Z.case=Z.elseif,z.empty=z.default=z.else,Z.empty=Z.default=Z.else,z.strProp=z.prop,Z.strProp=w(V(Z.prop),{useString:!0}),z.strArg=z.arg,Z.strArg=V(Z.strProp),w(e,{extensions:z,extensionConfig:Z,registerExtension:B});var Q={".":function(n,e){return null==n?n:n[e]},_:function(n){if(null==n)return n;var e=arguments;return n.apply(e[e.length-1].lastValue,f(e,1,e.length-1))},"#":function(n,e,t){return null==n?n:H({val:n[e],ctx:n},t.context,t.level)},"==":function(n,e){return n==e},"===":function(n,e){return n===e},"!=":function(n,e){return n!=e},"!==":function(n,e){return n!==e},"<":function(n,e){return e>n},"<=":function(n,e){return e>=n},">":function(n,e){return n>e},">=":function(n,e){return n>=e},"+":function(n,e){return n+e},"-":function(n,e){return n-e},"*":function(n,e){return n*e},"/":function(n,e){return n/e},"%":function(n,e){return n%e},"**":function(n,e){return Math.pow(n,e)},"//":function(n,e){return Math.floor(n/e)},"?":function(n,e,t){return n?e:t},"!":function(n){return!n},"&&":function(n,e){return n&&e},or:function(n,e){return n||e},int:function(n){return parseInt(n,10)},float:function(n){return parseFloat(n)},bool:function(n){return"false"!==n&&!!n},obj:function(){var n={};return x(arguments,function(e,t){n[e.key]=e.val},!1,!0),n},":":function(n,e){return{key:n,val:e}},list:function(){var n=arguments;return 0===n.length?[]:f(n,0,n.length)},reg:function(n,e){return RegExp(n,e)},css:function(n){return G(n)},"..":W(1),rLt:W(0),"<=>":function(n,e){return n>e?1:n==e?0:-1}};function W(n){return function(e,t){return Object.keys(Array.apply(null,{length:t-e+n})).map(function(n){return+n+e})}}function X(n){var e={onlyGlobal:!1,hasOptions:!0};return n&&(e=w(e,n)),e}var Y={onlyGlobal:!0,hasOptions:!1},nn={".":X(Y),_:X({onlyGlobal:!0}),"#":X({onlyGlobal:!0}),"==":X(Y),"===":X(Y),"!=":X(Y),"!==":X(Y),"<":X(Y),"<=":X(Y),">":X(Y),">=":X(Y),"+":X(Y),"-":X(Y),"*":X(Y),"/":X(Y),"%":X(Y),"**":X(Y),"//":X(Y),"?":X(Y),"!":X(Y),"&&":X(Y),or:X(Y),int:X(Y),float:X(Y),bool:X(Y),obj:X(Y),":":X(Y),list:X(Y),reg:X(Y),css:X(Y),"..":X(Y),rLt:X(Y),"<=>":X(Y)};function en(n,e,t){var r=n;p(n)||((r={})[n]={filter:e,options:t}),x(r,function(n,e){if(n){var t=n.filter,r=n.options;Q[e]=t||n,nn[e]=X(r)}},!1,!1)}function tn(n){return function(n,t,r,o,u){if(n){if(p(t)){var i=t;t=i.tmplKey,i.fileName,i.delimiters,i.tmplRule}var l=void 0;if(t&&(l=e.templates[t]),!l){var s=void 0;p(n)&&n.main&&(s=n),l=function(n){var t={us:n.useString,x:e.extensions,f:e.filters,np:h,tf:m,wn:j,n:M,c:H,sp:G,r:F,e:L,er:I,en:T,aa:K,an:w,g:e.global,l:A};return t.us?(t.ans=D,t.es=e.escape,t.ls=J,t.fl=U):(t.h=e.createElement,t.H=q,t.cp=e.components),x(n,function(n,e){0===e.indexOf("main")?(t[e]=R(t,n),a(t[e],{_njTmpl:{value:!0},tmplName:{value:n._njName}}),t["_"+e]=n):0===e.indexOf("fn")&&(t[e]=n)},!1,!1),t}(s),t&&(e.templates[t]=l)}return l.main}}}Q.prop=Q["."],nn.prop=nn["."],w(e,{filters:Q,filterConfig:nn,registerFilter:en});var rn=tn(),on=tn();function un(n){return function(e,t){return(n?on:rn)(e,t?{tmplKey:t.tmplKey?t.tmplKey:e._njTmplKey,fileName:t.fileName,delimiters:t.delimiters}:e._njTmplKey).apply(null,f(arguments,1))}}var ln=un(),an=un(!0);w(e,{compile:rn,compileH:on,render:ln,renderH:an}),w(e,{registerComponent:_,config:function(n){var t=n.includeParser,r=n.createElement,o=n.outputH,u=n.textMode;t&&(e.includeParser=t),r&&(e.createElement=r),null!=o&&(e.outputH=o),null!=u&&(e.textMode=u)}});var sn=e.global;sn.NornJ=sn.nj=e,n.registerComponent=_,n.default=e,n.registerExtension=B,n.registerFilter=en,n.compile=rn,n.compileH=on,n.render=ln,n.renderH=an,Object.defineProperty(n,"__esModule",{value:!0})});
