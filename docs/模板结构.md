# 模板结构

NornJ模板目前分为两种形式：
* 构建在js内的模板
* 构建在html内的模板

### 构建在js内的模板
* * *

结构例如:
```js
['slider',
    'this the test slider {msg}.',
    ['<sliderItem onsliderend={event} />', { id: 'test' }],
'/slider'];
```

##### 用途

主要用于在js中创建模板，可以使用js的数组api等进行任意组合，并可以作为js对象以commonjs等方式对外输出。

##### 构成原理
例如构建一个元素节点slider：

```js
['slider name=test',  //"slider"为开始标签(1)
    { id: 'test' },  //节点参数(2)
    /*子节点开始(3)*/
    'this the test slider {msg}.',  //文本节点(4)
    ['<sliderItem onsliderend={event} />'],  //元素节点(5)
    /*子节点结束*/
'/slider'];  //"/slider"为结束标签(6)
```
* 元素节点

1. 每个元素节点使用一个js数组表示。数组第一项为一个字符串，格式为节点名称(也可以包含在尖括号中)。在名称后也可添加参数，如例中(1)处所示；
2. 元素节点数组的第二项可以是一个js对象，以键值对的方式表示该节点的参数，如例中(2)处所示；
3. 元素节点数组的最后一项可以是一个结束标签，格式为“/” + 节点名称(也可以包含在尖括号中)，如例中(6)处所示。结束标签也可以省略不写，但是有一些限制。如以下3种形式的写法都是合规的：
```js
['div', 'test', '/div']  //如果开始标签不写为尖括号的形式，则结束标签"/div"不可省略
['<div>', 'test', '</div>']
['<div>', 'test']  //开始标签写为尖括号的形式，则可以省略结束标签
```

* 文本节点

文本节点使用一个字符串表示，如例中(4)处所示。

* 子节点

1. 每个元素节点数组的开始标签(如第2个元素为对象则为节点参数)和结束标签之间的所有元素都会被视为子节点元素。如例中(3)处所示，(4)和(5)都为slider标签的子节点。
2. 也可以将多个子元素节点放在1个数组中，如下所示：
```js
['<div>',
    'test1',
    [  //将多个节点放入1个数组中作为子节点
        'test2',
        ['<span id=span1>'],
        ['<span id=span1>']
    ],
'</div>']
```

##### 模板替换参数



### 构建在html内的模板
* * *

结构例如:
```html
<nj:slider>
    'this the test slider {msg}.'
    <nj:sliderItem id='test' onsliderend={event} />
</nj:slider>
```

##### 用途

主要配合React框架使用，用于替代React.render方法，使React开发的组件拥有html api直接嵌入到html中展示。
